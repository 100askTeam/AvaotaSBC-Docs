"use strict";(self.webpackChunkavaota_docs=self.webpackChunkavaota_docs||[]).push([[6665],{63695:(n,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>d,default:()=>a,frontMatter:()=>s,metadata:()=>l,toc:()=>_});var e=r(85893),i=r(11151);const s={},d="MIPI CSI - \u89c6\u9891\u8f93\u5165",l={id:"linux-manual/sdk-develop/bsp-driver/mipi-csi",title:"MIPI CSI - \u89c6\u9891\u8f93\u5165",description:"1. \u89c6\u9891\u8f93\u5165\u7ec4\u6210\uff1a",source:"@site/docs/linux-manual/sdk-develop/bsp-driver/mipi-csi.md",sourceDirName:"linux-manual/sdk-develop/bsp-driver",slug:"/linux-manual/sdk-develop/bsp-driver/mipi-csi",permalink:"/linux-manual/sdk-develop/bsp-driver/mipi-csi",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"linuxManualSidebar",previous:{title:"LEDC - \u53d1\u5149\u4e8c\u6781\u7ba1\u63a7\u5236\u5668",permalink:"/linux-manual/sdk-develop/bsp-driver/ledc"},next:{title:"PCIe - PCI Express",permalink:"/linux-manual/sdk-develop/bsp-driver/pcie"}},c={},_=[{value:"\u6a21\u5757\u6846\u67b6",id:"\u6a21\u5757\u6846\u67b6",level:2},{value:"Kernel\u5c42",id:"kernel\u5c42",level:3},{value:"Video Input Framework\u5c42",id:"video-input-framework\u5c42",level:3},{value:"Device Driver\u5c42",id:"device-driver\u5c42",level:3},{value:"\u6a21\u5757\u914d\u7f6e",id:"\u6a21\u5757\u914d\u7f6e",level:2},{value:"\u9a71\u52a8\u914d\u7f6e",id:"\u9a71\u52a8\u914d\u7f6e",level:3},{value:"Linux \u5185\u6838\u6a21\u5757\u914d\u7f6e",id:"linux-\u5185\u6838\u6a21\u5757\u914d\u7f6e",level:4},{value:"VIN \u6a21\u5757\u914d\u7f6e",id:"vin-\u6a21\u5757\u914d\u7f6e",level:4},{value:"\u8bbe\u5907\u6811\u914d\u7f6e",id:"\u8bbe\u5907\u6811\u914d\u7f6e",level:2},{value:"\u6a21\u5757\u9a71\u52a8",id:"\u6a21\u5757\u9a71\u52a8",level:2},{value:"V4L2\u63a5\u53e3\u63cf\u8ff0",id:"v4l2\u63a5\u53e3\u63cf\u8ff0",level:2},{value:"VIDIOC_QUERYCAP",id:"vidioc_querycap",level:3},{value:"\u53c2\u6570",id:"\u53c2\u6570",level:4},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c",level:4},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0",level:4},{value:"VIDIOC_ENUM_INPUT",id:"vidioc_enum_input",level:3},{value:"\u53c2\u6570",id:"\u53c2\u6570-1",level:4},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c-1",level:4},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0-1",level:4},{value:"VIDIOC_S_INPUT",id:"vidioc_s_input",level:3},{value:"\u53c2\u6570",id:"\u53c2\u6570-2",level:4},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c-2",level:4},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0-2",level:4},{value:"VIDIOC_G_INPUT",id:"vidioc_g_input",level:3},{value:"\u53c2\u6570",id:"\u53c2\u6570-3",level:4},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c-3",level:4},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0-3",level:4},{value:"VIDIOC_S_PARM",id:"vidioc_s_parm",level:3},{value:"\u53c2\u6570",id:"\u53c2\u6570-4",level:4},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c-4",level:4},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0-4",level:4},{value:"VIDIOC_G_PARM",id:"vidioc_g_parm",level:3},{value:"\u53c2\u6570",id:"\u53c2\u6570-5",level:4},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c-5",level:4},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0-5",level:4},{value:"VIDIOC_ENUM_FMT",id:"vidioc_enum_fmt",level:3},{value:"\u53c2\u6570",id:"\u53c2\u6570-6",level:4},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c-6",level:4},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0-6",level:4},{value:"VIDIOC_TRY_FMT",id:"vidioc_try_fmt",level:3},{value:"\u53c2\u6570",id:"\u53c2\u6570-7",level:4},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c-7",level:4},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0-7",level:4},{value:"VIDIOC_S_FMT",id:"vidioc_s_fmt",level:3},{value:"\u53c2\u6570",id:"\u53c2\u6570-8",level:4},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c-8",level:4},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0-8",level:4},{value:"VIDIOC_G_FMT",id:"vidioc_g_fmt",level:3},{value:"\u53c2\u6570",id:"\u53c2\u6570-9",level:4},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c-9",level:4},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0-9",level:4},{value:"VIDIOC_OVERLAY",id:"vidioc_overlay",level:3},{value:"\u53c2\u6570",id:"\u53c2\u6570-10",level:4},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c-10",level:4},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0-10",level:4},{value:"VIDIOC_REQBUFS",id:"vidioc_reqbufs",level:3},{value:"\u53c2\u6570",id:"\u53c2\u6570-11",level:4},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c-11",level:4},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0-11",level:4},{value:"VIDIOC_QUERYBUF",id:"vidioc_querybuf",level:3},{value:"\u53c2\u6570",id:"\u53c2\u6570-12",level:4},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c-12",level:4},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0-12",level:4},{value:"VIDIOC_DQBUF",id:"vidioc_dqbuf",level:3},{value:"\u53c2\u6570",id:"\u53c2\u6570-13",level:4},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c-13",level:4},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0-13",level:4},{value:"VIDIOC_QBUF",id:"vidioc_qbuf",level:3},{value:"\u53c2\u6570",id:"\u53c2\u6570-14",level:4},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c-14",level:4},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0-14",level:4},{value:"VIDIOC_STREAMON",id:"vidioc_streamon",level:3},{value:"\u53c2\u6570",id:"\u53c2\u6570-15",level:4},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c-15",level:4},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0-15",level:4},{value:"VIDIOC_STREAMOFF",id:"vidioc_streamoff",level:3},{value:"\u53c2\u6570",id:"\u53c2\u6570-16",level:4},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c-16",level:4},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0-16",level:4},{value:"VIDIOC_QUERYCTRL",id:"vidioc_queryctrl",level:3},{value:"\u53c2\u6570",id:"\u53c2\u6570-17",level:4},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c-17",level:4},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0-17",level:4},{value:"VIDIOC_S_CTRL",id:"vidioc_s_ctrl",level:3},{value:"\u53c2\u6570",id:"\u53c2\u6570-18",level:4},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c-18",level:4},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0-18",level:4},{value:"VIDIOC_G_CTRL",id:"vidioc_g_ctrl",level:3},{value:"\u53c2\u6570",id:"\u53c2\u6570-19",level:4},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c-19",level:4},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0-19",level:4},{value:"VIDIOC_ENUM_FRAMESIZES",id:"vidioc_enum_framesizes",level:3},{value:"\u53c2\u6570",id:"\u53c2\u6570-20",level:4},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c-20",level:4},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0-20",level:4},{value:"VIDIOC_ENUM_FRAMEINTERVALS",id:"vidioc_enum_frameintervals",level:3},{value:"\u53c2\u6570",id:"\u53c2\u6570-21",level:4},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c-21",level:4},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0-21",level:4},{value:"VIDIOC_ISP_EXIF_REQ",id:"vidioc_isp_exif_req",level:3},{value:"\u4f7f\u7528\u793a\u4f8b\uff1a",id:"\u4f7f\u7528\u793a\u4f8b",level:4},{value:"\u6ce8\u610f\u4e8b\u9879\uff1a",id:"\u6ce8\u610f\u4e8b\u9879",level:4},{value:"\u8fd4\u56de\u503c\u8bf4\u660e\uff1a",id:"\u8fd4\u56de\u503c\u8bf4\u660e",level:4},{value:"\u6a21\u5757 DEMO",id:"\u6a21\u5757-demo",level:2},{value:"\u6a21\u5757\u8c03\u8bd5",id:"\u6a21\u5757\u8c03\u8bd5",level:2},{value:"\u4fe1\u606f\u8282\u70b9",id:"\u4fe1\u606f\u8282\u70b9",level:3},{value:"Settle Time \u8c03\u6574\u65b9\u6cd5",id:"settle-time-\u8c03\u6574\u65b9\u6cd5",level:3},{value:"\u65b9\u5f0f\u4e00\uff1a\u5728 Sensor \u9a71\u52a8\u4e2d\u4fee\u6539",id:"\u65b9\u5f0f\u4e00\u5728-sensor-\u9a71\u52a8\u4e2d\u4fee\u6539",level:4},{value:"\u65b9\u5f0f\u4e8c\uff1a\u901a\u8fc7 MIPI \u5b50\u8bbe\u5907\u7684 Settle Time \u8282\u70b9\u5728\u7ebf\u8fdb\u884c\u4fee\u6539",id:"\u65b9\u5f0f\u4e8c\u901a\u8fc7-mipi-\u5b50\u8bbe\u5907\u7684-settle-time-\u8282\u70b9\u5728\u7ebf\u8fdb\u884c\u4fee\u6539",level:4},{value:"\u8c03\u6574\u7b56\u7565",id:"\u8c03\u6574\u7b56\u7565",level:4},{value:"Deskew\uff08\u6570\u636e\u65f6\u5e8f\u6821\u51c6\uff09\u8c03\u6574\u65b9\u6cd5",id:"deskew\u6570\u636e\u65f6\u5e8f\u6821\u51c6\u8c03\u6574\u65b9\u6cd5",level:3},{value:"\u65b9\u6cd5\u4e00\uff1a\u5728 <code>vin-mipi/combo_csi/combo_csi_reg.c</code> \u4e2d\u4fee\u6539",id:"\u65b9\u6cd5\u4e00\u5728-vin-mipicombo_csicombo_csi_regc-\u4e2d\u4fee\u6539",level:4},{value:"\u65b9\u6cd5\u4e8c\uff1a\u901a\u8fc7\u76f4\u63a5\u8bbe\u7f6e\u5bc4\u5b58\u5668\u8fdb\u884c\u4fee\u6539",id:"\u65b9\u6cd5\u4e8c\u901a\u8fc7\u76f4\u63a5\u8bbe\u7f6e\u5bc4\u5b58\u5668\u8fdb\u884c\u4fee\u6539",level:4},{value:"\u8c03\u6574\u7b56\u7565",id:"\u8c03\u6574\u7b56\u7565-1",level:4},{value:"\u89c2\u6d4b SOC \u4e3b\u63a7\u63a5\u6536\u6570\u636e\u4fe1\u53f7\u72b6\u6001\u65b9\u6cd5",id:"\u89c2\u6d4b-soc-\u4e3b\u63a7\u63a5\u6536\u6570\u636e\u4fe1\u53f7\u72b6\u6001\u65b9\u6cd5",level:3},{value:"MIPI",id:"mipi",level:4},{value:"\u5e76\u53e3",id:"\u5e76\u53e3",level:4},{value:"FAQ",id:"faq",level:2},{value:"TWI \u4e0d\u901a\uff0c\u627e\u4e0d\u5230\u6444\u50cf\u5934",id:"twi-\u4e0d\u901a\u627e\u4e0d\u5230\u6444\u50cf\u5934",level:3},{value:"1. \u68c0\u67e5 DTS \u914d\u7f6e\uff1a",id:"1-\u68c0\u67e5-dts-\u914d\u7f6e",level:4},{value:"2. \u786e\u8ba4 Sensor \u9a71\u52a8\u914d\u7f6e\uff1a",id:"2-\u786e\u8ba4-sensor-\u9a71\u52a8\u914d\u7f6e",level:4},{value:"3. \u786c\u4ef6\u68c0\u67e5\uff1a",id:"3-\u786c\u4ef6\u68c0\u67e5",level:4},{value:"4. \u5176\u4ed6\u8003\u8651\uff1a",id:"4-\u5176\u4ed6\u8003\u8651",level:4},{value:"Sensor \u4e0d\u51fa\u56fe",id:"sensor-\u4e0d\u51fa\u56fe",level:3},{value:"DTS\u914d\u7f6e",id:"dts\u914d\u7f6e",level:4},{value:"Sensor\u9a71\u52a8\u68c0\u67e5",id:"sensor\u9a71\u52a8\u68c0\u67e5",level:4},{value:"MIPI \u68c0\u67e5",id:"mipi-\u68c0\u67e5",level:4},{value:"Parser \u68c0\u67e5",id:"parser-\u68c0\u67e5",level:4},{value:"\u5176\u4ed6",id:"\u5176\u4ed6",level:4},{value:"\u5df2\u51fa\u56fe\u4f46\u753b\u9762\u662f\u7eff\u8272\u6216\u8005\u7c89\u7ea2\u8272",id:"\u5df2\u51fa\u56fe\u4f46\u753b\u9762\u662f\u7eff\u8272\u6216\u8005\u7c89\u7ea2\u8272",level:3},{value:"TWI \u5df2\u901a\uff0c\u4f46\u662f\u8bfb\u6240\u6709Sensor\u5bc4\u5b58\u5668\u503c\u90fd\u4e3a0",id:"twi-\u5df2\u901a\u4f46\u662f\u8bfb\u6240\u6709sensor\u5bc4\u5b58\u5668\u503c\u90fd\u4e3a0",level:3},{value:"\u753b\u9762\u65cb\u8f6c180\u5ea6",id:"\u753b\u9762\u65cb\u8f6c180\u5ea6",level:3}];function o(n){const t={blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.a)(),...n.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(t.h1,{id:"mipi-csi---\u89c6\u9891\u8f93\u5165",children:"MIPI CSI - \u89c6\u9891\u8f93\u5165"}),"\n",(0,e.jsxs)(t.ol,{children:["\n",(0,e.jsxs)(t.li,{children:["\n",(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.strong,{children:"\u89c6\u9891\u8f93\u5165\u7ec4\u6210"}),"\uff1a"]}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.strong,{children:"\u63a5\u53e3\u90e8\u5206\uff08CSI/MIPI\uff09\uff1a"})," \u8d1f\u8d23\u4ece\u56fe\u50cf\u4f20\u611f\u5668\u4e2d\u63a5\u6536\u89c6\u9891\u6570\u636e\uff0c\u5e76\u5c06\u5176\u4f20\u8f93\u5230\u540e\u7eed\u5904\u7406\u5355\u5143\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.strong,{children:"\u56fe\u50cf\u5904\u7406\u5355\u5143\uff08ISP/VIPP\uff09\uff1a"})," \u5bf9\u63a5\u6536\u5230\u7684\u89c6\u9891\u6570\u636e\u8fdb\u884c\u5904\u7406\u548c\u52a0\u5de5\u3002"]}),"\n"]}),"\n"]}),"\n",(0,e.jsxs)(t.li,{children:["\n",(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.strong,{children:"CSI/MIPI\u90e8\u5206\u529f\u80fd"}),"\uff1a"]}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsx)(t.li,{children:"\u4e3b\u8981\u7528\u4e8e\u89c6\u9891\u6570\u636e\u7684\u6355\u6349\uff0c\u5373\u4ece\u56fe\u50cf\u4f20\u611f\u5668\u83b7\u53d6\u539f\u59cb\u56fe\u50cf\u6570\u636e\u5e76\u4f20\u8f93\u5230\u540e\u7eed\u5904\u7406\u5355\u5143\u3002"}),"\n"]}),"\n"]}),"\n",(0,e.jsxs)(t.li,{children:["\n",(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.strong,{children:"ISP\u529f\u80fd"}),"\uff1a"]}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsxs)(t.li,{children:["\u5904\u7406sensor raw data\u6570\u636e\uff0c\u5305\u62ec\uff1a","\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.strong,{children:"\u955c\u5934\u8865\u507f\uff08lens compensation\uff09"}),"\uff1a\u5bf9\u56fe\u50cf\u8fdb\u884c\u4fee\u6b63\uff0c\u4ee5\u6d88\u9664\u7531\u4e8e\u955c\u5934\u7578\u53d8\u5f15\u8d77\u7684\u5931\u771f\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.strong,{children:"\u574f\u70b9\u4fee\u590d\uff08bad pixel correction\uff09"}),"\uff1a\u8bc6\u522b\u5e76\u4fee\u590d\u4f20\u611f\u5668\u4e2d\u53ef\u80fd\u5b58\u5728\u7684\u574f\u70b9\u6216\u7455\u75b5\u50cf\u7d20\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.strong,{children:"\u589e\u76ca\uff08gain\uff09\u548c\u4f3d\u9a6c\u6821\u6b63\uff08gamma correction\uff09"}),"\uff1a\u8c03\u6574\u56fe\u50cf\u7684\u4eae\u5ea6\u548c\u5bf9\u6bd4\u5ea6\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.strong,{children:"\u53bb\u9a6c\u8d5b\u514b\uff08de-mosaic\uff09"}),"\uff1a\u5c06\u5355\u8272\u4f20\u611f\u5668\u91c7\u96c6\u7684\u6570\u636e\u8f6c\u6362\u4e3a\u5f69\u8272\u56fe\u50cf\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.strong,{children:"\u53bb\u566a\uff08de-noise\uff09"}),"\uff1a\u6d88\u9664\u56fe\u50cf\u4e2d\u7684\u566a\u58f0\uff0c\u63d0\u9ad8\u56fe\u50cf\u8d28\u91cf\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.strong,{children:"\u8272\u5f69\u77e9\u9635\uff08color matrix\uff09\u7b49\u6821\u6b63"}),"\uff1a\u6821\u6b63\u56fe\u50cf\u7684\u8272\u5f69\u504f\u5dee\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,e.jsxs)(t.li,{children:["\n",(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.strong,{children:"VIPP\u529f\u80fd"}),"\uff1a"]}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsx)(t.li,{children:"\u53ef\u4ee5\u5bf9\u56fe\u50cf\u8fdb\u884c\u7f29\u5c0f\u548c\u6253\u6c34\u5370\u5904\u7406\u3002"}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.strong,{children:"\u7f29\u5c0f\uff08downscaling\uff09"}),"\uff1a\u964d\u4f4e\u56fe\u50cf\u5206\u8fa8\u7387\uff0c\u4ee5\u9002\u5e94\u7279\u5b9a\u663e\u793a\u6216\u5b58\u50a8\u8981\u6c42\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.strong,{children:"\u6c34\u5370\u5904\u7406\uff08watermarking\uff09"}),"\uff1a\u5728\u56fe\u50cf\u4e0a\u6dfb\u52a0\u6807\u8bc6\u3001\u6587\u5b57\u6216\u56fe\u5f62\u7b49\u4fe1\u606f\u3002"]}),"\n",(0,e.jsx)(t.li,{children:"\u652f\u6301\u5bf9bayer raw data\u7ecf\u8fc7ISP\u5904\u7406\u540e\u518d\u8fdb\u884c\u7f29\u5c0f\uff0c\u4e5f\u652f\u6301\u5bf9\u4e00\u822c\u7684YUV\u683c\u5f0f\u7684sensor\u56fe\u50cf\u76f4\u63a5\u8fdb\u884c\u7f29\u5c0f\u5904\u7406\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,e.jsx)(t.h2,{id:"\u6a21\u5757\u6846\u67b6",children:"\u6a21\u5757\u6846\u67b6"}),"\n",(0,e.jsx)(t.p,{children:(0,e.jsx)(t.img,{alt:"image-20240330151024810",src:r(68868).Z+"",width:"1142",height:"715"})}),"\n",(0,e.jsx)(t.p,{children:"V\u9a71\u52a8\u53ef\u4ee5\u5206\u4e3aKernel\u5c42\u3001Video Input Framework\u3001Device Driver\u5c42\u3002"}),"\n",(0,e.jsx)(t.p,{children:"\u8fd9\u662f\u6709\u5173\u5d4c\u5165\u5f0f Linux \u5185\u6838\u89c6\u9891\u9a71\u52a8\u5c42\u3001Video Input Framework \u5c42\u548c\u8bbe\u5907\u9a71\u52a8\u5c42\u7684\u63cf\u8ff0\u3002\u4ee5\u4e0b\u662f\u9488\u5bf9\u8fd9\u4e9b\u5185\u5bb9\u7684\u4e00\u4e9b\u7b80\u8981\u89e3\u91ca\uff1a"}),"\n",(0,e.jsx)(t.h3,{id:"kernel\u5c42",children:"Kernel\u5c42"}),"\n",(0,e.jsxs)(t.ol,{children:["\n",(0,e.jsx)(t.li,{children:"Linux\u5185\u6838\u89c6\u9891\u9a71\u52a8\u7b2c\u4e8c\u7248(Video for Linux Two)\u662f\u7528\u4e8e\u5d4c\u5165\u5f0f Linux \u7cfb\u7edf\u7684\u89c6\u9891\u8bbe\u5907\u9a71\u52a8\u6846\u67b6\u3002"}),"\n",(0,e.jsx)(t.li,{children:"\u8be5\u6846\u67b6\u9002\u7528\u4e8e\u7ba1\u7406\u6536\u97f3\u673a\u3001\u89c6\u9891\u7f16\u89e3\u7801\u3001\u89c6\u9891\u6355\u83b7\u4ee5\u53ca\u89c6\u9891\u8f93\u51fa\u8bbe\u5907\u7684\u9a71\u52a8\u3002"}),"\n",(0,e.jsx)(t.li,{children:"\u901a\u8fc7\u63d0\u4f9b/dev/videoX\u8282\u70b9\uff0c\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u5bf9\u89c6\u9891\u6d41\u548c\u8bbe\u5907\u8fdb\u884c\u63a7\u5236\u64cd\u4f5c\u3002"}),"\n",(0,e.jsx)(t.li,{children:"Media Device Framework\u662f\u7528\u4e8e\u591a\u5a92\u4f53\u8bbe\u5907\u7684\u7ba1\u7406\u6846\u67b6\u3002"}),"\n",(0,e.jsx)(t.li,{children:"\u8be5\u6846\u67b6\u7528\u4e8e\u7ba1\u7406\u8bbe\u5907\u62d3\u6251\u7ed3\u6784\uff0c\u5e76\u63d0\u4f9b/dev/mediaX\u8282\u70b9\uff0c\u4ee5\u4fbf\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u83b7\u53d6\u5a92\u4f53\u8bbe\u5907\u62d3\u6251\u7ed3\u6784\uff0c\u5e76\u901a\u8fc7 API \u63a7\u5236\u5b50\u8bbe\u5907\u95f4\u7684\u6570\u636e\u6d41\u5411\u3002"}),"\n"]}),"\n",(0,e.jsx)(t.h3,{id:"video-input-framework\u5c42",children:"Video Input Framework\u5c42"}),"\n",(0,e.jsxs)(t.ol,{children:["\n",(0,e.jsx)(t.li,{children:"Video Control\u5904\u7406\u89c6\u9891\u547d\u4ee4\uff08\u4f8b\u5982\u5206\u8fa8\u7387\u534f\u5546\u3001\u6570\u636e\u683c\u5f0f\u5904\u7406\u548c\u7f13\u51b2\u533a\u7ba1\u7406\uff09\u3002"}),"\n",(0,e.jsx)(t.li,{children:"Runtime Handle\u8fdb\u884c\u8fd0\u884c\u65f6\u7ba1\u7406\uff0c\u5305\u62ec\u7ba1\u9053\u7ba1\u7406\u3001\u7cfb\u7edf\u8d44\u6e90\u7ba1\u7406\u548c\u4e2d\u65ad\u8c03\u5ea6\u7b49\u3002"}),"\n",(0,e.jsx)(t.li,{children:"Event Process\u7ba1\u7406\u4e8b\u4ef6\uff0c\u5305\u62ec\u4e0a\u5c42\u8c03\u7528\u548c\u4e2d\u65ad\u7b49\u4e8b\u4ef6\u7684\u63a5\u6536\u4e0e\u5206\u53d1\u3002"}),"\n",(0,e.jsx)(t.li,{children:"Config Handle\u8fdb\u884c\u914d\u7f6e\u7ba1\u7406\uff0c\u5305\u62ec\u786c\u4ef6\u62d3\u6251\u7ed3\u6784\u548c\u6a21\u7ec4\u81ea\u9002\u5e94\u5217\u8868\u7b49\u3002"}),"\n"]}),"\n",(0,e.jsx)(t.h3,{id:"device-driver\u5c42",children:"Device Driver\u5c42"}),"\n",(0,e.jsxs)(t.ol,{children:["\n",(0,e.jsx)(t.li,{children:"Camera Modules\u662f\u6307\u56fe\u50cf\u4f20\u611f\u5668\u3001\u5bf9\u7126\u7535\u673a\u3001\u95ea\u5149\u706f\u7b49\u9a71\u52a8\u3002"}),"\n",(0,e.jsx)(t.li,{children:"Camera Interface\u662f\u6307MIPI\u3001Sub-Lvds\u3001HiSpi\u3001Bt656\u3001Bt601\u3001Bt1120\u3001DC\u7b49\u63a5\u53e3\u9a71\u52a8\u3002"}),"\n",(0,e.jsx)(t.li,{children:"Image Signal Processor\u662f\u6307\u56fe\u50cf\u5904\u7406\u5668\u9a71\u52a8\uff0c\u5305\u62ec\u57fa\u672c\u5904\u7406\u6a21\u5757\u9a71\u52a8\u548c3A\u7edf\u8ba1\u9a71\u52a8\u3002"}),"\n",(0,e.jsx)(t.li,{children:"Video Input Post Processor\u662f\u6307\u89c6\u9891\u8f93\u5165\u540e\u5904\u7406\uff0c\u5305\u62ec\u7f29\u653e\u5668\u3001OSD\u7b49\u3002"}),"\n"]}),"\n",(0,e.jsx)(t.h2,{id:"\u6a21\u5757\u914d\u7f6e",children:"\u6a21\u5757\u914d\u7f6e"}),"\n",(0,e.jsx)(t.h3,{id:"\u9a71\u52a8\u914d\u7f6e",children:"\u9a71\u52a8\u914d\u7f6e"}),"\n",(0,e.jsx)(t.h4,{id:"linux-\u5185\u6838\u6a21\u5757\u914d\u7f6e",children:"Linux \u5185\u6838\u6a21\u5757\u914d\u7f6e"}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{children:"Device Drivers ->\r\n\t{*} Multimedia support  ---\x3e\r\n\t\tVideo4Linux options  ---\x3e\r\n\t\t\t[*] V4L2 sub-device userspace API\n"})}),"\n",(0,e.jsx)(t.p,{children:(0,e.jsx)(t.img,{alt:"image-20240330151818248",src:r(30551).Z+"",width:"1087",height:"243"})}),"\n",(0,e.jsx)(t.h4,{id:"vin-\u6a21\u5757\u914d\u7f6e",children:"VIN \u6a21\u5757\u914d\u7f6e"}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{children:"VIN (camera) Drivers ->\r\n\t<M> sunxi video input (camera csi/mipi isp vipp) driver\r\n\t< >   sensor power in front of vin\r\n\t<M>   v4l2 new driver for SUNXI\r\n\t[ ]   select sensor flip to replace vipp flip\r\n\t[*]   special function for vin\r\n\t< >   use cci function\r\n\t< >   use flash module\r\n\t< >   use actuator module\r\n\t< >   sensor list for adaptive\r\n\t[ ]   buf addr update for hardware\r\n\t[ ]   use pipeline reset when timeout\r\n\t[ ]   multi-frame interrupt mode\r\n\t[ ]   use isp for time sharing multiplex\r\n\t\tselect rgb mode (vipp yuv to rgb)  ---\x3e\r\n\t\t\t(X) vipp yuv to rgb\r\n\t\t\t( ) sensor output rgb\r\n\t[ ]   multi-frame image merge interrupt\r\n\t[ ]   use one buffer for delay display\r\n\t[*]   use IOMMU for memery alloc\r\n\t[*]   ISP 3D denoise module\r\n\t[ ]     ISP 3D denoise long time frame\r\n\t[ ]     ISP 3D denoise reduces buf size by compression\r\n\t\tselect d3d mode (use d3d pkg mode)  ---\x3e\r\n\t\t\t(X) use d3d pkg mode\r\n\t\t\t( ) use d3d lbc mode\r\n\t[ ]   ISP WDR module\r\n\t[ ]   sensor same i2c addr\r\n\t[ ]   use vin sdram dfs\r\n\t[ ]   use ISP server from melis\r\n\t[ ]   vin and isp init in melis\r\n\t\tsensor driver select  ---\x3e\r\n\t\t\t< > use rn6854m driver\r\n\t\t\t<M> use nvp6158c driver\r\n\t\t\t< > use gc02m1b driver\r\n\t\t\t< > use gc02m1 driver\r\n\t\t\t< > use gc030a driver\r\n\t\t\t...\n"})}),"\n",(0,e.jsx)(t.p,{children:"\u8fd9\u6bb5\u4ee3\u7801\u662fLinux\u5185\u6838\u4e2d\u9488\u5bf9VIN\uff08\u89c6\u9891\u8f93\u5165\uff09\u9a71\u52a8\u7684\u914d\u7f6e\u9009\u9879\uff0c\u4e3b\u8981\u7528\u4e8e\u914d\u7f6e\u4e0e\u6444\u50cf\u5934\u76f8\u5173\u7684\u9a71\u52a8\u548c\u529f\u80fd\u3002"}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"VIN (camera) Drivers"}),": VIN\uff08\u89c6\u9891\u8f93\u5165\uff09\u9a71\u52a8\u7a0b\u5e8f\u914d\u7f6e","\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"<M> sunxi video input (camera csi/mipi isp vipp) driver"}),": \u542f\u7528sunxi\u89c6\u9891\u8f93\u5165\u9a71\u52a8\uff0c\u652f\u6301\u6444\u50cf\u5934\u7684CSI/MIPI\u63a5\u53e3\u4ee5\u53caISP/VIPP\u529f\u80fd\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"< >   sensor power in front of vin"}),": \u5173\u95edVIN\u524d\u7aef\u7684\u4f20\u611f\u5668\u4f9b\u7535\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"<M>   v4l2 new driver for SUNXI"}),": \u542f\u7528SUNXI\u7684v4l2\u65b0\u9a71\u52a8\u7a0b\u5e8f\uff0c\u7528\u4e8e\u89c6\u9891\u91c7\u96c6\u8bbe\u5907\u7684\u901a\u7528\u63a5\u53e3\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"[ ]   select sensor flip to replace vipp flip"}),": \u672a\u9009\u62e9\u4f7f\u7528\u4f20\u611f\u5668\u7ffb\u8f6c\u6765\u66ff\u4ee3VIPP\u7ffb\u8f6c\u529f\u80fd\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"[*]   special function for vin"}),": \u542f\u7528VIN\u7684\u7279\u6b8a\u529f\u80fd\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"< >   use cci function"}),": \u4e0d\u4f7f\u7528CCI\uff08Camera Control Interface\uff09\u529f\u80fd\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"< >   use flash module"}),": \u4e0d\u4f7f\u7528\u95ea\u5149\u706f\u6a21\u5757\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"< >   use actuator module"}),": \u4e0d\u4f7f\u7528\u9a71\u52a8\u6a21\u5757\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"< >   sensor list for adaptive"}),": \u672a\u9009\u62e9\u4f20\u611f\u5668\u5217\u8868\u81ea\u9002\u5e94\u529f\u80fd\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"[ ]   buf addr update for hardware"}),": \u4e0d\u66f4\u65b0\u786c\u4ef6\u7684\u7f13\u51b2\u533a\u5730\u5740\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"[ ]   use pipeline reset when timeout"}),": \u5728\u8d85\u65f6\u65f6\u4e0d\u4f7f\u7528\u7ba1\u9053\u590d\u4f4d\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"[ ]   multi-frame interrupt mode"}),": \u672a\u542f\u7528\u591a\u5e27\u4e2d\u65ad\u6a21\u5f0f\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"[ ]   use isp for time sharing multiplex"}),": \u4e0d\u4f7f\u7528ISP\u8fdb\u884c\u65f6\u95f4\u5171\u4eab\u590d\u7528\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:["\u9009\u62e9RGB\u6a21\u5f0f\uff08vipp yuv to rgb\uff09  ---\x3e","\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"(X) vipp yuv to rgb"}),": \u4f7f\u7528VIPP\u5c06YUV\u8f6c\u6362\u4e3aRGB\u6a21\u5f0f\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"( ) sensor output rgb"}),": \u4f20\u611f\u5668\u76f4\u63a5\u8f93\u51faRGB\u6a21\u5f0f\u3002"]}),"\n"]}),"\n"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"[ ]   multi-frame image merge interrupt"}),": \u672a\u542f\u7528\u591a\u5e27\u56fe\u50cf\u5408\u5e76\u4e2d\u65ad\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"[ ]   use one buffer for delay display"}),": \u672a\u4f7f\u7528\u5355\u4e2a\u7f13\u51b2\u533a\u8fdb\u884c\u5ef6\u8fdf\u663e\u793a\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"[*]   use IOMMU for memery alloc"}),": \u4f7f\u7528IOMMU\u8fdb\u884c\u5185\u5b58\u5206\u914d\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"[*]   ISP 3D denoise module"}),": \u542f\u7528ISP 3D\u964d\u566a\u6a21\u5757\u3002","\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"[ ]     ISP 3D denoise long time frame"}),": \u672a\u542f\u7528ISP 3D\u964d\u566a\u957f\u65f6\u95f4\u5e27\u529f\u80fd\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"[ ]     ISP 3D denoise reduces buf size by compression"}),": \u672a\u542f\u7528ISP 3D\u964d\u566a\u901a\u8fc7\u538b\u7f29\u51cf\u5c0f\u7f13\u51b2\u533a\u5927\u5c0f\u529f\u80fd\u3002"]}),"\n"]}),"\n"]}),"\n",(0,e.jsxs)(t.li,{children:["\u9009\u62e9D3D\u6a21\u5f0f\uff08use d3d pkg mode\uff09  ---\x3e","\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"(X) use d3d pkg mode"}),": \u4f7f\u7528D3D\u5305\u6a21\u5f0f\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"( ) use d3d lbc mode"}),": \u4e0d\u4f7f\u7528D3D LBC\u6a21\u5f0f\u3002"]}),"\n"]}),"\n"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"[ ]   ISP WDR module"}),": \u672a\u542f\u7528ISP WDR\u6a21\u5757\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"[ ]   sensor same i2c addr"}),": \u672a\u9009\u62e9\u4f20\u611f\u5668\u5177\u6709\u76f8\u540c\u7684I2C\u5730\u5740\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"[ ]   use vin sdram dfs"}),": \u4e0d\u4f7f\u7528VIN\u7684SDRAM DFS\u529f\u80fd\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"[ ]   use ISP server from melis"}),": \u4e0d\u4f7f\u7528\u6765\u81eamelis\u7684ISP\u670d\u52a1\u5668\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"[ ]   vin and isp init in melis"}),": VIN\u548cISP\u5728melis\u4e2d\u672a\u521d\u59cb\u5316\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:["\u4f20\u611f\u5668\u9a71\u52a8\u7a0b\u5e8f\u9009\u62e9  ---\x3e","\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"< > use rn6854m driver"}),": \u672a\u9009\u62e9\u4f7f\u7528rn6854m\u9a71\u52a8\u7a0b\u5e8f\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"<M> use nvp6158c driver"}),": \u9009\u62e9\u4f7f\u7528nvp6158c\u9a71\u52a8\u7a0b\u5e8f\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"< > use gc02m1b driver"}),": \u672a\u9009\u62e9\u4f7f\u7528gc02m1b\u9a71\u52a8\u7a0b\u5e8f\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"< > use gc02m1 driver"}),": \u672a\u9009\u62e9\u4f7f\u7528gc02m1\u9a71\u52a8\u7a0b\u5e8f\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"< > use gc030a driver"}),": \u672a\u9009\u62e9\u4f7f\u7528gc030a\u9a71\u52a8\u7a0b\u5e8f\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,e.jsx)(t.p,{children:(0,e.jsx)(t.img,{alt:"image-20240330151715254",src:r(27705).Z+"",width:"1083",height:"575"})}),"\n",(0,e.jsx)(t.h2,{id:"\u8bbe\u5907\u6811\u914d\u7f6e",children:"\u8bbe\u5907\u6811\u914d\u7f6e"}),"\n",(0,e.jsx)(t.p,{children:"\u8fd9\u91cc\u4ee5 T527 \u7684\u914d\u7f6e\u4e3e\u4f8b\uff1a"}),"\n",(0,e.jsxs)(t.p,{children:["\u5728 SoC \u7684 ",(0,e.jsx)(t.code,{children:"dtsi"})," \u6587\u4ef6\u4e2d\u63d0\u70bc\u4e86\u5185\u5b58\u57fa\u5730\u5740\u3001\u4e2d\u65ad\u63a7\u5236\u3001\u65f6\u949f\u7b49\u5171\u6027\u4fe1\u606f\uff0c\u662f\u8be5\u7c7b\u82af\u7247\u6240\u6709\u5e73\u53f0\u7684\u6a21\u5757\u914d\u7f6e\uff0c\u8fd9\u90e8\u5206\u914d\u7f6e\u9ed8\u8ba4\u5373\u53ef\u4e0d\u9700\u8981\u4fee\u6539\u3002"]}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{className:"language-c",children:'vind0: vind@5800800 {\r\n\tcompatible = "allwinner,sunxi-vin-media", "simple-bus";\r\n\t#address-cells = <2>;\r\n\t#size-cells = <2>;\r\n\tranges;\r\n\tdevice_id = <0>;\r\n\tcsi_top = <336000000>;\r\n\tcsi_isp = <327000000>;\r\n\treg = <0x0 0x05800800 0x0 0x200>,\r\n\t\t<0x0 0x05800000 0x0 0x800>,\r\n\t\t<0x0 0x05810000 0x0 0x100>;\r\n\tinterrupts = <GIC_SPI 139 IRQ_TYPE_LEVEL_HIGH>;\r\n\tclocks = <&ccu CLK_CSI>, <&ccu CLK_PLL_VIDEO3_4X>,\r\n\t\t<&ccu CLK_CSI_MASTER0>, <&dcxo24M>, <&ccu CLK_PLL_VIDEO3_4X>,\r\n\t\t<&ccu CLK_CSI_MASTER1>, <&dcxo24M>, <&ccu CLK_PLL_VIDEO3_4X>,\r\n\t\t<&ccu CLK_CSI_MASTER2>, <&dcxo24M>, <&ccu CLK_PLL_VIDEO3_4X>,\r\n\t\t<&ccu CLK_CSI_MASTER3>, <&dcxo24M>, <&ccu CLK_PLL_VIDEO3_4X>,\r\n\t\t<&ccu CLK_ISP>, <&ccu CLK_PLL_VIDEO2_4X>,\r\n\t\t<&ccu CLK_BUS_CSI>, <&ccu CLK_CSI_MBUS_GATE>, <&ccu CLK_ISP_MBUS_GATE>;\r\n\t\t\tclock-names = "csi_top", "csi_top_src",\r\n\t\t"csi_mclk0", "csi_mclk0_24m", "csi_mclk0_pll",\r\n\t\t"csi_mclk1", "csi_mclk1_24m", "csi_mclk1_pll",\r\n\t\t"csi_mclk2", "csi_mclk2_24m", "csi_mclk2_pll",\r\n\t\t"csi_mclk3", "csi_mclk3_24m", "csi_mclk3_pll",\r\n\t\t"csi_isp", "csi_isp_src",\r\n\t\t"csi_bus", "csi_mbus", "csi_isp_mbus";\r\n\tresets = <&ccu RST_BUS_CSI>, <&ccu RST_BUS_ISP>;\r\n\treset-names = "csi_ret", "isp_ret";\r\n\tpinctrl-names = "mclk0-default", "mclk0-sleep", "mclk1-default", "mclk1-sleep",\r\n\t"mclk2-default", "mclk2-sleep", "mclk3-default", "mclk3-sleep";\r\n\tpinctrl-0 = <&csi_mclk0_pins_a>;\r\n\tpinctrl-1 = <&csi_mclk0_pins_b>;\r\n\tpinctrl-2 = <&csi_mclk1_pins_a>;\r\n\tpinctrl-3 = <&csi_mclk1_pins_b>;\r\n\tpinctrl-4 = <&csi_mclk2_pins_a>;\r\n\tpinctrl-5 = <&csi_mclk2_pins_b>;\r\n\tpinctrl-6 = <&csi_mclk3_pins_a>;\r\n\tpinctrl-7 = <&csi_mclk3_pins_b>;\r\n\tpower-domains = <&pd1 A523_PCK_VI>;\r\n\tdram_dfs_time = <150>;\r\n\tstatus = "okay";\r\n\r\n\tcsi0: csi@5820000 {\r\n\t\tcompatible = "allwinner,sunxi-csi";\r\n\t\treg = <0x0 0x05820000 0x0 0x1000>;\r\n\t\tinterrupts = <GIC_SPI 130 IRQ_TYPE_LEVEL_HIGH>;\r\n\t\tdevice_id = <0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tcsi1: csi@5821000 {\r\n\t\tcompatible = "allwinner,sunxi-csi";\r\n\t\treg = <0x0 0x05821000 0x0 0x1000>;\r\n\t\tinterrupts = <GIC_SPI 131 IRQ_TYPE_LEVEL_HIGH>;\r\n\t\tdevice_id = <1>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tcsi2: csi@5822000 {\r\n\t\tcompatible = "allwinner,sunxi-csi";\r\n\t\treg = <0x0 0x05822000 0x0 0x1000>;\r\n\t\tinterrupts = <GIC_SPI 132 IRQ_TYPE_LEVEL_HIGH>;\r\n\t\tdevice_id = <2>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tcsi3: csi@5823000 {\r\n\t\tcompatible = "allwinner,sunxi-csi";\r\n\t\treg = <0x0 0x05823000 0x0 0x1000>;\r\n\t\tinterrupts = <GIC_SPI 147 IRQ_TYPE_LEVEL_HIGH>;\r\n\t\tpinctrl-names = "default","sleep";\r\n\t\tpinctrl-0 = <&ncsi_bt656_pins_a>;\r\n\t\tpinctrl-1 = <&ncsi_bt656_pins_b>;\r\n\t\tdevice_id = <3>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tmipi0: mipi@5810100 {\r\n\t\tcompatible = "allwinner,sunxi-mipi";\r\n\t\treg = <0x0 0x05810100 0x0 0x100>,\r\n\t\t\t<0x0 0x05811000 0x0 0x400>;\r\n\t\tinterrupts = <GIC_SPI 137 IRQ_TYPE_LEVEL_HIGH>;\r\n\t\tpinctrl-names = "mipi0-default","mipi0-sleep",\r\n\t\t"mipi1-4lane-default","mipi1-4lane-sleep";\r\n\t\tpinctrl-0 = <&mipia_pins_a>;\r\n\t\tpinctrl-1 = <&mipia_pins_b>;\r\n\t\tpinctrl-2 = <&mipib_4lane_pins_a>;\r\n\t\tpinctrl-3 = <&mipib_4lane_pins_b>;\r\n\t\tdevice_id = <0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tmipi1: mipi@5810200 {\r\n\t\tcompatible = "allwinner,sunxi-mipi";\r\n\t\treg = <0x0 0x05810200 0x0 0x100>,\r\n\t\t\t<0x0 0x05811400 0x0 0x400>;\r\n\t\tpinctrl-names = "mipi1-default","mipi1-sleep";\r\n\t\tpinctrl-0 = <&mipib_pins_a>;\r\n\t\tpinctrl-1 = <&mipib_pins_b>;\r\n\t\tdevice_id = <1>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tmipi2: mipi@5810300 {\r\n\t\tcompatible = "allwinner,sunxi-mipi";\r\n\t\treg = <0x0 0x05810300 0x0 0x100>,\r\n\t\t\t<0x0 0x05811800 0x0 0x400>;\r\n\t\tpinctrl-names = "mipi2-default","mipi2-sleep",\r\n\t\t"mipi3-4lane-default","mipi3-4lane-sleep";\r\n\t\tpinctrl-0 = <&mipic_pins_a>;\r\n\t\tpinctrl-1 = <&mipic_pins_b>;\r\n\t\tpinctrl-2 = <&mipid_4lane_pins_a>;\r\n\t\tpinctrl-3 = <&mipid_4lane_pins_b>;\r\n\t\tdevice_id = <2>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tmipi3: mipi@5810400 {\r\n\t\tcompatible = "allwinner,sunxi-mipi";\r\n\t\treg = <0x0 0x05810400 0x0 0x100>,\r\n\t\t\t<0x0 0x05811C00 0x0 0x400>;\r\n\t\tpinctrl-names = "mipi3-default","mipi3-sleep";\r\n\t\tpinctrl-0 = <&mipid_pins_a>;\r\n\t\tpinctrl-1 = <&mipid_pins_b>;\r\n\t\tdevice_id = <3>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\ttdm0: tdm@5908000 {\r\n\t\tcompatible = "allwinner,sunxi-tdm";\r\n\t\treg = <0x0 0x05908000 0x0 0x300>;\r\n\t\tinterrupts = <GIC_SPI 138 IRQ_TYPE_LEVEL_HIGH>;\r\n\t\twork_mode = <0x0>;\r\n\t\tdevice_id = <0>;\r\n\t\tiommus = <&mmu_aw 0 0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tisp00:isp@5900000 {\r\n\t\tcompatible = "allwinner,sunxi-isp";\r\n\t\treg = <0x0 0x05900000 0x0 0x1300>;\r\n\t\tinterrupts = <GIC_SPI 133 IRQ_TYPE_LEVEL_HIGH>;\r\n\t\twork_mode = <0x0>;\r\n\t\tdevice_id = <0>;\r\n\t\tiommus = <&mmu_aw 0 0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tisp01:isp@58ffffc {\r\n\t\tcompatible = "allwinner,sunxi-isp";\r\n\t\treg = <0x0 0x058ffffc 0x0 0x1304>;\r\n\t\tinterrupts = <GIC_SPI 134 IRQ_TYPE_LEVEL_HIGH>;\r\n\t\twork_mode = <0xff>;\r\n\t\tdevice_id = <1>;\r\n\t\tiommus = <&mmu_aw 0 0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tisp02:isp@58ffff8 {\r\n\t\tcompatible = "allwinner,sunxi-isp";\r\n\t\treg = <0x0 0x058ffff8 0x0 0x1308>;\r\n\t\tinterrupts = <GIC_SPI 135 IRQ_TYPE_LEVEL_HIGH>;\r\n\t\twork_mode = <0xff>;\r\n\t\tdevice_id = <2>;\r\n\t\tiommus = <&mmu_aw 0 0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tisp03:isp@58ffff4 {\r\n\t\tcompatible = "allwinner,sunxi-isp";\r\n\t\treg = <0x0 0x058ffff4 0x0 0x130c>;\r\n\t\tinterrupts = <GIC_SPI 136 IRQ_TYPE_LEVEL_HIGH>;\r\n\t\twork_mode = <0xff>;\r\n\t\tdevice_id = <3>;\r\n\t\tiommus = <&mmu_aw 0 0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tisp10:isp@4 {\r\n\t\tcompatible = "allwinner,sunxi-isp";\r\n\t\tdevice_id = <4>;\r\n\t\tiommus = <&mmu_aw 0 0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tisp20:isp@5 {\r\n\t\tcompatible = "allwinner,sunxi-isp";\r\n\t\tdevice_id = <5>;\r\n\t\tiommus = <&mmu_aw 0 0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tisp30:isp@6 {\r\n\t\tcompatible = "allwinner,sunxi-isp";\r\n\t\tdevice_id = <6>;\r\n\t\tiommus = <&mmu_aw 0 0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tscaler00:scaler@5910000 {\r\n\t\tcompatible = "allwinner,sunxi-scaler";\r\n\t\treg = <0x0 0x05910000 0x0 0x400>;\r\n\t\tinterrupts = <GIC_SPI 126 IRQ_TYPE_LEVEL_HIGH>;\r\n\t\twork_mode = <0x0>;\r\n\t\tdevice_id = <0>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tscaler01:scaler@590fffc {\r\n\t\tcompatible = "allwinner,sunxi-scaler";\r\n\t\treg = <0x0 0x0590fffc 0x0 0x404>;\r\n\t\twork_mode = <0xff>;\r\n\t\tdevice_id = <1>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tscaler02:scaler@590fff8 {\r\n\t\tcompatible = "allwinner,sunxi-scaler";\r\n\t\treg = <0x0 0x0590fff8 0x0 0x408>;\r\n\t\twork_mode = <0xff>;\r\n\t\tdevice_id = <2>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tscaler03:scaler@590fff4 {\r\n\t\tcompatible = "allwinner,sunxi-scaler";\r\n\t\treg = <0x0 0x0590fff4 0x0 0x40c>;\r\n\t\twork_mode = <0xff>;\r\n\t\tdevice_id = <3>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tscaler10:scaler@5910400 {\r\n\t\tcompatible = "allwinner,sunxi-scaler";\r\n\t\treg = <0x0 0x05910400 0x0 0x400>;\r\n\t\tinterrupts = <GIC_SPI 127 IRQ_TYPE_LEVEL_HIGH>;\r\n\t\twork_mode = <0x0>;\r\n\t\tdevice_id = <4>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tscaler11:scaler@59103fc {\r\n\t\tcompatible = "allwinner,sunxi-scaler";\r\n\t\treg = <0x0 0x059103fc 0x0 0x404>;\r\n\t\twork_mode = <0xff>;\r\n\t\tdevice_id = <5>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tscaler12:scaler@59103f8 {\r\n\t\tcompatible = "allwinner,sunxi-scaler";\r\n\t\treg = <0x0 0x059103f8 0x0 0x408>;\r\n\t\twork_mode = <0xff>;\r\n\t\tdevice_id = <6>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tscaler13:scaler@59103f4 {\r\n\t\tcompatible = "allwinner,sunxi-scaler";\r\n\t\treg = <0x0 0x059103f4 0x0 0x40c>;\r\n\t\twork_mode = <0xff>;\r\n\t\tdevice_id = <7>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tscaler20:scaler@5910800 {\r\n\t\tcompatible = "allwinner,sunxi-scaler";\r\n\t\treg = <0x0 0x05910800 0x0 0x400>;\r\n\t\tinterrupts = <GIC_SPI 128 IRQ_TYPE_LEVEL_HIGH>;\r\n\t\twork_mode = <0x0>;\r\n\t\tdevice_id = <8>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tscaler21:scaler@59107fc {\r\n\t\tcompatible = "allwinner,sunxi-scaler";\r\n\t\treg = <0x0 0x059107fc 0x0 0x404>;\r\n\t\twork_mode = <0xff>;\r\n\t\tdevice_id = <9>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tscaler22:scaler@59107f8 {\r\n\t\tcompatible = "allwinner,sunxi-scaler";\r\n\t\treg = <0x0 0x059107f8 0x0 0x408>;\r\n\t\twork_mode = <0xff>;\r\n\t\tdevice_id = <10>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tscaler23:scaler@59107f4 {\r\n\t\tcompatible = "allwinner,sunxi-scaler";\r\n\t\treg = <0x0 0x059107f4 0x0 0x40c>;\r\n\t\twork_mode = <0xff>;\r\n\t\tdevice_id = <11>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tscaler30:scaler@5910c00 {\r\n\t\tcompatible = "allwinner,sunxi-scaler";\r\n\t\treg = <0x0 0x05910c00 0x0 0x400>;\r\n\t\tinterrupts = <GIC_SPI 129 IRQ_TYPE_LEVEL_HIGH>;\r\n\t\twork_mode = <0x0>;\r\n\t\tdevice_id = <12>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tscaler31:scaler@5910bfc {\r\n\t\tcompatible = "allwinner,sunxi-scaler";\r\n\t\treg = <0x0 0x05910bfc 0x0 0x404>;\r\n\t\twork_mode = <0xff>;\r\n\t\tdevice_id = <13>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tscaler32:scaler@5910bf8 {\r\n\t\tcompatible = "allwinner,sunxi-scaler";\r\n\t\treg = <0x0 0x05910bf8 0x0 0x408>;\r\n\t\twork_mode = <0xff>;\r\n\t\tdevice_id = <14>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tscaler33:scaler@5910bf4 {\r\n\t\tcompatible = "allwinner,sunxi-scaler";\r\n\t\treg = <0x0 0x05910bf4 0x0 0x40c>;\r\n\t\twork_mode = <0xff>;\r\n\t\tdevice_id = <15>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tscaler40:scaler@16 {\r\n\t\tcompatible = "allwinner,sunxi-scaler";\r\n\t\tdevice_id = <16>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tscaler50:scaler@17 {\r\n\t\tcompatible = "allwinner,sunxi-scaler";\r\n\t\tdevice_id = <17>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\tactuator0: actuator@2108180 {\r\n\t\tcompatible = "allwinner,sunxi-actuator";\r\n\t\tdevice_type = "actuator0";\r\n\t\treg = <0x0 0x02108180 0x0 0x10>;\r\n\t\tactuator0_name = "ad5820_act";\r\n\t\tactuator0_slave = <0x18>;\r\n\t\tactuator0_af_pwdn = <>;\r\n\t\tactuator0_afvdd = "afvcc-csi";\r\n\t\tactuator0_afvdd_vol = <2800000>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\tflash0: flash@2108190 {\r\n\t\tdevice_type = "flash0";\r\n\t\tcompatible = "allwinner,sunxi-flash";\r\n\t\treg = <0x0 0x02108190 0x0 0x10>;\r\n\t\tflash0_type = <2>;\r\n\t\tflash0_en = <>;\r\n\t\tflash0_mode = <>;\r\n\t\tflash0_flvdd = "";\r\n\t\tflash0_flvdd_vol = <>;\r\n\t\tdevice_id = <0>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\tsensor0: sensor@5812000 {\r\n\t\treg = <0x0 0x05812000 0x0 0x10>;\r\n\t\tdevice_type = "sensor0";\r\n\t\tcompatible = "allwinner,sunxi-sensor";\r\n\t\tsensor0_mname = "ov5640";\r\n\t\tsensor0_twi_cci_id = <2>;\r\n\t\tsensor0_twi_addr = <0x78>;\r\n\t\tsensor0_mclk_id = <0>;\r\n\t\tsensor0_pos = "rear";\r\n\t\tsensor0_isp_used = <0>;\r\n\t\tsensor0_fmt = <0>;\r\n\t\tsensor0_stby_mode = <0>;\r\n\t\tsensor0_vflip = <0>;\r\n\t\tsensor0_hflip = <0>;\r\n\t\tsensor0_iovdd-supply = <>;\r\n\t\tsensor0_iovdd_vol = <>;\r\n\t\tsensor0_avdd-supply = <>;\r\n\t\tsensor0_avdd_vol = <>;\r\n\t\tsensor0_dvdd-supply = <>;\r\n\t\tsensor0_dvdd_vol = <>;\r\n\t\tsensor0_power_en = <>;\r\n\t\tsensor0_reset = <>;\r\n\t\tsensor0_pwdn = <>;\r\n\t\tsensor0_sm_vs = <>;\r\n\t\tflash_handle = <&flash0>;\r\n\t\tact_handle = <&actuator0>;\r\n\t\tdevice_id = <0>;\r\n\t\tstatus\t= "disabled";\r\n\t};\r\n\tsensor1: sensor@5812010 {\r\n\t\treg = <0x0 0x05812010 0x0 0x10>;\r\n\t\tdevice_type = "sensor1";\r\n\t\tcompatible = "allwinner,sunxi-sensor";\r\n\t\tsensor1_mname = "ov5647";\r\n\t\tsensor1_twi_cci_id = <3>;\r\n\t\tsensor1_twi_addr = <0x6c>;\r\n\t\tsensor1_mclk_id = <1>;\r\n\t\tsensor1_pos = "front";\r\n\t\tsensor1_isp_used = <0>;\r\n\t\tsensor1_fmt = <0>;\r\n\t\tsensor1_stby_mode = <0>;\r\n\t\tsensor1_vflip = <0>;\r\n\t\tsensor1_hflip = <0>;\r\n\t\tsensor1_iovdd-supply = <>;\r\n\t\tsensor1_iovdd_vol = <>;\r\n\t\tsensor1_avdd-supply = <>;\r\n\t\tsensor1_avdd_vol = <>;\r\n\t\tsensor1_dvdd-supply = <>;\r\n\t\tsensor1_dvdd_vol = <>;\r\n\t\tsensor1_power_en = <>;\r\n\t\tsensor1_reset = <>;\r\n\t\tsensor1_pwdn = <>;\r\n\t\tsensor1_sm_vs = <>;\r\n\t\tflash_handle = <>;\r\n\t\tact_handle = <>;\r\n\t\tdevice_id = <1>;\r\n\t\tstatus\t= "disabled";\r\n\t};\r\n\tsensor2: sensor@5812020 {\r\n\t\treg = <0x0 0x05812020 0x0 0x10>;\r\n\t\tdevice_type = "sensor2";\r\n\t\tcompatible = "allwinner,sunxi-sensor";\r\n\t\tsensor2_mname = "imx386_mipi";\r\n\t\tsensor2_twi_cci_id = <3>;\r\n\t\tsensor2_twi_addr = <0x6c>;\r\n\t\tsensor2_mclk_id = <1>;\r\n\t\tsensor2_pos = "rear";\r\n\t\tsensor2_isp_used = <0>;\r\n\t\tsensor2_fmt = <0>;\r\n\t\tsensor2_stby_mode = <0>;\r\n\t\tsensor2_vflip = <0>;\r\n\t\tsensor2_hflip = <0>;\r\n\t\tsensor2_iovdd-supply = <>;\r\n\t\tsensor2_iovdd_vol = <>;\r\n\t\tsensor2_avdd-supply = <>;\r\n\t\tsensor2_avdd_vol = <>;\r\n\t\tsensor2_dvdd-supply = <>;\r\n\t\tsensor2_dvdd_vol = <>;\r\n\t\tsensor2_power_en = <>;\r\n\t\tsensor2_reset = <>;\r\n\t\tsensor2_pwdn = <>;\r\n\t\tsensor2_sm_vs = <>;\r\n\t\tflash_handle = <>;\r\n\t\tact_handle = <>;\r\n\t\tdevice_id = <2>;\r\n\t\tstatus= "disabled";\r\n\t};\r\n\tsensor3: sensor@5812030 {\r\n\t\treg = <0x0 0x05812030 0x0 0x10>;\r\n\t\tdevice_type = "sensor3";\r\n\t\tcompatible = "allwinner,sunxi-sensor";\r\n\t\tsensor3_mname = "imx317_mipi";\r\n\t\tsensor3_twi_cci_id = <3>;\r\n\t\tsensor3_twi_addr = <0x6c>;\r\n\t\tsensor3_mclk_id = <1>;\r\n\t\tsensor3_pos = "rear";\r\n\t\tsensor3_isp_used = <0>;\r\n\t\tsensor3_fmt = <0>;\r\n\t\tsensor3_stby_mode = <0>;\r\n\t\tsensor3_vflip = <0>;\r\n\t\tsensor3_hflip = <0>;\r\n\t\tsensor3_iovdd-supply = <>;\r\n\t\tsensor3_iovdd_vol = <>;\r\n\t\tsensor3_avdd-supply = <>;\r\n\t\tsensor3_avdd_vol = <>;\r\n\t\tsensor3_dvdd-supply = <>;\r\n\t\tsensor3_dvdd_vol = <>;\r\n\t\tsensor3_power_en = <>;\r\n\t\tsensor3_reset = <>;\r\n\t\tsensor3_pwdn = <>;\r\n\t\tsensor3_sm_vs = <>;\r\n\t\tflash_handle = <>;\r\n\t\tact_handle = <>;\r\n\t\tdevice_id = <2>;\r\n\t\tstatus= "disabled";\r\n\t};\r\n\tsensor_list0:sensor_list@5812040 {\r\n\t\treg = <0x0 0x05812040 0x0 0x10>;\r\n\t\tdevice_type = "sensor_list0";\r\n\t\tcompatible = "allwinner,sunxi-sensor-list";\r\n\t\tcsi_sel = <0>;\r\n\t\tsensor00_mname = "ov5675_mipi_b";\r\n\t\tsensor00_twi_addr = <0x60>;\r\n\t\tsensor00_type = <1>;\r\n\t\tsensor00_hflip =  <1>;\r\n\t\tsensor00_vflip = <0>;\r\n\t\tsensor00_act_used = <1>;\r\n\t\tsensor00_act_name = "dw9714_act";\r\n\t\tsensor00_act_twi_addr = <0x18>;\r\n\t\tsensor01_mname = "gc05a2_mipi_b";\r\n\t\tsensor01_twi_addr = <0x62>;\r\n\t\tsensor01_type = <1>;\r\n\t\tsensor01_hflip =  <0>;\r\n\t\tsensor01_vflip = <0>;\r\n\t\tsensor01_act_used = <1>;\r\n\t\tsensor01_act_name = "d9714_act";\r\n\t\tsensor01_act_twi_addr = <0x18>;\r\n\t\tsensor02_mname = "gc5035_mipi_b";\r\n\t\tsensor02_twi_addr = <0x64>;\r\n\t\tsensor02_type = <1>;\r\n\t\tsensor02_hflip =  <0>;\r\n\t\tsensor02_vflip = <0>;\r\n\t\tsensor02_act_used = <1>;\r\n\t\tsensor02_act_name = "dw9714_act";\r\n\t\tsensor02_act_twi_addr = <0x18>;\r\n\t\tdevice_id = <0>;\r\n\t\tstatus\t= "disabled";\r\n\t};\r\n\tsensor_list1:sensor_list@5812050 {\r\n\t\treg = <0x0 0x05812050 0x0 0x10>;\r\n\t\tdevice_type = "sensor_list1";\r\n\t\tcompatible = "allwinner,sunxi-sensor-list";\r\n\t\tcsi_sel = <0>;\r\n\t\tsensor10_mname = "ov02a10_mipi_f";\r\n\t\tsensor10_twi_addr = <0x70>;\r\n\t\tsensor10_type = <1>;\r\n\t\tsensor10_hflip =  <1>;\r\n\t\tsensor10_vflip = <0>;\r\n\t\tsensor10_act_used = <0>;\r\n\t\tsensor10_act_name = "";\r\n\t\tsensor10_act_twi_addr = <>;\r\n\t\tsensor11_mname = "gc02m1_mipi_f";\r\n\t\tsensor11_twi_addr = <0x72>;\r\n\t\tsensor11_type = <1>;\r\n\t\tsensor11_hflip =  <1>;\r\n\t\tsensor11_vflip = <0>;\r\n\t\tsensor11_act_used = <0>;\r\n\t\tsensor11_act_name = "";\r\n\t\tsensor11_act_twi_addr = <>;\r\n\t\tsensor12_mname = "gc02m2_mipi_f";\r\n\t\tsensor12_twi_addr = <0x74>;\r\n\t\tsensor12_type = <1>;\r\n\t\tsensor12_hflip =  <0>;\r\n\t\tsensor12_vflip = <0>;\r\n\t\tsensor12_act_used = <0>;\r\n\t\tsensor12_act_name = "";\r\n\t\tsensor12_act_twi_addr = <>;\r\n\t\tdevice_id = <1>;\r\n\t\tstatus\t= "disabled";\r\n\t};\r\n\tvinc00:vinc@5830000 {\r\n\t\tdevice_type = "vinc0";\r\n\t\tcompatible = "allwinner,sunxi-vin-core";\r\n\t\treg = <0x0 0x05830000 0x0 0x1000>;\r\n\t\tinterrupts = <GIC_SPI 122 IRQ_TYPE_LEVEL_HIGH>;\r\n\t\tvinc0_csi_sel = <3>;\r\n\t\tvinc0_mipi_sel = <0xff>;\r\n\t\tvinc0_isp_sel = <0>;\r\n\t\tvinc0_isp_tx_ch = <0>;\r\n\t\tvinc0_tdm_rx_sel = <0>;\r\n\t\tvinc0_rear_sensor_sel = <0>;\r\n\t\tvinc0_front_sensor_sel = <0>;\r\n\t\tvinc0_sensor_list = <0>;\r\n\t\tdevice_id = <0>;\r\n\t\twork_mode = <0x0>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\r\n\tvinc01:vinc@582fffc {\r\n\t\tdevice_type = "vinc1";\r\n\t\tcompatible = "allwinner,sunxi-vin-core";\r\n\t\treg = <0x0 0x0582fffc 0x0 0x1004>;\r\n\t\tvinc1_csi_sel = <2>;\r\n\t\tvinc1_mipi_sel = <0xff>;\r\n\t\tvinc1_isp_sel = <1>;\r\n\t\tvinc1_isp_tx_ch = <1>;\r\n\t\tvinc1_tdm_rx_sel = <1>;\r\n\t\tvinc1_rear_sensor_sel = <0>;\r\n\t\tvinc1_front_sensor_sel = <0>;\r\n\t\tvinc1_sensor_list = <0>;\r\n\t\tdevice_id = <1>;\r\n\t\twork_mode = <0xff>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\tvinc02:vinc@582fff8 {\r\n\t\tdevice_type = "vinc2";\r\n\t\tcompatible = "allwinner,sunxi-vin-core";\r\n\t\treg = <0x0 0x0582fff8 0x0 0x1008>;\r\n\t\tvinc2_csi_sel = <2>;\r\n\t\tvinc2_mipi_sel = <0xff>;\r\n\t\tvinc2_isp_sel = <2>;\r\n\t\tvinc2_isp_tx_ch = <2>;\r\n\t\tvinc2_tdm_rx_sel = <2>;\r\n\t\tvinc2_rear_sensor_sel = <0>;\r\n\t\tvinc2_front_sensor_sel = <0>;\r\n\t\tvinc2_sensor_list = <0>;\r\n\t\tdevice_id = <2>;\r\n\t\twork_mode = <0xff>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tvinc03:vinc@582fff4 {\r\n\t\tdevice_type = "vinc3";\r\n\t\tcompatible = "allwinner,sunxi-vin-core";\r\n\t\treg = <0x0 0x0582fff4 0x0 0x100c>;\r\n\t\tvinc3_csi_sel = <0>;\r\n\t\tvinc3_mipi_sel = <0xff>;\r\n\t\tvinc3_isp_sel = <0>;\r\n\t\tvinc3_isp_tx_ch = <0>;\r\n\t\tvinc3_tdm_rx_sel = <0>;\r\n\t\tvinc3_rear_sensor_sel = <1>;\r\n\t\tvinc3_front_sensor_sel = <1>;\r\n\t\tvinc3_sensor_list = <0>;\r\n\t\tdevice_id = <3>;\r\n\t\twork_mode = <0xff>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tvinc10:vinc@5831000 {\r\n\t\tdevice_type = "vinc4";\r\n\t\tcompatible = "allwinner,sunxi-vin-core";\r\n\t\treg = <0x0 0x05831000 0x0 0x1000>;\r\n\t\tinterrupts = <GIC_SPI 123 IRQ_TYPE_LEVEL_HIGH>;\r\n\t\tvinc4_csi_sel = <3>;\r\n\t\tvinc4_mipi_sel = <0xff>;\r\n\t\tvinc4_isp_sel = <0>;\r\n\t\tvinc4_isp_tx_ch = <0>;\r\n\t\tvinc4_tdm_rx_sel = <1>;\r\n\t\tvinc4_rear_sensor_sel = <0>;\r\n\t\tvinc4_front_sensor_sel = <0>;\r\n\t\tvinc4_sensor_list = <0>;\r\n\t\tdevice_id = <4>;\r\n\t\twork_mode = <0x0>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tvinc11:vinc@5830ffc {\r\n\t\tdevice_type = "vinc5";\r\n\t\tcompatible = "allwinner,sunxi-vin-core";\r\n\t\treg = <0x0 0x05830ffc 0x0 0x1004>;\r\n\t\tvinc5_csi_sel = <2>;\r\n\t\tvinc5_mipi_sel = <0xff>;\r\n\t\tvinc5_isp_sel = <1>;\r\n\t\tvinc5_isp_tx_ch = <1>;\r\n\t\tvinc5_tdm_rx_sel = <1>;\r\n\t\tvinc5_rear_sensor_sel = <0>;\r\n\t\tvinc5_front_sensor_sel = <0>;\r\n\t\tvinc5_sensor_list = <0>;\r\n\t\tdevice_id = <5>;\r\n\t\twork_mode = <0xff>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tvinc12:vinc@5830ff8 {\r\n\t\tdevice_type = "vinc6";\r\n\t\tcompatible = "allwinner,sunxi-vin-core";\r\n\t\treg = <0x0 0x05830ff8 0x0 0x1008>;\r\n\t\tvinc6_csi_sel = <2>;\r\n\t\tvinc6_mipi_sel = <0xff>;\r\n\t\tvinc6_isp_sel = <0>;\r\n\t\tvinc6_isp_tx_ch = <0>;\r\n\t\tvinc6_tdm_rx_sel = <0>;\r\n\t\tvinc6_rear_sensor_sel = <0>;\r\n\t\tvinc6_front_sensor_sel = <0>;\r\n\t\tvinc6_sensor_list = <0>;\r\n\t\tdevice_id = <6>;\r\n\t\twork_mode = <0xff>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tvinc13:vinc@5830ff4 {\r\n\t\tdevice_type = "vinc7";\r\n\t\tcompatible = "allwinner,sunxi-vin-core";\r\n\t\treg = <0x0 0x05830ff4 0x0 0x100c>;\r\n\t\tvinc7_csi_sel = <2>;\r\n\t\tvinc7_mipi_sel = <0xff>;\r\n\t\tvinc7_isp_sel = <0>;\r\n\t\tvinc7_isp_tx_ch = <0>;\r\n\t\tvinc7_tdm_rx_sel = <0>;\r\n\t\tvinc7_rear_sensor_sel = <0>;\r\n\t\tvinc7_front_sensor_sel = <0>;\r\n\t\tvinc7_sensor_list = <0>;\r\n\t\tdevice_id = <7>;\r\n\t\twork_mode = <0xff>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tvinc20:vinc@5832000 {\r\n\t\tdevice_type = "vinc8";\r\n\t\tcompatible = "allwinner,sunxi-vin-core";\r\n\t\treg = <0x0 0x05832000 0x0 0x1000>;\r\n\t\tinterrupts = <GIC_SPI 124 IRQ_TYPE_LEVEL_HIGH>;\r\n\t\tvinc8_csi_sel = <2>;\r\n\t\tvinc8_mipi_sel = <0xff>;\r\n\t\tvinc8_isp_sel = <4>;\r\n\t\tvinc8_isp_tx_ch = <3>;\r\n\t\tvinc8_tdm_rx_sel = <3>;\r\n\t\tvinc8_rear_sensor_sel = <0>;\r\n\t\tvinc8_front_sensor_sel = <0>;\r\n\t\tvinc8_sensor_list = <0>;\r\n\t\tdevice_id = <8>;\r\n\t\twork_mode = <0x0>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tvinc21:vinc@5831ffc {\r\n\t\tdevice_type = "vinc9";\r\n\t\tcompatible = "allwinner,sunxi-vin-core";\r\n\t\treg = <0x0 0x05831ffc 0x0 0x1004>;\r\n\t\tvinc9_csi_sel = <2>;\r\n\t\tvinc9_mipi_sel = <0xff>;\r\n\t\tvinc9_isp_sel = <0>;\r\n\t\tvinc9_isp_tx_ch = <0>;\r\n\t\tvinc9_tdm_rx_sel = <0>;\r\n\t\tvinc9_rear_sensor_sel = <0>;\r\n\t\tvinc9_front_sensor_sel = <0>;\r\n\t\tvinc9_sensor_list = <0>;\r\n\t\tdevice_id = <9>;\r\n\t\twork_mode = <0xff>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tvinc22:vinc@5831ff8 {\r\n\t\tdevice_type = "vinc10";\r\n\t\tcompatible = "allwinner,sunxi-vin-core";\r\n\t\treg = <0x0 0x05831ff8 0x0 0x1008>;\r\n\t\tvinc10_csi_sel = <2>;\r\n\t\tvinc10_mipi_sel = <0xff>;\r\n\t\tvinc10_isp_sel = <0>;\r\n\t\tvinc10_isp_tx_ch = <0>;\r\n\t\tvinc10_tdm_rx_sel = <0>;\r\n\t\tvinc10_rear_sensor_sel = <0>;\r\n\t\tvinc10_front_sensor_sel = <0>;\r\n\t\tvinc10_sensor_list = <0>;\r\n\t\tdevice_id = <10>;\r\n\t\twork_mode = <0xff>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tvinc23:vinc@5831ff4 {\r\n\t\tdevice_type = "vinc11";\r\n\t\tcompatible = "allwinner,sunxi-vin-core";\r\n\t\treg = <0x0 0x05831ff4 0x0 0x100c>;\r\n\t\tvinc11_csi_sel = <2>;\r\n\t\tvinc11_mipi_sel = <0xff>;\r\n\t\tvinc11_isp_sel = <0>;\r\n\t\tvinc11_isp_tx_ch = <0>;\r\n\t\tvinc11_tdm_rx_sel = <0>;\r\n\t\tvinc11_rear_sensor_sel = <0>;\r\n\t\tvinc11_front_sensor_sel = <0>;\r\n\t\tvinc11_sensor_list = <0>;\r\n\t\tdevice_id = <11>;\r\n\t\twork_mode = <0xff>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tvinc30:vinc@5833000 {\r\n\t\tdevice_type = "vinc12";\r\n\t\tcompatible = "allwinner,sunxi-vin-core";\r\n\t\treg = <0x0 0x05833000 0x0 0x1000>;\r\n\t\tinterrupts = <GIC_SPI 125 IRQ_TYPE_LEVEL_HIGH>;\r\n\t\tvinc12_csi_sel = <2>;\r\n\t\tvinc12_mipi_sel = <0xff>;\r\n\t\tvinc12_isp_sel = <0>;\r\n\t\tvinc12_isp_tx_ch = <0>;\r\n\t\tvinc12_tdm_rx_sel = <0>;\r\n\t\tvinc12_rear_sensor_sel = <0>;\r\n\t\tvinc12_front_sensor_sel = <0>;\r\n\t\tvinc12_sensor_list = <0>;\r\n\t\tdevice_id = <12>;\r\n\t\twork_mode = <0x0>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tvinc31:vinc@5832ffc {\r\n\t\tdevice_type = "vinc13";\r\n\t\tcompatible = "allwinner,sunxi-vin-core";\r\n\t\treg = <0x0 0x05832ffc 0x0 0x1004>;\r\n\t\tvinc13_csi_sel = <2>;\r\n\t\tvinc13_mipi_sel = <0xff>;\r\n\t\tvinc13_isp_sel = <0>;\r\n\t\tvinc13_isp_tx_ch = <0>;\r\n\t\tvinc13_tdm_rx_sel = <0>;\r\n\t\tvinc13_rear_sensor_sel = <0>;\r\n\t\tvinc13_front_sensor_sel = <0>;\r\n\t\tvinc13_sensor_list = <0>;\r\n\t\tdevice_id = <13>;\r\n\t\twork_mode = <0xff>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tvinc32:vinc@5832ff8 {\r\n\t\tdevice_type = "vinc14";\r\n\t\tcompatible = "allwinner,sunxi-vin-core";\r\n\t\treg = <0x0 0x05832ff8 0x0 0x1008>;\r\n\t\tvinc14_csi_sel = <2>;\r\n\t\tvinc14_mipi_sel = <0xff>;\r\n\t\tvinc14_isp_sel = <0>;\r\n\t\tvinc14_isp_tx_ch = <0>;\r\n\t\tvinc14_tdm_rx_sel = <0>;\r\n\t\tvinc14_rear_sensor_sel = <0>;\r\n\t\tvinc14_front_sensor_sel = <0>;\r\n\t\tvinc14_sensor_list = <0>;\r\n\t\tdevice_id = <14>;\r\n\t\twork_mode = <0xff>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tvinc33:vinc@5832ff4 {\r\n\t\tdevice_type = "vinc15";\r\n\t\tcompatible = "allwinner,sunxi-vin-core";\r\n\t\treg = <0x0 0x05832ff4 0x0 0x100c>;\r\n\t\tvinc15_csi_sel = <2>;\r\n\t\tvinc15_mipi_sel = <0xff>;\r\n\t\tvinc15_isp_sel = <0>;\r\n\t\tvinc15_isp_tx_ch = <0>;\r\n\t\tvinc15_tdm_rx_sel = <0>;\r\n\t\tvinc15_rear_sensor_sel = <0>;\r\n\t\tvinc15_front_sensor_sel = <0>;\r\n\t\tvinc15_sensor_list = <0>;\r\n\t\tdevice_id = <15>;\r\n\t\twork_mode = <0xff>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tvinc40:vinc@5834000 {\r\n\t\tdevice_type = "vinc16";\r\n\t\tcompatible = "allwinner,sunxi-vin-core";\r\n\t\treg = <0x0 0x05834000 0x0 0x1000>;\r\n\t\tinterrupts = <GIC_SPI 145 IRQ_TYPE_LEVEL_HIGH>;\r\n\t\tvinc16_csi_sel = <2>;\r\n\t\tvinc16_mipi_sel = <0xff>;\r\n\t\tvinc16_isp_sel = <0>;\r\n\t\tvinc16_isp_tx_ch = <0>;\r\n\t\tvinc16_tdm_rx_sel = <0>;\r\n\t\tvinc16_rear_sensor_sel = <0>;\r\n\t\tvinc16_front_sensor_sel = <0>;\r\n\t\tvinc16_sensor_list = <0>;\r\n\t\tdevice_id = <16>;\r\n\t\twork_mode = <0x0>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tvinc50:vinc@5835000 {\r\n\t\tdevice_type = "vinc17";\r\n\t\tcompatible = "allwinner,sunxi-vin-core";\r\n\t\treg = <0x0 0x05835000 0x0 0x1000>;\r\n\t\tinterrupts = <GIC_SPI 146 IRQ_TYPE_LEVEL_HIGH>;\r\n\t\tvinc17_csi_sel = <2>;\r\n\t\tvinc17_mipi_sel = <0xff>;\r\n\t\tvinc17_isp_sel = <0>;\r\n\t\tvinc17_isp_tx_ch = <0>;\r\n\t\tvinc17_tdm_rx_sel = <0>;\r\n\t\tvinc17_rear_sensor_sel = <0>;\r\n\t\tvinc17_front_sensor_sel = <0>;\r\n\t\tvinc17_sensor_list = <0>;\r\n\t\tdevice_id = <17>;\r\n\t\twork_mode = <0x0>;\r\n\t\tiommus = <&mmu_aw 1 0>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n};\n'})}),"\n",(0,e.jsxs)(t.p,{children:["\u4ee5\u4e0a\u5185\u5bb9\u4e3a ",(0,e.jsx)(t.code,{children:"dtsi"})," \u7684\u9ed8\u8ba4\u914d\u7f6e\uff0c\u5bf9\u4e8e\u5404\u7c7b\u677f\u5b50\uff0c\u914d\u7f6e\u5982\u4e0b\u3002"]}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{className:"language-c",children:'&csi_mclk3_pins_a {\r\n\tpins = "PK13";\r\n\tfunction = "ncsi";\r\n};\r\n\r\n&csi_mclk3_pins_b {\r\n\tpins = "PK13";\r\n};\r\n\r\n&mipib_4lane_pins_a {\r\n   pins = "PK6", "PK7", "PK8", "PK9";\r\n};\r\n\r\n&mipib_4lane_pins_b {\r\n   pins = "PK6", "PK7", "PK8", "PK9";\r\n};\r\n\r\n&vind0 {\r\n\tcsi_top = <360000000>;\r\n\tcsi_isp = <300000000>;\r\n\tvind_mclkpin-supply = <&reg_bldo3>; /* vcc-pe */\r\n\tvind_mclkpin_vol = <1800000>;\r\n\tvind_mcsipin-supply = <&reg_bldo3>; /* vcc-pk */\r\n\tvind_mcsipin_vol = <1800000>;\r\n\tvind_mipipin-supply = <&reg_bldo3>; /* vcc-mcsi */\r\n\tvind_mipipin_vol = <1800000>;\r\n\tstatus = "okay";\r\n\r\n\tcsi3:csi@5823000 {\r\n\t\tpinctrl-names = "default","sleep";\r\n\t\tpinctrl-0 = <&ncsi_bt1120_pins_a>;\r\n\t\tpinctrl-1 = <&ncsi_bt1120_pins_b>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\r\n\ttdm0:tdm@5908000 {\r\n\t\twork_mode = <0>;\r\n\t};\r\n\r\n\tisp00:isp@5900000 {\r\n\t\twork_mode = <0>;\r\n\t};\r\n\r\n\tisp01:isp@58ffffc {\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tisp02:isp@58ffff8 {\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tisp03:isp@58ffff4 {\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tisp10:isp@4 {\r\n\t\tstatus = "okay";\r\n\t};\r\n\r\n\tisp20:isp@5 {\r\n\t\tstatus = "okay";\r\n\t};\r\n\r\n\tscaler00:scaler@5910000 {\r\n\t\twork_mode = <0>;\r\n\t};\r\n\r\n\tscaler01:scaler@590fffc {\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tscaler02:scaler@590fff8 {\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tscaler03:scaler@590fff4 {\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tscaler10:scaler@5910400 {\r\n\t\twork_mode = <0>;\r\n\t};\r\n\r\n\tscaler11:scaler@59103fc {\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tscaler12:scaler@59103f8 {\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tscaler13:scaler@59103f4 {\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tscaler20:scaler@5910800 {\r\n\t\twork_mode = <0>;\r\n\t};\r\n\r\n\tscaler21:scaler@59107fc {\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tscaler22:scaler@59107f8 {\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tscaler23:scaler@59107f4 {\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tscaler30:scaler@5910c00 {\r\n\t\twork_mode = <0>;\r\n\t};\r\n\r\n\tscaler31:scaler@5910bfc {\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tscaler32:scaler@5910bf8 {\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tscaler33:scaler@5910bf4 {\r\n\t\tstatus = "disabled";\r\n\t};\r\n\tscaler40:scaler@16 {\r\n\t\tstatus = "okay";\r\n\t};\r\n\tscaler50:scaler@17 {\r\n\t\tstatus = "okay";\r\n\t};\r\n\r\n\tactuator0: actuator@2108180 {\r\n\t\tdevice_type = "actuator0";\r\n\t\tactuator0_name = "dw9714_act";\r\n\t\tactuator0_slave = <0x18>;\r\n\t\tactuator0_af_pwdn = <>;\r\n\t\tactuator0_afvdd = "afvcc-csi";\r\n\t\tactuator0_afvdd_vol = <2800000>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tflash0: flash@2108190 {\r\n\t\tdevice_type = "flash0";\r\n\t\tflash0_type = <2>;\r\n\t\tflash0_en = <&r_pio PL 11 GPIO_ACTIVE_LOW>;\r\n\t\tflash0_mode = <>;\r\n\t\tflash0_flvdd = "";\r\n\t\tflash0_flvdd_vol = <>;\r\n\t\tdevice_id = <0>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tsensor0:sensor@5812000 {\r\n\t\tdevice_type = "sensor0";\r\n\t\tsensor0_mname = "tp2815_mipi";\r\n\t\tsensor0_twi_cci_id = <2>;\r\n\t\tsensor0_twi_addr = <0x88>;\r\n\t\tsensor0_mclk_id = <0>;\r\n\t\tsensor0_pos = "rear";\r\n\t\tsensor0_isp_used = <0>;\r\n\t\tsensor0_fmt = <0>;\r\n\t\tsensor0_stby_mode = <0>;\r\n\t\tsensor0_vflip = <0>;\r\n\t\tsensor0_hflip = <0>;\r\n\t\tsensor0_cameravdd-supply = <>;\r\n\t\tsensor0_cameravdd_vol = <>;\r\n\t\tsensor0_iovdd-supply = <>;\r\n\t\tsensor0_iovdd_vol = <>;\r\n\t\tsensor0_avdd-supply = <>;\r\n\t\tsensor0_avdd_vol = <>;\r\n\t\tsensor0_dvdd-supply = <>;\r\n\t\tsensor0_dvdd_vol = <>;\r\n\t\tsensor0_power_en = <>;\r\n\t\tsensor0_reset = <&pio PK 11 GPIO_ACTIVE_LOW>;\r\n\t\tsensor0_pwdn = <>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\r\n\tsensor1:sensor@5812010 {\r\n\t\tdevice_type = "sensor1";\r\n\t\tsensor1_mname = "nvp6158";\r\n\t\tsensor1_twi_cci_id = <3>;\r\n\t\tsensor1_twi_addr = <0x64>;\r\n\t\tsensor1_mclk_id = <3>;\r\n\t\tsensor1_pos = "front";\r\n\t\tsensor1_isp_used = <0>;\r\n\t\tsensor1_fmt = <0>;\r\n\t\tsensor1_stby_mode = <0>;\r\n\t\tsensor1_vflip = <0>;\r\n\t\tsensor1_hflip = <0>;\r\n\t\tsensor1_iovdd-supply = <>;\r\n\t\tsensor1_iovdd_vol = <>;\r\n\t\tsensor1_avdd-supply = <>;\r\n\t\tsensor1_avdd_vol = <>;\r\n\t\tsensor1_dvdd-supply = <>;\r\n\t\tsensor1_dvdd_vol = <>;\r\n\t\tsensor1_power_en = <>;\r\n\t\tsensor1_reset = <&pio PK 10 GPIO_ACTIVE_LOW>;\r\n\t\tsensor1_pwdn = <>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\r\n\tvinc00:vinc@5830000 {\r\n\t\tvinc0_csi_sel = <0>;\r\n\t\tvinc0_mipi_sel = <0>;\r\n\t\tvinc0_isp_sel = <4>;\r\n\t\tvinc0_isp_tx_ch = <0>;\r\n\t\tvinc0_tdm_rx_sel = <0>;\r\n\t\tvinc0_rear_sensor_sel = <0>;\r\n\t\tvinc0_front_sensor_sel = <0>;\r\n\t\tvinc0_sensor_list = <0>;\r\n\t\tdevice_id = <0>;\r\n\t\twork_mode = <0x0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\r\n\tvinc01:vinc@582fffc {\r\n\t\tvinc1_csi_sel = <1>;\r\n\t\tvinc1_mipi_sel = <2>;\r\n\t\tvinc1_isp_sel = <1>;\r\n\t\tvinc1_isp_tx_ch = <0>;\r\n\t\tvinc1_tdm_rx_sel = <1>;\r\n\t\tvinc1_rear_sensor_sel = <1>;\r\n\t\tvinc1_front_sensor_sel = <1>;\r\n\t\tvinc1_sensor_list = <0>;\r\n\t\tdevice_id = <1>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tvinc02:vinc@582fff8 {\r\n\t\tvinc2_csi_sel = <2>;\r\n\t\tvinc2_mipi_sel = <0xff>;\r\n\t\tvinc2_isp_sel = <2>;\r\n\t\tvinc2_isp_tx_ch = <2>;\r\n\t\tvinc2_tdm_rx_sel = <2>;\r\n\t\tvinc2_rear_sensor_sel = <0>;\r\n\t\tvinc2_front_sensor_sel = <0>;\r\n\t\tvinc2_sensor_list = <0>;\r\n\t\tdevice_id = <2>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tvinc03:vinc@582fff4 {\r\n\t\tvinc3_csi_sel = <0>;\r\n\t\tvinc3_mipi_sel = <0xff>;\r\n\t\tvinc3_isp_sel = <0>;\r\n\t\tvinc3_isp_tx_ch = <0>;\r\n\t\tvinc3_tdm_rx_sel = <0>;\r\n\t\tvinc3_rear_sensor_sel = <1>;\r\n\t\tvinc3_front_sensor_sel = <1>;\r\n\t\tvinc3_sensor_list = <0>;\r\n\t\tdevice_id = <3>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tvinc10:vinc@5831000 {\r\n\t\tvinc4_csi_sel = <0>;\r\n\t\tvinc4_mipi_sel = <0>;\r\n\t\tvinc4_isp_sel = <4>;\r\n\t\tvinc4_isp_tx_ch = <1>;\r\n\t\tvinc4_tdm_rx_sel = <0>;\r\n\t\tvinc4_rear_sensor_sel = <0>;\r\n\t\tvinc4_front_sensor_sel = <0>;\r\n\t\tvinc4_sensor_list = <0>;\r\n\t\tdevice_id = <4>;\r\n\t\twork_mode = <0x0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\r\n\tvinc11:vinc@5830ffc {\r\n\t\tvinc5_csi_sel = <2>;\r\n\t\tvinc5_mipi_sel = <0xff>;\r\n\t\tvinc5_isp_sel = <1>;\r\n\t\tvinc5_isp_tx_ch = <1>;\r\n\t\tvinc5_tdm_rx_sel = <1>;\r\n\t\tvinc5_rear_sensor_sel = <0>;\r\n\t\tvinc5_front_sensor_sel = <0>;\r\n\t\tvinc5_sensor_list = <0>;\r\n\t\tdevice_id = <5>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tvinc12:vinc@5830ff8 {\r\n\t\tvinc6_csi_sel = <2>;\r\n\t\tvinc6_mipi_sel = <0xff>;\r\n\t\tvinc6_isp_sel = <0>;\r\n\t\tvinc6_isp_tx_ch = <0>;\r\n\t\tvinc6_tdm_rx_sel = <0>;\r\n\t\tvinc6_rear_sensor_sel = <0>;\r\n\t\tvinc6_front_sensor_sel = <0>;\r\n\t\tvinc6_sensor_list = <0>;\r\n\t\tdevice_id = <6>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tvinc13:vinc@5830ff4 {\r\n\t\tvinc7_csi_sel = <2>;\r\n\t\tvinc7_mipi_sel = <0xff>;\r\n\t\tvinc7_isp_sel = <0>;\r\n\t\tvinc7_isp_tx_ch = <0>;\r\n\t\tvinc7_tdm_rx_sel = <0>;\r\n\t\tvinc7_rear_sensor_sel = <0>;\r\n\t\tvinc7_front_sensor_sel = <0>;\r\n\t\tvinc7_sensor_list = <0>;\r\n\t\tdevice_id = <7>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tvinc20:vinc@5832000 {\r\n\t\tvinc8_csi_sel = <0>;\r\n\t\tvinc8_mipi_sel = <0>;\r\n\t\tvinc8_isp_sel = <4>;\r\n\t\tvinc8_isp_tx_ch = <2>;\r\n\t\tvinc8_tdm_rx_sel = <0>;\r\n\t\tvinc8_rear_sensor_sel = <0>;\r\n\t\tvinc8_front_sensor_sel = <0>;\r\n\t\tvinc8_sensor_list = <0>;\r\n\t\tdevice_id = <8>;\r\n\t\twork_mode = <0x0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\r\n\tvinc21:vinc@5831ffc {\r\n\t\tvinc9_csi_sel = <2>;\r\n\t\tvinc9_mipi_sel = <0xff>;\r\n\t\tvinc9_isp_sel = <0>;\r\n\t\tvinc9_isp_tx_ch = <0>;\r\n\t\tvinc9_tdm_rx_sel = <0>;\r\n\t\tvinc9_rear_sensor_sel = <0>;\r\n\t\tvinc9_front_sensor_sel = <0>;\r\n\t\tvinc9_sensor_list = <0>;\r\n\t\tdevice_id = <9>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tvinc22:vinc@5831ff8 {\r\n\t\tvinc10_csi_sel = <2>;\r\n\t\tvinc10_mipi_sel = <0xff>;\r\n\t\tvinc10_isp_sel = <0>;\r\n\t\tvinc10_isp_tx_ch = <0>;\r\n\t\tvinc10_tdm_rx_sel = <0>;\r\n\t\tvinc10_rear_sensor_sel = <0>;\r\n\t\tvinc10_front_sensor_sel = <0>;\r\n\t\tvinc10_sensor_list = <0>;\r\n\t\tdevice_id = <10>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tvinc23:vinc@5831ff4 {\r\n\t\tvinc11_csi_sel = <2>;\r\n\t\tvinc11_mipi_sel = <0xff>;\r\n\t\tvinc11_isp_sel = <0>;\r\n\t\tvinc11_isp_tx_ch = <0>;\r\n\t\tvinc11_tdm_rx_sel = <0>;\r\n\t\tvinc11_rear_sensor_sel = <0>;\r\n\t\tvinc11_front_sensor_sel = <0>;\r\n\t\tvinc11_sensor_list = <0>;\r\n\t\tdevice_id = <11>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tvinc30:vinc@5833000 {\r\n\t\tvinc12_csi_sel = <0>;\r\n\t\tvinc12_mipi_sel = <0>;\r\n\t\tvinc12_isp_sel = <4>;\r\n\t\tvinc12_isp_tx_ch = <3>;\r\n\t\tvinc12_tdm_rx_sel = <0>;\r\n\t\tvinc12_rear_sensor_sel = <0>;\r\n\t\tvinc12_front_sensor_sel = <0>;\r\n\t\tvinc12_sensor_list = <0>;\r\n\t\tdevice_id = <12>;\r\n\t\twork_mode = <0x0>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\r\n\tvinc31:vinc@5832ffc {\r\n\t\tvinc13_csi_sel = <2>;\r\n\t\tvinc13_mipi_sel = <0xff>;\r\n\t\tvinc13_isp_sel = <0>;\r\n\t\tvinc13_isp_tx_ch = <0>;\r\n\t\tvinc13_tdm_rx_sel = <0>;\r\n\t\tvinc13_rear_sensor_sel = <0>;\r\n\t\tvinc13_front_sensor_sel = <0>;\r\n\t\tvinc13_sensor_list = <0>;\r\n\t\tdevice_id = <13>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tvinc32:vinc@5832ff8 {\r\n\t\tvinc14_csi_sel = <2>;\r\n\t\tvinc14_mipi_sel = <0xff>;\r\n\t\tvinc14_isp_sel = <0>;\r\n\t\tvinc14_isp_tx_ch = <0>;\r\n\t\tvinc14_tdm_rx_sel = <0>;\r\n\t\tvinc14_rear_sensor_sel = <0>;\r\n\t\tvinc14_front_sensor_sel = <0>;\r\n\t\tvinc14_sensor_list = <0>;\r\n\t\tdevice_id = <14>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tvinc33:vinc@5832ff4 {\r\n\t\tvinc15_csi_sel = <2>;\r\n\t\tvinc15_mipi_sel = <0xff>;\r\n\t\tvinc15_isp_sel = <0>;\r\n\t\tvinc15_isp_tx_ch = <0>;\r\n\t\tvinc15_tdm_rx_sel = <0>;\r\n\t\tvinc15_rear_sensor_sel = <0>;\r\n\t\tvinc15_front_sensor_sel = <0>;\r\n\t\tvinc15_sensor_list = <0>;\r\n\t\tdevice_id = <15>;\r\n\t\tstatus = "disabled";\r\n\t};\r\n\r\n\tvinc40:vinc@5834000 {\r\n\t\tvinc16_csi_sel = <3>;\r\n\t\tvinc16_mipi_sel = <0xff>;\r\n\t\tvinc16_isp_sel = <5>;\r\n\t\tvinc16_isp_tx_ch = <0>;\r\n\t\tvinc16_tdm_rx_sel = <0>;\r\n\t\tvinc16_rear_sensor_sel = <1>;\r\n\t\tvinc16_front_sensor_sel = <1>;\r\n\t\tvinc16_sensor_list = <0>;\r\n\t\tdevice_id = <16>;\r\n\t\tstatus = "okay";\r\n\t};\r\n\r\n\tvinc50:vinc@5835000 {\r\n\t\tvinc17_csi_sel = <3>;\r\n\t\tvinc17_mipi_sel = <0xff>;\r\n\t\tvinc17_isp_sel = <5>;\r\n\t\tvinc17_isp_tx_ch = <1>;\r\n\t\tvinc17_tdm_rx_sel = <0>;\r\n\t\tvinc17_rear_sensor_sel = <1>;\r\n\t\tvinc17_front_sensor_sel = <1>;\r\n\t\tvinc17_sensor_list = <0>;\r\n\t\tdevice_id = <17>;\r\n\t\tstatus = "okay";\r\n\t};\r\n};\n'})}),"\n",(0,e.jsx)(t.p,{children:(0,e.jsx)(t.strong,{children:"VIN\u9a71\u52a8\u914d\u7f6e\uff1a"})}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"status"}),'\uff1aVIN\u9a71\u52a8\u7684\u603b\u5f00\u5173\uff0c\u5bf9\u5e94\u5a92\u4f53\u8bbe\u5907\u3002\u4f7f\u7528VIN\u65f6\u5fc5\u987b\u8bbe\u7f6e\u4e3a"okay"\u3002']}),"\n"]}),"\n",(0,e.jsx)(t.p,{children:(0,e.jsx)(t.strong,{children:"\u65f6\u949f\u914d\u7f6e\uff1a"})}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsxs)(t.li,{children:["\n",(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.code,{children:"csi_top"}),"\uff1aVIN\u6a21\u5757\u7684\u65f6\u949f\uff0c\u53ef\u6839\u636e\u4f20\u611f\u5668\u5e27\u7387\u548c\u5206\u8fa8\u7387\u8fdb\u884c\u8c03\u6574\u3002"]}),"\n"]}),"\n",(0,e.jsxs)(t.li,{children:["\n",(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.code,{children:"csi_isp"}),"\uff1aISP\u6a21\u5757\u7684\u65f6\u949f\uff0c\u53ef\u6839\u636e\u4f20\u611f\u5668\u5e27\u7387\u548c\u5206\u8fa8\u7387\u8fdb\u884c\u8c03\u6574\u3002"]}),"\n"]}),"\n",(0,e.jsxs)(t.li,{children:["\n",(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.code,{children:"csi_top"}),"\uff1a\u516c\u5f0f\u4e3a\u5e27\u7387 x VTS x HTS x \u4f4d\u5bbd x 1\uff08WDR\u5219\u4e3a2\uff09 / 8 / 1\uff08\u53cc\u50cf\u7d20\u5219\u4e3a2\uff09 / 1000000\uff0c\u5411\u4e0a\u53d6\u6574\uff0c\u5355\u4f4d\u4e3aMHz\u3002"]}),"\n"]}),"\n",(0,e.jsxs)(t.li,{children:["\n",(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.code,{children:"csi_isp"}),"\uff1a\u516c\u5f0f\u4e3a\u5e27\u7387 x \u5bbd x \u9ad8 x 1.2 / 1000000\uff0c\u5411\u4e0a\u53d6\u6574\uff0c\u5355\u4f4d\u4e3aMHz\u3002"]}),"\n"]}),"\n",(0,e.jsxs)(t.li,{children:["\n",(0,e.jsxs)(t.p,{children:["\u4e00\u4e9b IC \u6ca1\u6709",(0,e.jsx)(t.code,{children:"isp_clk"}),"\u3002",(0,e.jsx)(t.code,{children:"csi_clk"}),"\u548c",(0,e.jsx)(t.code,{children:"isp_clk"}),"\u90fd\u8bbe\u7f6e\u5728",(0,e.jsx)(t.code,{children:"csi_top"}),"\u4e2d\u3002\u56e0\u6b64\uff0c\u5c06",(0,e.jsx)(t.code,{children:"csi_top"}),"\u8bbe\u7f6e\u4e3a",(0,e.jsx)(t.code,{children:"csi_clk"}),"\u548c",(0,e.jsx)(t.code,{children:"isp_clk"}),"\u4e2d\u7684\u6700\u5927\u503c\u3002"]}),"\n"]}),"\n"]}),"\n",(0,e.jsx)(t.p,{children:(0,e.jsx)(t.strong,{children:"\u5de5\u4f5c\u6a21\u5f0f\uff1a"})}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"work_mode"}),"\uff1a0\u8868\u793a\u5728\u7ebf\u6a21\u5f0f\uff0c1\u8868\u793a\u79bb\u7ebf\u6a21\u5f0f\u3002\u6839\u636e\u4f7f\u7528\u9700\u6c42\u8fdb\u884c\u914d\u7f6e\u3002"]}),"\n"]}),"\n",(0,e.jsx)(t.p,{children:(0,e.jsx)(t.strong,{children:"\u95ea\u5149\u706f\u914d\u7f6e\uff1a"})}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"flash0_type"}),"\uff1a\u95ea\u5149\u706f\u7c7b\u578b\uff080\uff1a\u76f8\u5173\u95ea\u5149\u706f\uff0c1\uff1a\u72ec\u7acb\u4f7f\u80fd\u95ea\u5149\u706f\uff0c2\uff1a\u7535\u6e90\u9a71\u52a8\u95ea\u5149\u706f\uff09\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"flash0_en"}),"\uff1a\u95ea\u5149\u706f\u4f7f\u80fdGPIO\uff08\u7c7b\u578b\u4e3a0\u62161\uff09\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"flash0_mode"}),"\uff1a\u95ea\u5149\u706f\u6a21\u5f0fGPIO\uff08\u7c7b\u578b\u4e3a0\u62161\uff09\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"flash0_flvdd"}),"\uff1a\u95ea\u5149\u706f\u6a21\u5757I/O\u7535\u6e90\u5904\u7406\u5b57\u7b26\u4e32\uff0cPMU\u7535\u6e90\u4f9b\u5e94\uff08\u7c7b\u578b\u4e3a2\uff09\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"flash0_flvdd_vol"}),"\uff1a\u95ea\u5149\u706f\u6a21\u5757I/O\u7535\u6e90\u7535\u538b\uff0cPMU\u7535\u6e90\u4f9b\u5e94\uff08\u7c7b\u578b\u4e3a2\uff09\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"status"}),'\uff1a\u8868\u793a\u662f\u5426\u542f\u7528\u95ea\u5149\u706f\u3002"disable"\u8868\u793a\u5173\u95ed\uff0c"okay"\u8868\u793a\u5f00\u542f\u3002']}),"\n"]}),"\n",(0,e.jsx)(t.p,{children:(0,e.jsx)(t.strong,{children:"\u5bf9\u7126\u5668\u914d\u7f6e\uff1a"})}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"actuator0_name"}),"\uff1a\u5bf9\u7126\u5668\u540d\u79f0\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"actuator0_slave"}),"\uff1a\u5bf9\u7126\u5668\u7684IIC\u4ece\u8bbe\u5907\u5730\u5740\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"actuator0_af_pwdn"}),"\uff1a\u5bf9\u7126\u5668\u7684\u7535\u6e90\u5173\u95edGPIO\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"actuator0_afvdd"}),"\uff1a\u5bf9\u7126\u5668\u7684\u7535\u6e90\u53e5\u67c4\u5b57\u7b26\u4e32\uff0cPMU\u7535\u6e90\u4f9b\u5e94\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"actuator0_afvdd_vol"}),"\uff1a\u5bf9\u7126\u5668\u7684\u7535\u6e90\u7535\u538b\uff0cPMU\u7535\u6e90\u4f9b\u5e94\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"status"}),'\uff1a\u8868\u793a\u662f\u5426\u4f7f\u7528\u5bf9\u7126\u5668\u3002"disable"\u4ee3\u8868\u5173\u95ed\uff0c"okay"\u4ee3\u8868\u5f00\u542f\u3002']}),"\n"]}),"\n",(0,e.jsx)(t.p,{children:(0,e.jsx)(t.strong,{children:"\u4f20\u611f\u5668\u914d\u7f6e\uff1a"})}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"device_type"}),"\uff1a\u4f20\u611f\u5668\u7c7b\u578b\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"sensor0_mname"}),"\uff1a\u4f20\u611f\u5668\u540d\u79f0\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"sensor0_twi_cci_id"}),"\uff1a\u4f20\u611f\u5668\u4f7f\u7528\u7684TWI\u6216\u8005CCI ID\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"sensor0_twi_addr"}),"\uff1a\u4f20\u611f\u5668\u7684TWI\u5730\u5740\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"sensor0_mclk_id"}),"\uff1a\u4f20\u611f\u5668\u4f7f\u7528\u7684MCLK ID\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"sensor0_pos"}),"\uff1a\u4f20\u611f\u5668\u7684\u4f4d\u7f6e\uff0c\u524d\u7f6e\u6216\u540e\u7f6e\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"sensor0_isp_used"}),"\uff1a\u662f\u5426\u4f7f\u7528ISP\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"sensor0_fmt"}),"\uff1a\u4f20\u611f\u5668\u6570\u636e\u683c\u5f0f\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"sensor0_stby_mode"}),"\uff1a\u5f85\u673a\u6a21\u5f0f\u4e0b\u662f\u5426\u5173\u95ed\u7535\u6e90\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"sensor0_vflip"}),"\uff1a\u5782\u76f4\u7ffb\u8f6c\u8bbe\u7f6e\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"sensor0_hflip"}),"\uff1a\u6c34\u5e73\u7ffb\u8f6c\u8bbe\u7f6e\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"sensor0_iovdd-supply"}),"\uff1a\u6444\u50cf\u5934\u6a21\u5757IO\u7535\u6e90\u5904\u7406\u5b57\u7b26\u4e32\uff0cPMU\u7535\u6e90\u4f9b\u5e94\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"sensor0_iovdd_vol"}),"\uff1a\u6444\u50cf\u5934\u6a21\u5757IO\u7535\u6e90\u7535\u538b\uff0cPMU\u7535\u6e90\u4f9b\u5e94\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"sensor0_avdd-supply"}),"\uff1a\u6444\u50cf\u5934\u6a21\u5757\u6a21\u62df\u7535\u6e90\u5904\u7406\u5b57\u7b26\u4e32\uff0cPMU\u7535\u6e90\u4f9b\u5e94\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"sensor0_avdd_vol"}),"\uff1a\u6444\u50cf\u5934\u6a21\u5757\u6a21\u62df\u7535\u6e90\u7535\u538b\uff0cPMU\u7535\u6e90\u4f9b\u5e94\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"sensor0_dvdd-supply"}),"\uff1a\u6444\u50cf\u5934\u6a21\u5757\u6838\u5fc3\u7535\u6e90\u5904\u7406\u5b57\u7b26\u4e32\uff0cPMU\u7535\u6e90\u4f9b\u5e94\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"sensor0_dvdd_vol"}),"\uff1a\u6444\u50cf\u5934\u6a21\u5757\u6838\u5fc3\u7535\u6e90\u7535\u538b\uff0cPMU\u7535\u6e90\u4f9b\u5e94\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"sensor0_power_en"}),"\uff1a\u6444\u50cf\u5934\u6a21\u5757\u7535\u6e90\u4f7f\u80fdGPIO\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"sensor0_reset"}),"\uff1a\u6444\u50cf\u5934\u6a21\u5757\u590d\u4f4dGPIO\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"sensor0_pwdn"}),"\uff1a\u6444\u50cf\u5934\u6a21\u5757PWDN GPIO\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"sensor0_sm_hs"}),"\uff1a\u6444\u50cf\u5934\u6a21\u5757SM_HS GPIO\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"sensor0_sm_vs"}),"\uff1a\u6444\u50cf\u5934\u6a21\u5757SM_VS GPIO\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"status"}),"\uff1a\u6253\u5f00\u6216\u5173\u95ed\u4f20\u611f\u5668\u8bbe\u5907\u3002"]}),"\n"]}),"\n",(0,e.jsx)(t.p,{children:"\u4ee5\u4e0a\u914d\u7f6e\u9700\u8981\u6839\u636e\u5177\u4f53\u7684\u65b9\u6848\u539f\u7406\u56fe\u548c\u5916\u8bbe\u6570\u636e\u624b\u518c\u8fdb\u884c\u8bbe\u7f6e\u3002"}),"\n",(0,e.jsx)(t.p,{children:(0,e.jsx)(t.strong,{children:"VIPP\u914d\u7f6e\uff1a"})}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"vinc0_csi_sel"}),"\uff1a\u8868\u793apipeline\u4e0aparser\u7684id\uff0c\u5fc5\u987b\u4e3a\u6709\u6548id\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"vinc0_mipi_sel"}),"\uff1a\u8868\u793apipeline\u4e0amipi\uff08sublvds/hispi\uff09\u7684id\uff0c\u5982\u679c\u4e0d\u4f7f\u7528\u65f6\u914d\u7f6e\u4e3a0xff\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"vinc0_isp_sel"}),"\uff1a\u8868\u793apipeline\u4e0aisp\u7684id\uff0c\u5fc5\u987b\u914d\u7f6e\u3002\u5f53isp\u4e3a\u7a7a\u65f6\uff0c\u8fd9\u4e2aisp\u53ea\u662f\u8868\u793a\u8def\u7531\u4e0d\u505aisp\u7684\u6548\u679c\u5904\u7406\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"vinc0_isp_tx_ch"}),"\uff1a\u8868\u793apipeline\u4e0aisp\u7684ch\uff0c\u5fc5\u987b\u914d\u7f6e\uff0c\u9ed8\u8ba4\u4e3a0\u3002\u5f53sensor\u662fbt656\u591a\u901a\u9053\u6216\u8005WDR\u51faRAW\u65f6\uff0c\u8be5ch\u53ef\u4ee5\u914d\u7f6e\u4e3a0\uff5e3\u7684\u503c\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"vinc0_tdm_rx_sel"}),"\uff1a\u8868\u793apipeline\u4e0atdm rx\u7684ch\uff0c\u5fc5\u987b\u914d\u7f6e\uff0c\u9ed8\u8ba4\u4e3a0\u3002\u5f53\u4e0d\u4f7f\u7528tdm\u529f\u80fd\u65f6\uff0c\u914d\u7f6e\u4e3a0xff\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"vinc0_rear_sensor_sel"}),"\uff1a\u8868\u793a\u4f7f\u7528\u7684\u540e\u7f6esensor\u7684id\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"vinc0_front_sensor_sel"}),"\uff1a\u8868\u793a\u4f7f\u7528\u7684\u524d\u7f6esensor\u7684id\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"vinc0_sensor_list"}),"\uff1a\u8868\u793a\u662f\u5426\u4f7f\u7528sensor_list\u6765\u9002\u914d\u4e0d\u540c\u7684\u6a21\u7ec4\uff0c1\u8868\u793a\u4f7f\u7528\uff0c0\u8868\u793a\u4e0d\u4f7f\u7528\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"work_mode"}),"\uff1a\u5de5\u4f5c\u6a21\u5f0f\uff0c0\u4ee3\u8868\u5728\u7ebf\u6a21\u5f0f\uff0c1\u4ee3\u8868\u79bb\u7ebf\u6a21\u5f0f\uff0c\u6839\u636e\u4f7f\u7528\u9700\u6c42\u8fdb\u884c\u914d\u7f6e\uff1b\u53ea\u6709vinc0/4/8/12\u53ef\u4ee5\u914d\u7f6e\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"status"}),'\uff1avipp\u7684\u4f7f\u80fd\u5f00\u5173\uff0c"okay"\u8868\u793a\u5f00\u542f\uff0c"disable"\u8868\u793a\u5173\u95ed\u3002']}),"\n"]}),"\n",(0,e.jsx)(t.h2,{id:"\u6a21\u5757\u9a71\u52a8",children:"\u6a21\u5757\u9a71\u52a8"}),"\n",(0,e.jsxs)(t.p,{children:["\u9a71\u52a8\u7684\u6e90\u4ee3\u7801\u4f4d\u4e8eBSP\u72ec\u7acb\u4ed3\u5e93\u7684 ",(0,e.jsx)(t.code,{children:"drivers/vin"})," \u76ee\u5f55\u4e0b\uff0c\u5177\u4f53\u7684\u8def\u5f84\u5982\u4e0b\u6240\u793a\uff1a"]}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{className:"language-c",children:".\r\n\u251c\u2500\u2500 Kconfig\r\n\u251c\u2500\u2500 Makefile\r\n\u251c\u2500\u2500 modules\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 actuator\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 actuator.c               \uff1bvcm driver\u7684\u4e00\u822c\u884c\u4e3a\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 actuator.h               \uff1bvcm driver\u7684\u5934\u6587\u4ef6\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 ad5820_act.c             \uff1b\u5177\u4f53vcm driver\u578b\u53f7\u5b9e\u73b0\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 an41908a_act.c           \uff1b\u5177\u4f53vcm driver\u578b\u53f7\u5b9e\u73b0\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 dw9714_act.c             \uff1b\u5177\u4f53vcm driver\u578b\u53f7\u5b9e\u73b0\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 Makefile                 \uff1b\u7f16\u8bd1\u6587\u4ef6\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 flash\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 flash.c                  \uff1bled\u8865\u5149\u706f\u63a7\u5236\u5b9e\u73b0\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 flash.h                  \uff1bled\u8865\u5149\u706f\u9a71\u52a8\u5934\u6587\u4ef6\r\n\u2502\xa0\xa0 \u2514\u2500\u2500 sensor\r\n\u2502\xa0\xa0     \u251c\u2500\u2500 ar0238.c                 \uff1b\u5177\u4f53\u7684sensor\u9a71\u52a8         \r\n\u2502\xa0\xa0     \u251c\u2500\u2500 camera_cfg.h             \uff1bcamera ioctl\u6269\u5c55\u547d\u4ee4\u5934\u6587\u4ef6\r\n\u2502\xa0\xa0     \u251c\u2500\u2500 camera.h                 \uff1bcamera\u516c\u7528\u7ed3\u6784\u4f53\u5934\u6587\u4ef6\r\n\u2502\xa0\xa0     \u251c\u2500\u2500 gc030a_mipi.c            \uff1b\u5177\u4f53\u7684sensor\u9a71\u52a8\r\n\u2502\xa0\xa0     \u251c\u2500\u2500 gc0310_mipi.c            \uff1b\u5177\u4f53\u7684sensor\u9a71\u52a8\r\n\u2502\xa0\xa0     \u251c\u2500\u2500 gc5024_mipi.c            \uff1b\u5177\u4f53\u7684sensor\u9a71\u52a8\r\n\u2502\xa0\xa0     \u251c\u2500\u2500 imx179_mipi.c            \uff1b\u5177\u4f53\u7684sensor\u9a71\u52a8\r\n\u2502\xa0\xa0     \u251c\u2500\u2500 imx214.c                 \uff1b\u5177\u4f53\u7684sensor\u9a71\u52a8\r\n\u2502\xa0\xa0     \u251c\u2500\u2500 imx219.c                 \uff1b\u5177\u4f53\u7684sensor\u9a71\u52a8\r\n\u2502\xa0\xa0     \u251c\u2500\u2500 imx317_mipi.c            \uff1b\u5177\u4f53\u7684sensor\u9a71\u52a8\r\n\u2502\xa0\xa0     \u251c\u2500\u2500 Makefile                 \uff1b\u9a71\u52a8\u7684\u7f16\u8bd1\u6587\u4ef6\r\n\u2502\xa0\xa0     \u251c\u2500\u2500 nvp6134                  \uff1b\u5177\u4f53\u7684dvp sensor\u9a71\u52a8\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 acp.c\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 acp_firmup.c\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 acp_firmup.h\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 acp.h\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 common.h\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 csi_dev_nvp6134.c\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 csi_dev_nvp6134.h\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 eq.c\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 eq_common.c\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 eq_common.h\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 eq.h\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 eq_recovery.c\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 eq_recovery.h\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 Makefile\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 nvp6134c.c             \uff1b\u5177\u4f53\u7684sensor\u9a71\u52a8\u5b9e\u73b0\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 type.h\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 video.c\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u2514\u2500\u2500 video.h\r\n\u2502\xa0\xa0     \u251c\u2500\u2500 nvp6158                    \uff1b\u5177\u4f53\u7684dvp sensor\u9a71\u52a8\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 audio.c                \uff1b\u97f3\u9891\u90e8\u5206\u5b9e\u73b0\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 audio.h                \uff1b\u97f3\u9891\u90e8\u5206\u5934\u6587\u4ef6\u63a5\u53e3\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 coax_protocol.c\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 coax_protocol.h\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 coax_table.h\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 common.h\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 Makefile\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 modules.builtin\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 modules.order\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 motion.c\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 motion.h\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 nvp6158c.c             \uff1b\u5177\u4f53\u7684sensor\u9a71\u52a8\u5b9e\u73b0\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 nvp6158_drv.c\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 nvp6158_drv.h\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 nvp6168_eq_table.h\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 video_auto_detect.c\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 video_auto_detect.h\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 video.c\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 video_eq.c\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 video_eq.h\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 video_eq_table.h\r\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 video.h\r\n\u2502\xa0\xa0     \u251c\u2500\u2500 rn6854m_mipi.c             \uff1b\u5177\u4f53\u7684sensor\u9a71\u52a8\u5b9e\u73b0\r\n\u2502\xa0\xa0     \u251c\u2500\u2500 sensor-compat-ioctl32.c\r\n\u2502\xa0\xa0     \u251c\u2500\u2500 sensor_helper.c            \uff1b\u9a71\u52a8\u51fd\u6570\u63a5\u53e3\u7684\u5b9e\u73b0\r\n\u2502\xa0\xa0     \u251c\u2500\u2500 sensor_helper.h            \uff1b\u9a71\u52a8\u51fd\u6570\u63a5\u53e3\u7684\u5b9a\u4e49\r\n\u251c\u2500\u2500 modules.builtin\r\n\u251c\u2500\u2500 modules.order\r\n\u251c\u2500\u2500 platform\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 platform_cfg.h                 \uff1bvin\u5e73\u53f0\u914d\u7f6e\u6587\u4ef6\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 sun50iw10p1_vin_cfg.h          \uff1b\u4e0d\u540c\u5e73\u53f0\u914d\u7f6e\u6587\u4ef6\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 sun50iw3p1_vin_cfg.h           \uff1b\u4e0d\u540c\u5e73\u53f0\u914d\u7f6e\u6587\u4ef6\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 sun50iw6p1_vin_cfg.h           \uff1b\u4e0d\u540c\u5e73\u53f0\u914d\u7f6e\u6587\u4ef6\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 sun50iw9p1_vin_cfg.h           \uff1b\u4e0d\u540c\u5e73\u53f0\u914d\u7f6e\u6587\u4ef6\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 sun8iw12p1_vin_cfg.h           \uff1b\u4e0d\u540c\u5e73\u53f0\u914d\u7f6e\u6587\u4ef6\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 sun8iw15p1_vin_cfg.h            \uff1b\u4e0d\u540c\u5e73\u53f0\u914d\u7f6e\u6587\u4ef6\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 sun8iw16p1_vin_cfg.h           \uff1b\u4e0d\u540c\u5e73\u53f0\u914d\u7f6e\u6587\u4ef6\r\n\u2502\xa0\xa0 \u2514\u2500\u2500 sun8iw19p1_vin_cfg.h           \uff1b\u4e0d\u540c\u5e73\u53f0\u914d\u7f6e\u6587\u4ef6\r\n\u251c\u2500\u2500 top_reg.c\r\n\u251c\u2500\u2500 top_reg.h\r\n\u251c\u2500\u2500 top_reg_i.h\r\n\u251c\u2500\u2500 top_reg.o\r\n\u251c\u2500\u2500 utility\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 bsp_common.c\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 bsp_common.h\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 bsp_common.o\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 cfg_op.c                       ;\u8bfb\u53d6ini\u6587\u4ef6\u7684\u5b9e\u73b0\u51fd\u6570\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 cfg_op.h                       ;\u8bfb\u53d6ini\u6587\u4ef6\u7684\u5b9e\u73b0\u51fd\u6570\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 config.c                       ;sensor\u7535\u538b\u3001\u901a\u9053\u9009\u62e9\u3001twi\u5730\u5740\u7b49\u4fe1\u606f\u8bfb\u53d6\u51fd\u6570\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 config.h                       ;sensor\u7535\u538b\u3001\u901a\u9053\u9009\u62e9\u3001twi\u5730\u5740\u7b49\u4fe1\u606f\u8bfb\u53d6\u51fd\u6570\u5934\u6587\u4ef6\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 vin_io.h                       ;vin\u6a21\u5757\u5bc4\u5b58\u5668\u64cd\u4f5c\u5934\u6587\u4ef6\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 vin_os.c\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 vin_os.h\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 vin_supply.c\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 vin_supply.h\r\n\u251c\u2500\u2500 vin.c\r\n\u251c\u2500\u2500 vin-cci\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 bsp_cci.c                     \uff1b\u5e95\u5c42cci bsp\u51fd\u6570 \r\n\u2502\xa0\xa0 \u251c\u2500\u2500 bsp_cci.h                     \uff1b\u5e95\u5c42cci bsp\u51fd\u6570\u5934\u6587\u4ef6\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 cci_helper.c                  \uff1bcci \u5e2e\u52a9\u51fd\u6570\uff0c\u4f9bsensor\u9a71\u52a8\u8c03\u7528\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 cci_helper.h                  \uff1bcci \u5e2e\u52a9\u51fd\u6570\u5934\u6587\u4ef6\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 csi_cci_reg.c                 \uff1bcci\u786c\u4ef6\u5e95\u5c42\u5b9e\u73b0\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 csi_cci_reg.h                 \uff1bcci\u786c\u4ef6\u5e95\u5c42\u5b9e\u73b0\u5934\u6587\u4ef6\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 csi_cci_reg_i.h               \uff1bcci \u5bc4\u5b58\u5668\u8d44\u6e90\u5934\u6587\u4ef6\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 Kconfig\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 sunxi_cci.c                   \uff1bcci \u5e73\u53f0\u9a71\u52a8\u6e90\u6587\u4ef6\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 sunxi_cci.h                   \uff1bcci \u5e73\u53f0\u9a71\u52a8\u5934\u6587\u4ef6\r\n\u251c\u2500\u2500 vin-csi\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 parser_reg.c                  \uff1bCSI\u63a7\u5236\u51fd\u6570\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 parser_reg.h                  \uff1bCSI\u63a7\u5236\u51fd\u6570\u5934\u6587\u4ef6\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 parser_reg_i.h                \uff1bCSI \u5bc4\u5b58\u5668\u503c\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 sunxi_csi.c                   \uff1bcsi \u5b50\u6a21\u5757\u9a71\u52a8\u539f\u6587\u4ef6\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 sunxi_csi.h                   \uff1bcsi \u5b50\u6a21\u5757\u9a71\u52a8\u5934\u6587\u4ef6\r\n\u251c\u2500\u2500 vin.h\r\n\u251c\u2500\u2500 vin-isp\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 isp500\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 isp500_reg_cfg.c\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 isp500_reg_cfg.h\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 isp500_reg_cfg.o\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 isp500_reg.h\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 isp520\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 isp520_reg_cfg.c\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 isp520_reg_cfg.h\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 isp520_reg.h\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 isp521\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 isp521_reg_cfg.c\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 isp521_reg_cfg.h\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 isp521_reg.h\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 isp522\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 isp522_reg_cfg.c\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 isp522_reg_cfg.h\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 isp522_reg.h\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 isp_default_tbl.h\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 sunxi_isp.c\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 sunxi_isp.h\r\n\u2502\xa0\xa0 \u2514\u2500\u2500 sunxi_isp.o\r\n\u251c\u2500\u2500 vin-mipi\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 bsp_mipi_csi.c              \uff1b\u5e95\u5c42mipi bsp\u51fd\u6570\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 bsp_mipi_csi.h              \uff1b\u5e95\u5c42mipi bsp\u51fd\u6570\u5934\u6587\u4ef6\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 bsp_mipi_csi_null.c         \uff1b\u5e95\u5c42mipi bsp\u7a7a\u51fd\u6570\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 bsp_mipi_csi_v1.c           \uff1b\u5e95\u5c42mipi bsp\u51fd\u6570--v1\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 combo_common.h\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 combo_csi\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 combo_csi_reg.c\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 combo_csi_reg.h\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 combo_csi_reg_i.h\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 combo_rx\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 combo_rx_reg.c\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 combo_rx_reg.h\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 combo_rx_reg_i.h\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 combo_rx_reg_null.c\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 dphy\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 dphy.h                  \uff1bmipi dphy\u5934\u6587\u4ef6\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 dphy_reg.c              \uff1bmipi dphy\u5e95\u5c42\u5b9e\u73b0\u51fd\u6570\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 dphy_reg.h              \uff1bmipi dphy\u5e95\u5c42\u5b9e\u73b0\u51fd\u6570\u5934\u6587\u4ef6\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 dphy_reg_i.h            \uff1bmipi dphy \u5bc4\u5b58\u5668\u8d44\u6e90\u5934\u6587\u4ef6\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 protocol\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 protocol.h              \uff1bmipi\u534f\u8bae\u5c42\u5934\u6587\u4ef6\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 protocol_reg.c          \uff1bmipi\u534f\u8bae\u5c42\u5e95\u5c42\u5b9e\u73b0\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 protocol_reg.h          \uff1bmipi\u534f\u8bae\u5c42\u5e95\u5c42\u5b9e\u73b0\u5934\u6587\u4ef6\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 protocol_reg_i.h\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 protocol.h\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 sunxi_mipi.c\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 sunxi_mipi.h\r\n\u251c\u2500\u2500 vin-stat\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 vin_h3a.c                   \uff1b3A\u63a7\u5236\u63a5\u53e3\u51fd\u6570\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 vin_h3a.h                   \uff1b3A\u63a7\u5236\u63a5\u53e3\u51fd\u6570\u5934\u6587\u4ef6\r\n\u251c\u2500\u2500 vin-tdm\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 tdm_reg.c                   \uff1bTDM\u5bc4\u5b58\u5668\u63a7\u5236\u51fd\u6570\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 tdm_reg.h\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 tdm_reg_i.h\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 vin_tdm.c\r\n\u2502\xa0\xa0 \u2514\u2500\u2500 vin_tdm.h\r\n\u251c\u2500\u2500 vin_test\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 mplane_image                          \r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 csi_test_mplane.c       \uff1bcamera\u6293\u56fe\u6d4b\u8bd5\u7528\u4f8b\r\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 Makefile                \uff1b\u6d4b\u8bd5\u7528\u4f8b\u7f16\u8bd1\u6587\u4ef6\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 sunxi_camera_v2.h\r\n\u2502\xa0\xa0 \u2514\u2500\u2500 sunxi_display2.h\r\n\u251c\u2500\u2500 vin-video\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 dma_reg.c                   \uff1bcsi dma\u5bc4\u5b58\u5668\u63a7\u5236\u51fd\u6570\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 dma_reg.h                   \uff1bcsi dma\u5bc4\u5b58\u5668\u63a7\u5236\u51fd\u6570\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 dma_reg_i.h                 \uff1bcsi dma \u5bc4\u5b58\u5668\u503c\u5b9a\u4e49\u5934\u6587\u4ef6\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 vin_core.c                  \uff1bvin\u6a21\u5757\u6838\u5fc3\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 vin_core.h                  \uff1bvin\u6a21\u5757\u6838\u5fc3\u5934\u6587\u4ef6\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 vin_video.c                 \uff1b \u6570\u636e\u683c\u5f0f\u5904\u7406\u3001pipe\u901a\u9053\u9009\u62e9\u3001Buffer\u7ba1\u7406\u7b49\u51fd\u6570\r\n\u2502\xa0\xa0 \u251c\u2500\u2500 vin_video.h                 \uff1b\u6570\u636e\u683c\u5f0f\u5904\u7406\u3001pipe\u901a\u9053\u9009\u62e9\u3001Buffer\u7ba1\u7406\u7b49\u51fd\u6570\u5934\u6587\u4ef6\r\n\u2514\u2500\u2500 vin-vipp\r\n    \u251c\u2500\u2500 sunxi_scaler.c              \uff1b\u56fe\u50cf\u538b\u7f29\u5904\u7406\u51fd\u6570\r\n    \u251c\u2500\u2500 sunxi_scaler.h              \uff1b\u56fe\u50cf\u538b\u7f29\u5904\u7406\u51fd\u6570\u5934\u6587\u4ef6\r\n    \u251c\u2500\u2500 vipp_reg.c                  \uff1bvipp\u5bc4\u5b58\u5668\u63a7\u5236\u51fd\u6570\r\n    \u251c\u2500\u2500 vipp_reg.h                  \uff1bvipp\u5bc4\u5b58\u5668\u63a7\u5236\u51fd\u6570\u5934\u6587\u4ef6\r\n    \u251c\u2500\u2500 vipp_reg_i.h                \uff1bvipp\u5bc4\u5b58\u5668\u5177\u4f53\u63cf\u8ff0\u5934\u6587\u4ef6\n"})}),"\n",(0,e.jsx)(t.h2,{id:"v4l2\u63a5\u53e3\u63cf\u8ff0",children:"V4L2\u63a5\u53e3\u63cf\u8ff0"}),"\n",(0,e.jsx)(t.h3,{id:"vidioc_querycap",children:"VIDIOC_QUERYCAP"}),"\n",(0,e.jsx)(t.h4,{id:"\u53c2\u6570",children:"\u53c2\u6570"}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{className:"language-c",children:'struct v4l2_capability {\r\n    __u8    driver[16];    /* \u9a71\u52a8\u7a0b\u5e8f\u540d\u79f0\uff0c\u4f8b\u5982 "bttv" */\r\n    __u8    card[32];    /* \u8bbe\u5907\u540d\u79f0\uff0c\u4f8b\u5982 "Hauppauge WinTV" */\r\n    __u8    bus_info[32];    /* \u603b\u7ebf\u4fe1\u606f\uff0c\u4f8b\u5982 "PCI:" + pci_name(pci_dev) */\r\n    __u32   version;        /* \u9a71\u52a8\u7a0b\u5e8f\u7248\u672c\uff0c\u5e94\u4f7f\u7528 KERNEL_VERSION() */\r\n    __u32    capabilities;    /* \u8bbe\u5907\u80fd\u529b */\r\n    __u32    reserved[4];\r\n};\n'})}),"\n",(0,e.jsx)(t.h4,{id:"\u8fd4\u56de\u503c",children:"\u8fd4\u56de\u503c"}),"\n",(0,e.jsx)(t.p,{children:"\u6210\u529f\uff1a0\uff1b\u5931\u8d25\uff1a\u5931\u8d25\u4ee3\u7801"}),"\n",(0,e.jsx)(t.h4,{id:"\u63cf\u8ff0",children:"\u63cf\u8ff0"}),"\n",(0,e.jsx)(t.p,{children:"\u83b7\u53d6CSI\u9a71\u52a8\u7684\u540d\u79f0\u3001\u7248\u672c\u3001\u652f\u6301\u7684\u529f\u80fd\u7b49\u4fe1\u606f\uff0c\u5982V4L2_CAP_STREAMIN\u3001V4L2_BUF_TYPE_VIDEO_CAPTURE_MPLANE\u7b49\u3002"}),"\n",(0,e.jsx)(t.h3,{id:"vidioc_enum_input",children:"VIDIOC_ENUM_INPUT"}),"\n",(0,e.jsx)(t.h4,{id:"\u53c2\u6570-1",children:"\u53c2\u6570"}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{className:"language-c",children:"struct v4l2_input {\r\n    __u32         index;        /* \u8f93\u5165\u7684\u7d22\u5f15 */\r\n    __u8         name[32];        /* \u6807\u7b7e */\r\n    __u32         type;        /* \u8f93\u5165\u7c7b\u578b */\r\n    __u32         audioset;        /* \u5173\u8054\u7684\u97f3\u9891\u8bbe\u5907\uff08\u4f4d\u5b57\u6bb5\uff09 */\r\n    __u32        tuner;             /* \u5173\u8054\u7684\u8c03\u8c10\u5668 */\r\n    v4l2_std_id  std;\r\n    __u32         status;\r\n    __u32         capabilities;\r\n    __u32         reserved[3];\r\n};\n"})}),"\n",(0,e.jsx)(t.h4,{id:"\u8fd4\u56de\u503c-1",children:"\u8fd4\u56de\u503c"}),"\n",(0,e.jsx)(t.p,{children:"\u6210\u529f\uff1a0\uff1b\u5931\u8d25\uff1a\u5931\u8d25\u4ee3\u7801"}),"\n",(0,e.jsx)(t.h4,{id:"\u63cf\u8ff0-1",children:"\u63cf\u8ff0"}),"\n",(0,e.jsx)(t.p,{children:"\u83b7\u53d6\u9a71\u52a8\u652f\u6301\u7684\u8f93\u5165\u7d22\u5f15\u3002\u76ee\u524d\u9a71\u52a8\u4ec5\u652f\u6301\u8f93\u5165\u7d22\u5f15\u4e3a0\u62161\u3002"}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsx)(t.li,{children:"\u7d22\u5f15\u4e3a0\u8868\u793a\u4e3b\u8981\u7684CSI\u8bbe\u5907\u3002"}),"\n",(0,e.jsx)(t.li,{children:"\u7d22\u5f15\u4e3a1\u8868\u793a\u6b21\u8981\u7684CSI\u8bbe\u5907\u3002"}),"\n"]}),"\n",(0,e.jsx)(t.p,{children:"\u5e94\u7528\u8f93\u5165\u7684\u7d22\u5f15\u53c2\u6570\uff0c\u9a71\u52a8\u5c06\u8fd4\u56de\u76f8\u5e94\u7684\u7c7b\u578b\u3002\u5bf9\u4e8eVIN\u8bbe\u5907\u6765\u8bf4\uff0c\u7c7b\u578b\u4e3aV4L2_INPUT_TYPE_CAMERA\u3002"}),"\n",(0,e.jsx)(t.h3,{id:"vidioc_s_input",children:"VIDIOC_S_INPUT"}),"\n",(0,e.jsx)(t.h4,{id:"\u53c2\u6570-2",children:"\u53c2\u6570"}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{children:"input(struct v4l2_input *inp)\r\n\u4e0e VIDIOC_ENUM_INPUT \u76f8\u540c\n"})}),"\n",(0,e.jsx)(t.h4,{id:"\u8fd4\u56de\u503c-2",children:"\u8fd4\u56de\u503c"}),"\n",(0,e.jsx)(t.p,{children:"\u6210\u529f\uff1a0\uff1b\u5931\u8d25\uff1a\u5931\u8d25\u4ee3\u7801"}),"\n",(0,e.jsx)(t.h4,{id:"\u63cf\u8ff0-2",children:"\u63cf\u8ff0"}),"\n",(0,e.jsxs)(t.p,{children:["\u901a\u8fc7 ",(0,e.jsx)(t.code,{children:"inp.index"})," \u8bbe\u7f6e\u5f53\u524d\u8981\u8bbf\u95ee\u7684 CSI \u8bbe\u5907\u4e3a\u4e3b\u8981\u8bbe\u5907\uff08primary device\uff09\u8fd8\u662f\u6b21\u8981\u8bbe\u5907\uff08secondary device\uff09\u3002"]}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsx)(t.li,{children:"\u7d22\u5f15\u4e3a 0\uff1a\u4e00\u822c\u5bf9\u5e94\u540e\u7f6e\u6444\u50cf\u5934\u3002\u5982\u679c\u53ea\u6709\u4e00\u4e2a\u6444\u50cf\u5934\u8bbe\u5907\uff0c\u5219\u7d22\u5f15\u56fa\u5b9a\u4e3a 0\u3002"}),"\n",(0,e.jsx)(t.li,{children:"\u7d22\u5f15\u4e3a 1\uff1a\u4e00\u822c\u5bf9\u5e94\u524d\u7f6e\u6444\u50cf\u5934\u3002"}),"\n"]}),"\n",(0,e.jsx)(t.p,{children:"\u8c03\u7528\u6b64\u63a5\u53e3\u540e\uff0c\u5b9e\u9645\u4e0a\u4f1a\u5bf9 CSI \u8bbe\u5907\u8fdb\u884c\u521d\u59cb\u5316\u5de5\u4f5c\u3002"}),"\n",(0,e.jsxs)(t.blockquote,{children:["\n",(0,e.jsx)(t.p,{children:"\u5728 A133 \u5e73\u53f0\u4e2d\uff1a\u5f53\u5728 video0 \u6216 video1 \u4e0a\u65f6\uff0c\u7d22\u5f15\u5e94\u56fa\u5b9a\u4e3a 0\uff1b\u5f53\u5728 video2 \u6216 video3 \u4e0a\u65f6\uff0c\u7d22\u5f15\u5e94\u8bbe\u7f6e\u4e3a 1\u3002"}),"\n"]}),"\n",(0,e.jsx)(t.h3,{id:"vidioc_g_input",children:"VIDIOC_G_INPUT"}),"\n",(0,e.jsx)(t.h4,{id:"\u53c2\u6570-3",children:"\u53c2\u6570"}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{children:"input(struct v4l2_input *inp)\r\n\u4e0e VIDIOC_ENUM_INPUT \u76f8\u540c\n"})}),"\n",(0,e.jsx)(t.h4,{id:"\u8fd4\u56de\u503c-3",children:"\u8fd4\u56de\u503c"}),"\n",(0,e.jsx)(t.p,{children:"\u6210\u529f\uff1a0\uff1b\u5931\u8d25\uff1a\u5931\u8d25\u4ee3\u7801"}),"\n",(0,e.jsx)(t.h4,{id:"\u63cf\u8ff0-3",children:"\u63cf\u8ff0"}),"\n",(0,e.jsxs)(t.p,{children:["\u83b7\u53d6 ",(0,e.jsx)(t.code,{children:"inp.index"}),"\uff0c\u5224\u65ad\u5f53\u524d\u8bbe\u7f6e\u7684 CSI \u8bbe\u5907\u4e3a\u4e3b\u8981\u8bbe\u5907\uff08primary device\uff09\u8fd8\u662f\u6b21\u8981\u8bbe\u5907\uff08secondary device\uff09\u3002"]}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsx)(t.li,{children:"\u7d22\u5f15\u4e3a 0\uff1a\u4e00\u822c\u5bf9\u5e94\u540e\u7f6e\u6444\u50cf\u5934\u3002\u5982\u679c\u53ea\u6709\u4e00\u4e2a\u6444\u50cf\u5934\u8bbe\u5907\uff0c\u5219\u7d22\u5f15\u56fa\u5b9a\u4e3a 0\u3002"}),"\n",(0,e.jsx)(t.li,{children:"\u7d22\u5f15\u4e3a 1\uff1a\u4e00\u822c\u5bf9\u5e94\u524d\u7f6e\u6444\u50cf\u5934\u3002"}),"\n"]}),"\n",(0,e.jsx)(t.h3,{id:"vidioc_s_parm",children:"VIDIOC_S_PARM"}),"\n",(0,e.jsx)(t.h4,{id:"\u53c2\u6570-4",children:"\u53c2\u6570"}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{className:"language-c",children:"struct v4l2_streamparm {\r\n    enum v4l2_buf_type type;\r\n    union {\r\n        struct v4l2_captureparm    capture;\r\n        struct v4l2_outputparm    output;\r\n        __u8    raw_data[200];  /* \u7528\u6237\u81ea\u5b9a\u4e49 */\r\n    } parm;\r\n};\r\n\r\nstruct v4l2_captureparm {\r\n    __u32           capability;      /* \u652f\u6301\u7684\u6a21\u5f0f */\r\n    __u32           capturemode;      /* \u5f53\u524d\u6a21\u5f0f */\r\n    struct v4l2_fract  timeperframe;  /* \u6bcf\u5e27\u7684\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a0.1\u5fae\u79d2 */\r\n    __u32           extendedmode;  /* \u9a71\u52a8\u7a0b\u5e8f\u7279\u5b9a\u7684\u6269\u5c55 */\r\n    __u32              readbuffers;   /* \u8bfb\u53d6\u7f13\u51b2\u533a\u7684\u6570\u91cf */\r\n    __u32           reserved[4];\r\n};\n"})}),"\n",(0,e.jsx)(t.h4,{id:"\u8fd4\u56de\u503c-4",children:"\u8fd4\u56de\u503c"}),"\n",(0,e.jsx)(t.p,{children:"\u6210\u529f\uff1a0\uff1b\u5931\u8d25\uff1a\u5931\u8d25\u4ee3\u7801"}),"\n",(0,e.jsx)(t.h4,{id:"\u63cf\u8ff0-4",children:"\u63cf\u8ff0"}),"\n",(0,e.jsxs)(t.p,{children:["CSI \u4f5c\u4e3a\u8f93\u5165\u8bbe\u5907\uff0c\u53ea\u5173\u6ce8 ",(0,e.jsx)(t.code,{children:"parms.type"})," \u548c ",(0,e.jsx)(t.code,{children:"parms.capture"}),"\u3002\r\n\u5e94\u7528\u4f7f\u7528\u65f6\uff0c",(0,e.jsx)(t.code,{children:"parms.type = V4L2_BUF_TYPE_VIDEO_CAPTURE_MPLANE"}),"\uff1b",(0,e.jsx)(t.br,{}),"\n","\u901a\u8fc7\u8bbe\u7f6e ",(0,e.jsx)(t.code,{children:"parms->capture.capturemode"}),"\uff08",(0,e.jsx)(t.code,{children:"V4L2_MODE_VIDEO"})," \u6216 ",(0,e.jsx)(t.code,{children:"V4L2_MODE_IMAGE"}),"\uff09\uff0c\u5b9e\u73b0\u89c6\u9891\u6216\u56fe\u7247\u7684\u91c7\u96c6\u3002\r\n\u901a\u8fc7\u8bbe\u7f6e ",(0,e.jsx)(t.code,{children:"parms->capture.timeperframe"}),"\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u5e27\u7387\u3002"]}),"\n",(0,e.jsx)(t.h3,{id:"vidioc_g_parm",children:"VIDIOC_G_PARM"}),"\n",(0,e.jsx)(t.h4,{id:"\u53c2\u6570-5",children:"\u53c2\u6570"}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{children:"Parameter(struct v4l2_streamparm *parms)\r\n\u4e0e VIDIOC_S_PARM \u76f8\u540c\n"})}),"\n",(0,e.jsx)(t.h4,{id:"\u8fd4\u56de\u503c-5",children:"\u8fd4\u56de\u503c"}),"\n",(0,e.jsx)(t.p,{children:"\u6210\u529f\uff1a0\uff1b\u5931\u8d25\uff1a\u5931\u8d25\u4ee3\u7801"}),"\n",(0,e.jsx)(t.h4,{id:"\u63cf\u8ff0-5",children:"\u63cf\u8ff0"}),"\n",(0,e.jsxs)(t.p,{children:["\u5e94\u7528\u4f7f\u7528\u65f6\uff0c",(0,e.jsx)(t.code,{children:"parms.type = V4L2_BUF_TYPE_VIDEO_CAPTURE_MPLANE"}),"\uff1b",(0,e.jsx)(t.br,{}),"\n","\u901a\u8fc7 ",(0,e.jsx)(t.code,{children:"parms->capture.capturemode"})," \u8fd4\u56de\u5f53\u524d\u662f ",(0,e.jsx)(t.code,{children:"V4L2_MODE_VIDEO"})," \u6216 ",(0,e.jsx)(t.code,{children:"V4L2_MODE_IMAGE"}),"\uff1b",(0,e.jsx)(t.br,{}),"\n","\u901a\u8fc7 ",(0,e.jsx)(t.code,{children:"parms->capture.timeperframe"})," \u8fd4\u56de\u5f53\u524d\u8bbe\u7f6e\u7684\u5e27\u7387\u3002"]}),"\n",(0,e.jsx)(t.h3,{id:"vidioc_enum_fmt",children:"VIDIOC_ENUM_FMT"}),"\n",(0,e.jsx)(t.h4,{id:"\u53c2\u6570-6",children:"\u53c2\u6570"}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{className:"language-c",children:"struct v4l2_fmtdesc {\r\n    __u32            index;             /* \u683c\u5f0f\u7f16\u53f7 */\r\n    enum v4l2_buf_type  type;              /* \u7f13\u51b2\u533a\u7c7b\u578b */\r\n    __u32               flags;\r\n    __u8            description[32];   /* \u63cf\u8ff0\u5b57\u7b26\u4e32 */\r\n    __u32            pixelformat;       /* \u683c\u5f0f\u7684 FourCC \u503c */\r\n    __u32            reserved[4];\r\n};\n"})}),"\n",(0,e.jsx)(t.h4,{id:"\u8fd4\u56de\u503c-6",children:"\u8fd4\u56de\u503c"}),"\n",(0,e.jsx)(t.p,{children:"\u6210\u529f\uff1a0\uff1b\u5931\u8d25\uff1a\u5931\u8d25\u4ee3\u7801"}),"\n",(0,e.jsx)(t.h4,{id:"\u63cf\u8ff0-6",children:"\u63cf\u8ff0"}),"\n",(0,e.jsxs)(t.p,{children:["\u83b7\u53d6\u9a71\u52a8\u652f\u6301\u7684 V4L2 \u683c\u5f0f\u3002",(0,e.jsx)(t.br,{}),"\n","\u5e94\u7528\u8f93\u5165 ",(0,e.jsx)(t.code,{children:"type"}),"\u3001",(0,e.jsx)(t.code,{children:"index"})," \u53c2\u6570\uff0c\u9a71\u52a8\u8fd4\u56de ",(0,e.jsx)(t.code,{children:"pixelformat"}),"\u3002\u5bf9\u4e8e VIN \u8bbe\u5907\u6765\u8bf4\uff0c",(0,e.jsx)(t.code,{children:"type"})," \u4e3a ",(0,e.jsx)(t.code,{children:"V4L2_BUF_TYPE_VIDEO_CAPTURE_MPLANE"}),"\u3002"]}),"\n",(0,e.jsx)(t.h3,{id:"vidioc_try_fmt",children:"VIDIOC_TRY_FMT"}),"\n",(0,e.jsx)(t.h4,{id:"\u53c2\u6570-7",children:"\u53c2\u6570"}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{className:"language-c",children:"struct v4l2_format {\r\n    enum v4l2_buf_type type;\r\n    union {\r\n        struct v4l2_pix_format        pix;    \r\n        struct v4l2_pix_format_mplane    pix_mp;\r\n        struct v4l2_window        win;    \r\n        struct v4l2_vbi_format        vbi;\r\n        struct v4l2_sliced_vbi_format    sliced;\r\n        __u8    raw_data[200];                  \r\n    } fmt;\r\n};\r\n\r\nstruct v4l2_pix_format {\r\n    __u32                 width;\r\n    __u32            height;\r\n    __u32            pixelformat;\r\n    enum v4l2_field      field;\r\n    __u32                bytesperline;    /* \u7528\u4e8e\u586b\u5145\uff0c\u5982\u679c\u672a\u4f7f\u7528\u5219\u4e3a\u96f6 */\r\n    __u32                  sizeimage;\r\n    enum v4l2_colorspace    colorspace;\r\n    __u32            priv;        /* \u79c1\u6709\u6570\u636e\uff0c\u53d6\u51b3\u4e8e\u50cf\u7d20\u683c\u5f0f */\r\n};\n"})}),"\n",(0,e.jsx)(t.h4,{id:"\u8fd4\u56de\u503c-7",children:"\u8fd4\u56de\u503c"}),"\n",(0,e.jsx)(t.p,{children:"\u6210\u529f\uff1a0\uff1b\u5931\u8d25\uff1a\u5931\u8d25\u4ee3\u7801"}),"\n",(0,e.jsx)(t.h4,{id:"\u63cf\u8ff0-7",children:"\u63cf\u8ff0"}),"\n",(0,e.jsxs)(t.p,{children:["\u6839\u636e\u6355\u6349\u89c6\u9891\u7684\u7c7b\u578b\u3001\u683c\u5f0f\u548c\u5927\u5c0f\uff0c\u5224\u65ad\u6a21\u5f0f\u3001\u683c\u5f0f\u7b49\u662f\u5426\u88ab\u9a71\u52a8\u652f\u6301\u3002\u4e0d\u4f1a\u6539\u53d8\u4efb\u4f55\u786c\u4ef6\u8bbe\u7f6e\u3002",(0,e.jsx)(t.br,{}),"\n","\u5bf9\u4e8e VIN \u8bbe\u5907\uff0c",(0,e.jsx)(t.code,{children:"type"})," \u4e3a ",(0,e.jsx)(t.code,{children:"V4L2_BUF_TYPE_VIDEO_CAPTURE_MPLANE"}),"\u3002\u4f7f\u7528 ",(0,e.jsx)(t.code,{children:"struct v4l2_pix_format_mplane"})," \u8fdb\u884c\u53c2\u6570\u4f20\u9012\u3002",(0,e.jsx)(t.br,{}),"\n","\u5e94\u7528\u7a0b\u5e8f\u8f93\u5165 ",(0,e.jsx)(t.code,{children:"struct v4l2_pix_format_mplane"})," \u7ed3\u6784\u4f53\u4e2d\u7684 ",(0,e.jsx)(t.code,{children:"width"}),"\u3001",(0,e.jsx)(t.code,{children:"height"}),"\u3001",(0,e.jsx)(t.code,{children:"pixelformat"}),"\u3001",(0,e.jsx)(t.code,{children:"field"})," \u7b49\u53c2\u6570\uff0c\u9a71\u52a8\u8fd4\u56de\u6700\u63a5\u8fd1\u7684 ",(0,e.jsx)(t.code,{children:"width"}),"\u3001",(0,e.jsx)(t.code,{children:"height"}),"\uff1b\u82e5 ",(0,e.jsx)(t.code,{children:"pixelformat"}),"\u3001",(0,e.jsx)(t.code,{children:"field"})," \u4e0d\u652f\u6301\uff0c\u5219\u9ed8\u8ba4\u9009\u62e9\u9a71\u52a8\u652f\u6301\u7684\u7b2c\u4e00\u79cd\u683c\u5f0f\u3002"]}),"\n",(0,e.jsx)(t.h3,{id:"vidioc_s_fmt",children:"VIDIOC_S_FMT"}),"\n",(0,e.jsx)(t.h4,{id:"\u53c2\u6570-8",children:"\u53c2\u6570"}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{children:"\u89c6\u9891\u7c7b\u578b\u3001\u683c\u5f0f\u548c\u5927\u5c0f\uff08struct v4l2_format * fmt\uff09\r\n\u4e0e VIDIOC_TRY_FMT \u76f8\u540c\n"})}),"\n",(0,e.jsx)(t.h4,{id:"\u8fd4\u56de\u503c-8",children:"\u8fd4\u56de\u503c"}),"\n",(0,e.jsx)(t.p,{children:"\u6210\u529f\uff1a0\uff1b\u5931\u8d25\uff1a\u5931\u8d25\u4ee3\u7801"}),"\n",(0,e.jsx)(t.h4,{id:"\u63cf\u8ff0-8",children:"\u63cf\u8ff0"}),"\n",(0,e.jsxs)(t.p,{children:["\u8bbe\u7f6e\u6355\u6349\u89c6\u9891\u7684\u7c7b\u578b\u3001\u683c\u5f0f\u548c\u5927\u5c0f\uff0c\u8bbe\u7f6e\u4e4b\u524d\u4f1a\u8c03\u7528 VIDIOC_TRY_FMT\u3002",(0,e.jsx)(t.br,{}),"\n","\u5bf9\u4e8e VIN \u8bbe\u5907\uff0c",(0,e.jsx)(t.code,{children:"type"})," \u4e3a ",(0,e.jsx)(t.code,{children:"V4L2_BUF_TYPE_VIDEO_CAPTURE_MPLANE"}),"\u3002\u4f7f\u7528 ",(0,e.jsx)(t.code,{children:"struct v4l2_pix_format_mplane"})," \u8fdb\u884c\u53c2\u6570\u4f20\u9012\u3002",(0,e.jsx)(t.br,{}),"\n","\u5e94\u7528\u7a0b\u5e8f\u8f93\u5165 ",(0,e.jsx)(t.code,{children:"width"}),"\u3001",(0,e.jsx)(t.code,{children:"height"}),"\u3001",(0,e.jsx)(t.code,{children:"pixelformat"}),"\u3001",(0,e.jsx)(t.code,{children:"field"})," \u7b49\uff0c\u9a71\u52a8\u8fd4\u56de\u6700\u63a5\u8fd1\u7684 ",(0,e.jsx)(t.code,{children:"width"}),"\u3001",(0,e.jsx)(t.code,{children:"height"}),"\uff1b\u82e5 ",(0,e.jsx)(t.code,{children:"pixelformat"}),"\u3001",(0,e.jsx)(t.code,{children:"field"})," \u4e0d\u652f\u6301\uff0c\u5219\u9ed8\u8ba4\u9009\u62e9\u9a71\u52a8\u652f\u6301\u7684\u7b2c\u4e00\u79cd\u683c\u5f0f\u3002",(0,e.jsx)(t.br,{}),"\n","\u5e94\u7528\u7a0b\u5e8f\u5e94\u8be5\u4ee5\u9a71\u52a8\u8fd4\u56de\u7684 ",(0,e.jsx)(t.code,{children:"width"}),"\u3001",(0,e.jsx)(t.code,{children:"height"}),"\u3001",(0,e.jsx)(t.code,{children:"pixelformat"}),"\u3001",(0,e.jsx)(t.code,{children:"field"})," \u7b49\u4f5c\u4e3a\u540e\u7eed\u4f7f\u7528\u4f20\u9012\u7684\u53c2\u6570\u3002",(0,e.jsx)(t.br,{}),"\n","\u5bf9\u4e8e OSD \u8bbe\u5907\uff0c",(0,e.jsx)(t.code,{children:"type"})," \u4e3a ",(0,e.jsx)(t.code,{children:"V4L2_BUF_TYPE_VIDEO_OVERLAY"}),"\u3002\u4f7f\u7528 ",(0,e.jsx)(t.code,{children:"struct v4l2_window"})," \u8fdb\u884c\u53c2\u6570\u4f20\u9012\u3002",(0,e.jsx)(t.br,{}),"\n","\u5e94\u7528\u7a0b\u5e8f\u8f93\u5165\u6c34\u5370\u7684\u4e2a\u6570\u3001\u7a97\u53e3\u4f4d\u7f6e\u548c\u5927\u5c0f\u3001bitmap \u5730\u5740\u3001bitmap \u683c\u5f0f\u4ee5\u53ca global_alpha \u7b49\u3002\u9a71\u52a8\u4fdd\u5b58\u8fd9\u4e9b\u53c2\u6570\uff0c\u5e76\u5728 ",(0,e.jsx)(t.code,{children:"VIDIOC_OVERLAY"})," \u547d\u4ee4\u4f20\u9012\u4f7f\u80fd\u547d\u4ee4\u65f6\u751f\u6548\u3002"]}),"\n",(0,e.jsx)(t.h3,{id:"vidioc_g_fmt",children:"VIDIOC_G_FMT"}),"\n",(0,e.jsx)(t.h4,{id:"\u53c2\u6570-9",children:"\u53c2\u6570"}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{children:"\u89c6\u9891\u7c7b\u578b\u3001\u683c\u5f0f\u548c\u5927\u5c0f\uff08struct v4l2_format * fmt\uff09\r\n\u4e0e VIDIOC_TRY_FMT \u76f8\u540c\n"})}),"\n",(0,e.jsx)(t.h4,{id:"\u8fd4\u56de\u503c-9",children:"\u8fd4\u56de\u503c"}),"\n",(0,e.jsx)(t.p,{children:"\u6210\u529f\uff1a0\uff1b\u5931\u8d25\uff1a\u5931\u8d25\u4ee3\u7801"}),"\n",(0,e.jsx)(t.h4,{id:"\u63cf\u8ff0-9",children:"\u63cf\u8ff0"}),"\n",(0,e.jsxs)(t.p,{children:["\u83b7\u53d6\u6355\u6349\u89c6\u9891\u7684 ",(0,e.jsx)(t.code,{children:"width"}),"\u3001",(0,e.jsx)(t.code,{children:"height"}),"\u3001",(0,e.jsx)(t.code,{children:"pixelformat"}),"\u3001",(0,e.jsx)(t.code,{children:"field"}),"\u3001",(0,e.jsx)(t.code,{children:"bytesperline"}),"\u3001",(0,e.jsx)(t.code,{children:"sizeimage"})," \u7b49\u53c2\u6570\u3002"]}),"\n",(0,e.jsx)(t.h3,{id:"vidioc_overlay",children:"VIDIOC_OVERLAY"}),"\n",(0,e.jsx)(t.h4,{id:"\u53c2\u6570-10",children:"\u53c2\u6570"}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{children:"\u8986\u76d6\u5f00/\u5173\uff08unsigned int i\uff09\n"})}),"\n",(0,e.jsx)(t.h4,{id:"\u8fd4\u56de\u503c-10",children:"\u8fd4\u56de\u503c"}),"\n",(0,e.jsx)(t.p,{children:"\u6210\u529f\uff1a0\uff1b\u5931\u8d25\uff1a\u5931\u8d25\u4ee3\u7801"}),"\n",(0,e.jsx)(t.h4,{id:"\u63cf\u8ff0-10",children:"\u63cf\u8ff0"}),"\n",(0,e.jsx)(t.p,{children:"\u4f20\u90121\u8868\u793a\u4f7f\u80fd\uff0c0\u8868\u793a\u5173\u95ed\u3002\u8bbe\u7f6e\u4f7f\u80fd\u65f6\uff0c\u4f1a\u66f4\u65b0 OSD \u53c2\u6570\uff0c\u4f7f\u4e4b\u751f\u6548\u3002"}),"\n",(0,e.jsx)(t.h3,{id:"vidioc_reqbufs",children:"VIDIOC_REQBUFS"}),"\n",(0,e.jsx)(t.h4,{id:"\u53c2\u6570-11",children:"\u53c2\u6570"}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{className:"language-c",children:"\u7f13\u51b2\u7c7b\u578b\u3001\u6570\u91cf\u548c\u5185\u5b58\u6620\u5c04\u7c7b\u578b\uff08struct v4l2_requestbuffers *req\uff09\r\nstruct v4l2_requestbuffers {\r\n    __u32 count;\r\n    enum v4l2_buf_type type;\r\n    enum v4l2_memory memory;\r\n    __u32 reserved[2];\r\n};\n"})}),"\n",(0,e.jsx)(t.h4,{id:"\u8fd4\u56de\u503c-11",children:"\u8fd4\u56de\u503c"}),"\n",(0,e.jsx)(t.p,{children:"\u6210\u529f\uff1a0\uff1b\u5931\u8d25\uff1a\u5931\u8d25\u4ee3\u7801"}),"\n",(0,e.jsx)(t.h4,{id:"\u63cf\u8ff0-11",children:"\u63cf\u8ff0"}),"\n",(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.code,{children:"struct v4l2_requestbuffers"})," \u5b9a\u4e49\u4e86\u7f13\u51b2\u533a\u7684\u6570\u91cf\uff0c\u9a71\u52a8\u7a0b\u5e8f\u5c06\u6839\u636e\u6b64\u6570\u91cf\u7533\u8bf7\u76f8\u5e94\u6570\u91cf\u7684\u89c6\u9891\u7f13\u51b2\u533a\u3002\u591a\u4e2a\u7f13\u51b2\u533a\u53ef\u7528\u4e8e\u5efa\u7acb FIFO\uff0c\u4ee5\u63d0\u9ad8\u89c6\u9891\u91c7\u96c6\u6548\u7387\u3002\u8fd9\u4e9b\u7f13\u51b2\u533a\u662f\u901a\u8fc7\u5185\u6838\u5206\u914d\u7684\uff0c\u5206\u914d\u540e\u9700\u8981\u901a\u8fc7 ",(0,e.jsx)(t.code,{children:"mmap"})," \u65b9\u6cd5\u6620\u5c04\u5230\u7528\u6237\u7a7a\u95f4\u3002"]}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsx)(t.li,{children:"Count\uff1a\u5b9a\u4e49\u9700\u8981\u7533\u8bf7\u7684\u89c6\u9891\u7f13\u51b2\u533a\u6570\u91cf\uff1b"}),"\n",(0,e.jsxs)(t.li,{children:["Type\uff1a\u5bf9\u4e8e VIN \u8bbe\u5907\uff0c\u4e3a ",(0,e.jsx)(t.code,{children:"V4L2_BUF_TYPE_VIDEO_CAPTURE_MPLANE"}),"\uff1b"]}),"\n",(0,e.jsxs)(t.li,{children:["Memory\uff1a\u76ee\u524d\u652f\u6301 ",(0,e.jsx)(t.code,{children:"V4L2_MEMORY_MMAP"}),"\u3001",(0,e.jsx)(t.code,{children:"V4L2_MEMORY_USERPTR"}),"\u3001",(0,e.jsx)(t.code,{children:"V4L2_MEMORY_DMABUF"})," \u65b9\u5f0f\u3002",(0,e.jsx)(t.br,{}),"\n","\u5e94\u7528\u7a0b\u5e8f\u4f20\u9012\u4e0a\u8ff0\u4e09\u4e2a\u53c2\u6570\uff0c\u9a71\u52a8\u7a0b\u5e8f\u5c06\u6839\u636e ",(0,e.jsx)(t.code,{children:"VIDIOC_S_FMT"})," \u8bbe\u7f6e\u7684\u683c\u5f0f\u8ba1\u7b97\u6240\u9700\u7f13\u51b2\u533a\u7684\u5927\u5c0f\uff0c\u5e76\u8fd4\u56de\u6307\u5b9a\u6570\u91cf\u7684\u7f13\u51b2\u533a\u3002"]}),"\n"]}),"\n",(0,e.jsx)(t.h3,{id:"vidioc_querybuf",children:"VIDIOC_QUERYBUF"}),"\n",(0,e.jsx)(t.h4,{id:"\u53c2\u6570-12",children:"\u53c2\u6570"}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{className:"language-c",children:"\u7f13\u51b2\u7c7b\u578b\u3001\u7d22\u5f15\u548c\u5185\u5b58\u6620\u5c04\u7c7b\u578b\uff08struct v4l2_buffer *buf\uff09\r\nstruct v4l2_buffer {\r\n    __u32 index;\r\n    enum v4l2_buf_type type;\r\n    __u32 bytesused;\r\n    __u32 flags;\r\n    enum v4l2_field field;\r\n    struct timeval timestamp;\r\n    struct v4l2_timecode timecode;\r\n    __u32 sequence;\r\n\r\n    /* \u5185\u5b58\u4f4d\u7f6e */\r\n    enum v4l2_memory memory;\r\n    union {\r\n        __u32 offset;\r\n        unsigned long userptr;\r\n        struct v4l2_plane *planes;\r\n    } m;\r\n    __u32 length;\r\n    __u32 input;\r\n    __u32 reserved;\r\n};\n"})}),"\n",(0,e.jsx)(t.h4,{id:"\u8fd4\u56de\u503c-12",children:"\u8fd4\u56de\u503c"}),"\n",(0,e.jsx)(t.p,{children:"\u6210\u529f\uff1a0\uff1b\u5931\u8d25\uff1a\u5931\u8d25\u4ee3\u7801"}),"\n",(0,e.jsx)(t.h4,{id:"\u63cf\u8ff0-12",children:"\u63cf\u8ff0"}),"\n",(0,e.jsxs)(t.p,{children:["\u901a\u8fc7 ",(0,e.jsx)(t.code,{children:"struct v4l2_buffer"})," \u7ed3\u6784\u4f53\u4e2d\u7684\u7d22\u5f15\uff0c\u8bbf\u95ee\u5bf9\u5e94\u5e8f\u53f7\u7684\u7f13\u51b2\u533a\uff0c\u5e76\u83b7\u53d6\u8be5\u7f13\u51b2\u533a\u7684\u4fe1\u606f\u3002\u4e3b\u8981\u5229\u7528 ",(0,e.jsx)(t.code,{children:"length"})," \u4fe1\u606f\u548c ",(0,e.jsx)(t.code,{children:"m.offset"})," \u4fe1\u606f\u6765\u5b8c\u6210 ",(0,e.jsx)(t.code,{children:"mmap"})," \u64cd\u4f5c\u3002"]}),"\n",(0,e.jsx)(t.h3,{id:"vidioc_dqbuf",children:"VIDIOC_DQBUF"}),"\n",(0,e.jsx)(t.h4,{id:"\u53c2\u6570-13",children:"\u53c2\u6570"}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{children:"\u7f13\u51b2\u7c7b\u578b\u3001\u7d22\u5f15\u548c\u5185\u5b58\u6620\u5c04\u7c7b\u578b\uff08struct v4l2_buffer *buf\uff09\r\nstruct v4l2_buffer \u4e0e VIDIOC_QUERYBUF \u4e2d\u7684\u7ed3\u6784\u76f8\u540c\n"})}),"\n",(0,e.jsx)(t.h4,{id:"\u8fd4\u56de\u503c-13",children:"\u8fd4\u56de\u503c"}),"\n",(0,e.jsx)(t.p,{children:"\u6210\u529f\uff1a0\uff1b\u5931\u8d25\uff1a\u5931\u8d25\u4ee3\u7801"}),"\n",(0,e.jsx)(t.h4,{id:"\u63cf\u8ff0-13",children:"\u63cf\u8ff0"}),"\n",(0,e.jsxs)(t.p,{children:["\u6b64\u64cd\u4f5c\u5c06\u9a71\u52a8\u7a0b\u5e8f\u4e2d\u5df2\u7ecf\u586b\u5145\u597d\u6570\u636e\u7684\u7f13\u51b2\u533a\u51fa\u5217\uff0c\u4ee5\u4f9b\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u3002\u5e94\u7528\u7a0b\u5e8f\u6839\u636e\u7d22\u5f15\u6765\u8bc6\u522b\u7f13\u51b2\u533a\uff0c\u6b64\u65f6 ",(0,e.jsx)(t.code,{children:"m.offset"})," \u8868\u793a\u7f13\u51b2\u533a\u5bf9\u5e94\u7684\u7269\u7406\u5730\u5740\u3002"]}),"\n",(0,e.jsx)(t.h3,{id:"vidioc_qbuf",children:"VIDIOC_QBUF"}),"\n",(0,e.jsx)(t.h4,{id:"\u53c2\u6570-14",children:"\u53c2\u6570"}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{children:"\u7f13\u51b2\u7c7b\u578b\u3001\u7d22\u5f15\u548c\u5185\u5b58\u6620\u5c04\u7c7b\u578b\uff08struct v4l2_buffer *buf\uff09\n"})}),"\n",(0,e.jsx)(t.h4,{id:"\u8fd4\u56de\u503c-14",children:"\u8fd4\u56de\u503c"}),"\n",(0,e.jsx)(t.p,{children:"\u6210\u529f\uff1a0\uff1b\u5931\u8d25\uff1a\u5931\u8d25\u4ee3\u7801"}),"\n",(0,e.jsx)(t.h4,{id:"\u63cf\u8ff0-14",children:"\u63cf\u8ff0"}),"\n",(0,e.jsx)(t.p,{children:"\u6b64\u64cd\u4f5c\u5c06\u7528\u6237\u7a7a\u95f4\u4e2d\u5df2\u7ecf\u5904\u7406\u8fc7\u7684\u7f13\u51b2\u533a\u91cd\u65b0\u5165\u961f\uff0c\u4ea4\u7531\u9a71\u52a8\u7a0b\u5e8f\u586b\u5145\u6570\u636e\u3002\u5e94\u7528\u7a0b\u5e8f\u6839\u636e\u7d22\u5f15\u6765\u8bc6\u522b\u7f13\u51b2\u533a\u3002"}),"\n",(0,e.jsx)(t.h3,{id:"vidioc_streamon",children:"VIDIOC_STREAMON"}),"\n",(0,e.jsx)(t.h4,{id:"\u53c2\u6570-15",children:"\u53c2\u6570"}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{children:"\u7f13\u51b2\u533a\u7c7b\u578b\uff08enum v4l2_buf_type *type\uff09\n"})}),"\n",(0,e.jsx)(t.h4,{id:"\u8fd4\u56de\u503c-15",children:"\u8fd4\u56de\u503c"}),"\n",(0,e.jsx)(t.p,{children:"\u6210\u529f\uff1a0\uff1b\u5931\u8d25\uff1a\u5931\u8d25\u4ee3\u7801"}),"\n",(0,e.jsx)(t.h4,{id:"\u63cf\u8ff0-15",children:"\u63cf\u8ff0"}),"\n",(0,e.jsx)(t.p,{children:"\u5728\u8fd9\u91cc\uff0c\u7f13\u51b2\u533a\u7c7b\u578b\u5e94\u4e3aV4L2_BUF_TYPE_VIDEO_CAPTURE_MPLANE\u3002\u8fd0\u884c\u6b64ioctl\u547d\u4ee4\u5c06\u6240\u6709\u7f13\u51b2\u533a\u5165\u961f\u5217\uff0c\u5e76\u542f\u52a8CSIC DMA\u786c\u4ef6\u4e2d\u65ad\uff0c\u6bcf\u6b21\u4e2d\u65ad\u8868\u793a\u4e00\u5e27\u7f13\u51b2\u533a\u6570\u636e\u5df2\u586b\u5145\u5b8c\u6bd5\u3002"}),"\n",(0,e.jsx)(t.h3,{id:"vidioc_streamoff",children:"VIDIOC_STREAMOFF"}),"\n",(0,e.jsx)(t.h4,{id:"\u53c2\u6570-16",children:"\u53c2\u6570"}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{children:"\u7f13\u51b2\u533a\u7c7b\u578b\uff08enum v4l2_buf_type *type\uff09\n"})}),"\n",(0,e.jsx)(t.h4,{id:"\u8fd4\u56de\u503c-16",children:"\u8fd4\u56de\u503c"}),"\n",(0,e.jsx)(t.p,{children:"\u6210\u529f\uff1a0\uff1b\u5931\u8d25\uff1a\u5931\u8d25\u4ee3\u7801"}),"\n",(0,e.jsx)(t.h4,{id:"\u63cf\u8ff0-16",children:"\u63cf\u8ff0"}),"\n",(0,e.jsx)(t.p,{children:"\u5728\u8fd9\u91cc\uff0c\u7f13\u51b2\u533a\u7c7b\u578b\u5e94\u4e3aV4L2_BUF_TYPE_VIDEO_CAPTURE_MPLANE\u3002\u8fd0\u884c\u6b64ioctl\u547d\u4ee4\u5c06\u505c\u6b62\u89c6\u9891\u6355\u83b7\uff0c\u6e05\u7a7a\u5e27\u7f13\u51b2\u533a\u961f\u5217\uff0c\u5e76\u91ca\u653e\u89c6\u9891\u7f13\u51b2\u533a\u3002"}),"\n",(0,e.jsx)(t.h3,{id:"vidioc_queryctrl",children:"VIDIOC_QUERYCTRL"}),"\n",(0,e.jsx)(t.h4,{id:"\u53c2\u6570-17",children:"\u53c2\u6570"}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{className:"language-c",children:"\u63a7\u5236ID\u548c\u503c\uff08struct v4l2_queryctrl *qc\uff09\r\nstruct v4l2_queryctrl {\r\n    __u32             id;  // \u63a7\u5236ID\r\n    enum v4l2_ctrl_type  type;  // \u63a7\u5236\u7c7b\u578b\r\n    __u8             name[32];  // \u63a7\u5236\u540d\u79f0\r\n    __s32             minimum;  // \u6700\u5c0f\u503c\uff08\u6709\u7b26\u53f7\uff09\r\n    __s32             maximum;  // \u6700\u5927\u503c\r\n    __s32             step;  // \u6b65\u8fdb\u503c\r\n    __s32             default_value;  // \u9ed8\u8ba4\u503c\r\n    __u32                flags;  // \u6807\u5fd7\u4f4d\r\n    __u32             reserved[2];  // \u4fdd\u7559\u5b57\u6bb5\r\n};\n"})}),"\n",(0,e.jsx)(t.h4,{id:"\u8fd4\u56de\u503c-17",children:"\u8fd4\u56de\u503c"}),"\n",(0,e.jsx)(t.p,{children:"\u6210\u529f\uff1a0\uff1b\u5931\u8d25\uff1a\u5931\u8d25\u4ee3\u7801"}),"\n",(0,e.jsx)(t.h4,{id:"\u63cf\u8ff0-17",children:"\u63cf\u8ff0"}),"\n",(0,e.jsx)(t.p,{children:"\u8be5ioctl\u547d\u4ee4\u7528\u4e8e\u901a\u8fc7\u63a7\u5236ID\u83b7\u53d6\u9700\u8981\u8c03\u8282\u53c2\u6570\u7684\u76f8\u5173\u4fe1\u606f\uff0c\u5305\u62ec\u53c2\u6570\u540d\u79f0\u3001\u6700\u5c0f\u503c\u3001\u6700\u5927\u503c\u3001\u9ed8\u8ba4\u503c\u4ee5\u53ca\u6b65\u8fdb\u503c\u3002\u5e94\u7528\u7a0b\u5e8f\u901a\u8fc7\u4f20\u5165\u7684\u63a7\u5236ID\uff0c\u9a71\u52a8\u7a0b\u5e8f\u4f1a\u8fd4\u56de\u5bf9\u5e94\u53c2\u6570\u7684\u8be6\u7ec6\u4fe1\u606f\u3002"}),"\n",(0,e.jsx)(t.p,{children:"\u5728\u5185\u90e8\uff0c\u9a71\u52a8\u7a0b\u5e8f\u4f1a\u901a\u8fc7v4l2\u63a7\u5236\u6846\u67b6\u5b8c\u6210\u5bf9\u53c2\u6570\u7684\u67e5\u8be2\uff0c\u5224\u65ad\u4f20\u5165\u7684\u63a7\u5236ID\u662f\u5426\u53d7\u652f\u6301\uff0c\u5e76\u8fd4\u56de\u8be5\u53c2\u6570\u7684\u5177\u4f53\u4fe1\u606f\u3002"}),"\n",(0,e.jsx)(t.h3,{id:"vidioc_s_ctrl",children:"VIDIOC_S_CTRL"}),"\n",(0,e.jsx)(t.h4,{id:"\u53c2\u6570-18",children:"\u53c2\u6570"}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{children:"\u63a7\u5236ID\u548c\u503c\uff08struct v4l2_queryctrl *qc\uff09\r\n\u4e0eVIDIOC_QUERYCTRL\u76f8\u540c\n"})}),"\n",(0,e.jsx)(t.h4,{id:"\u8fd4\u56de\u503c-18",children:"\u8fd4\u56de\u503c"}),"\n",(0,e.jsx)(t.p,{children:"\u6210\u529f\uff1a0\uff1b\u5931\u8d25\uff1a\u5931\u8d25\u4ee3\u7801"}),"\n",(0,e.jsx)(t.h4,{id:"\u63cf\u8ff0-18",children:"\u63cf\u8ff0"}),"\n",(0,e.jsx)(t.p,{children:"\u8be5ioctl\u547d\u4ee4\u7528\u4e8e\u901a\u8fc7\u63a7\u5236ID\u548c\u503c\u5bf9\u6444\u50cf\u5934\u9a71\u52a8\u7a0b\u5e8f\u7684\u53c2\u6570\u8fdb\u884c\u8bbe\u7f6e\u3002\u5e94\u7528\u7a0b\u5e8f\u901a\u8fc7\u4f20\u5165\u7684\u63a7\u5236ID\u548c\u503c\u7b49\u53c2\u6570\uff0c\u6765\u5bf9\u6444\u50cf\u5934\u9a71\u52a8\u7a0b\u5e8f\u7684\u5bf9\u5e94\u53c2\u6570\u8fdb\u884c\u8bbe\u7f6e\u3002"}),"\n",(0,e.jsxs)(t.p,{children:["\u9a71\u52a8\u7a0b\u5e8f\u5728\u5185\u90e8\u4f1a\u9996\u5148\u8c03\u7528",(0,e.jsx)(t.code,{children:"VIDIOC_QUERYCTRL"}),"\u547d\u4ee4\uff0c\u5224\u65ad\u4f20\u5165\u7684\u63a7\u5236ID\u662f\u5426\u53d7\u652f\u6301\uff0c\u5e76\u4e14\u68c0\u67e5\u4f20\u5165\u7684\u503c\u662f\u5426\u5728\u6700\u5c0f\u503c\u548c\u6700\u5927\u503c\u4e4b\u95f4\uff08\u8fd9\u4e2a\u5224\u65ad\u7531v4l2\u63a7\u5236\u6846\u67b6\u5b8c\u6210\uff09\u3002"]}),"\n",(0,e.jsx)(t.h3,{id:"vidioc_g_ctrl",children:"VIDIOC_G_CTRL"}),"\n",(0,e.jsx)(t.h4,{id:"\u53c2\u6570-19",children:"\u53c2\u6570"}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{className:"language-c",children:"\u63a7\u5236ID\u548c\u503c\uff08struct v4l2_queryctrl *qc\uff09\r\n\u4e0eVIDIOC_QUERYCTRL\u76f8\u540c\n"})}),"\n",(0,e.jsx)(t.h4,{id:"\u8fd4\u56de\u503c-19",children:"\u8fd4\u56de\u503c"}),"\n",(0,e.jsx)(t.p,{children:"\u6210\u529f\uff1a0\uff1b\u5931\u8d25\uff1a\u5931\u8d25\u4ee3\u7801"}),"\n",(0,e.jsx)(t.h4,{id:"\u63cf\u8ff0-19",children:"\u63cf\u8ff0"}),"\n",(0,e.jsx)(t.p,{children:"\u8be5ioctl\u547d\u4ee4\u7528\u4e8e\u901a\u8fc7\u63a7\u5236ID\u83b7\u53d6\u9a71\u52a8\u7a0b\u5e8f\u5f53\u524d\u8bbe\u7f6e\u7684\u5bf9\u5e94\u503c\u3002\u5e94\u7528\u7a0b\u5e8f\u901a\u8fc7\u4f20\u5165\u7684\u63a7\u5236ID\uff0c\u9a71\u52a8\u7a0b\u5e8f\u4f1a\u8fd4\u56de\u8be5\u63a7\u5236ID\u5bf9\u5e94\u7684\u5f53\u524d\u8bbe\u7f6e\u6570\u503c\u3002"}),"\n",(0,e.jsx)(t.h3,{id:"vidioc_enum_framesizes",children:"VIDIOC_ENUM_FRAMESIZES"}),"\n",(0,e.jsx)(t.h4,{id:"\u53c2\u6570-20",children:"\u53c2\u6570"}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{className:"language-c",children:"index: \u5e27\u5927\u5c0f\u7d22\u5f15\r\npixel_format: \u50cf\u7d20\u683c\u5f0f\r\ntype: \u8bbe\u5907\u652f\u6301\u7684\u5e27\u5927\u5c0f\u7c7b\u578b\uff08struct v4l2_frmsizetypes\uff09\r\n\r\nenum v4l2_frmsizetypes {\r\n    V4L2_FRMSIZE_TYPE_DISCRETE = 1,  // \u79bb\u6563\u578b\r\n    V4L2_FRMSIZE_TYPE_CONTINUOUS = 2,  // \u8fde\u7eed\u578b\r\n    V4L2_FRMSIZE_TYPE_STEPWISE = 3,  // \u6b65\u8fdb\u578b\r\n};\r\n\r\nstruct v4l2_frmsize_discrete {\r\n    __u32 width;  // \u5e27\u5bbd\u5ea6 [\u50cf\u7d20]\r\n    __u32 height;  // \u5e27\u9ad8\u5ea6 [\u50cf\u7d20]\r\n};\r\n\r\nstruct v4l2_frmsize_stepwise {\r\n    __u32 min_width;  // \u6700\u5c0f\u5e27\u5bbd\u5ea6 [\u50cf\u7d20]\r\n    __u32 max_width;  // \u6700\u5927\u5e27\u5bbd\u5ea6 [\u50cf\u7d20]\r\n    __u32 step_width;  // \u5e27\u5bbd\u5ea6\u6b65\u8fdb\u5927\u5c0f [\u50cf\u7d20]\r\n    __u32 min_height;  // \u6700\u5c0f\u5e27\u9ad8\u5ea6 [\u50cf\u7d20]\r\n    __u32 max_height;  // \u6700\u5927\u5e27\u9ad8\u5ea6 [\u50cf\u7d20]\r\n    __u32 step_height;  // \u5e27\u9ad8\u5ea6\u6b65\u8fdb\u5927\u5c0f [\u50cf\u7d20]\r\n};\r\n\r\nstruct v4l2_frmsizeenum {\r\n    __u32 index;  // \u5e27\u5927\u5c0f\u7f16\u53f7\r\n    __u32 pixel_format;  // \u50cf\u7d20\u683c\u5f0f\r\n    __u32 type;  // \u8bbe\u5907\u652f\u6301\u7684\u5e27\u5927\u5c0f\u7c7b\u578b\r\n\r\n    union {\r\n        struct v4l2_frmsize_discrete discrete;  // \u79bb\u6563\u578b\r\n        struct v4l2_frmsize_stepwise stepwise;  // \u6b65\u8fdb\u578b\r\n    };\r\n\r\n    __u32 reserved[2];  // \u4fdd\u7559\u5b57\u6bb5\uff0c\u672a\u6765\u4f7f\u7528\r\n};\n"})}),"\n",(0,e.jsx)(t.h4,{id:"\u8fd4\u56de\u503c-20",children:"\u8fd4\u56de\u503c"}),"\n",(0,e.jsx)(t.p,{children:"\u6210\u529f\uff1a0\uff1b\u5931\u8d25\uff1a\u5931\u8d25\u4ee3\u7801"}),"\n",(0,e.jsx)(t.h4,{id:"\u63cf\u8ff0-20",children:"\u63cf\u8ff0"}),"\n",(0,e.jsxs)(t.p,{children:["\u8be5ioctl\u547d\u4ee4\u7528\u4e8e\u83b7\u53d6\u89c6\u9891\u8bbe\u5907\u652f\u6301\u7684\u5e27\u5927\u5c0f\u4fe1\u606f\u3002\u6839\u636e\u4f20\u5165\u7684 ",(0,e.jsx)(t.code,{children:"index"})," \u548c ",(0,e.jsx)(t.code,{children:"pixel_format"}),"\uff0c\u9a71\u52a8\u7a0b\u5e8f\u8fd4\u56de\u652f\u6301\u7684\u5e27\u5927\u5c0f\u7684\u7c7b\u578b\uff0c\u5e76\u586b\u5145\u5177\u4f53\u7684\u5e27\u5927\u5c0f\u4fe1\u606f\u3002\u5176\u4e2d\uff1a"]}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"Discrete"})," \u8868\u793a\u652f\u6301\u56fa\u5b9a\u5206\u8fa8\u7387\u7684\u5e27\u5927\u5c0f\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"Continuous"})," \u8868\u793a\u652f\u6301\u8fde\u7eed\u8303\u56f4\u5185\u7684\u5e27\u5927\u5c0f\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"Stepwise"})," \u8868\u793a\u652f\u6301\u4e00\u5b9a\u6b65\u8fdb\u7684\u5e27\u5927\u5c0f\u8303\u56f4\u3002"]}),"\n"]}),"\n",(0,e.jsx)(t.p,{children:"\u5982\u679c\u652f\u6301\u6b65\u8fdb\u5f0f\u7684\u5e27\u5927\u5c0f\u8303\u56f4\uff0c\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u83b7\u53d6\u6700\u5c0f\u5bbd\u5ea6\u3001\u6700\u5927\u5bbd\u5ea6\u3001\u5bbd\u5ea6\u6b65\u8fdb\u503c\u3001\u6700\u5c0f\u9ad8\u5ea6\u3001\u6700\u5927\u9ad8\u5ea6\u548c\u9ad8\u5ea6\u6b65\u8fdb\u503c\u7b49\u4fe1\u606f\u3002\u8fd9\u4e2a\u547d\u4ee4\u7684\u76ee\u7684\u662f\u8ba9\u5e94\u7528\u7a0b\u5e8f\u80fd\u591f\u4e86\u89e3\u89c6\u9891\u8bbe\u5907\u652f\u6301\u7684\u4e0d\u540c\u5e27\u5927\u5c0f\u7684\u9009\u9879\uff0c\u4ee5\u4fbf\u8fdb\u884c\u9002\u5f53\u7684\u8bbe\u7f6e\u548c\u914d\u7f6e\u3002"}),"\n",(0,e.jsx)(t.h3,{id:"vidioc_enum_frameintervals",children:"VIDIOC_ENUM_FRAMEINTERVALS"}),"\n",(0,e.jsx)(t.h4,{id:"\u53c2\u6570-21",children:"\u53c2\u6570"}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{className:"language-c",children:"Index\uff0cformat\uff0csize\uff0ctype\uff08struct v4l2_frmivalenum\uff09\r\n\r\nenum v4l2_frmivaltypes {\r\n    V4L2_FRMIVAL_TYPE_DISCRETE    = 1,\r\n    V4L2_FRMIVAL_TYPE_CONTINUOUS    = 2,\r\n    V4L2_FRMIVAL_TYPE_STEPWISE    = 3,\r\n};\r\n\r\nstruct v4l2_frmival_stepwise {\r\n    struct v4l2_fract    min;        /* \u6700\u5c0f\u5e27\u95f4\u9694 [s] */\r\n    struct v4l2_fract    max;        /* \u6700\u5927\u5e27\u95f4\u9694 [s] */\r\n    struct v4l2_fract    step;        /* \u5e27\u95f4\u9694\u6b65\u8fdb\u5927\u5c0f [s] */\r\n};\r\n\r\nstruct v4l2_frmivalenum {\r\n    __u32            index;        /* \u5e27\u683c\u5f0f\u7d22\u5f15 */\r\n    __u32            pixel_format;    /* \u50cf\u7d20\u683c\u5f0f */\r\n    __u32            width;        /* \u5e27\u5bbd\u5ea6 */\r\n    __u32            height;        /* \u5e27\u9ad8\u5ea6 */\r\n    __u32            type;        /* \u8bbe\u5907\u652f\u6301\u7684\u5e27\u95f4\u9694\u7c7b\u578b\u3002 */\r\n\r\n    union {                    /* \u5e27\u95f4\u9694 */\r\n        struct v4l2_fract        discrete;  /* \u79bb\u6563\u578b */\r\n        struct v4l2_frmival_stepwise    stepwise;  /* \u6b65\u8fdb\u578b */\r\n    };\r\n\r\n    __u32    reserved[2];            /* \u4fdd\u7559\u7a7a\u95f4\uff0c\u4f9b\u5c06\u6765\u4f7f\u7528 */\r\n};\n"})}),"\n",(0,e.jsx)(t.h4,{id:"\u8fd4\u56de\u503c-21",children:"\u8fd4\u56de\u503c"}),"\n",(0,e.jsx)(t.p,{children:"\u6210\u529f\uff1a0\uff1b\u5931\u8d25\uff1a\u5931\u8d25\u4ee3\u7801"}),"\n",(0,e.jsx)(t.h4,{id:"\u63cf\u8ff0-21",children:"\u63cf\u8ff0"}),"\n",(0,e.jsxs)(t.p,{children:["\u5e94\u7528\u7a0b\u5e8f\u901a\u8fc7\u6307\u5b9a\u7684 ",(0,e.jsx)(t.code,{children:"pixel_format"}),"\u3001",(0,e.jsx)(t.code,{children:"width"}),"\u3001",(0,e.jsx)(t.code,{children:"height"})," \u6765\u83b7\u53d6\u5e27\u95f4\u9694\u4fe1\u606f\u3002\u9a71\u52a8\u7a0b\u5e8f\u8fd4\u56de\u5e27\u95f4\u9694\u7684\u7c7b\u578b\uff0c\u5e76\u6839\u636e\u7c7b\u578b\u586b\u5199 ",(0,e.jsx)(t.code,{children:"V4L2_FRMIVAL_TYPE_DISCRETE"}),"\u3001",(0,e.jsx)(t.code,{children:"V4L2_FRMIVAL_TYPE_CONTINUOUS"})," \u6216 ",(0,e.jsx)(t.code,{children:"V4L2_FRMIVAL_TYPE_STEPWISE"}),"\u3002\u5176\u4e2d\uff1a"]}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"Discrete"})," \u8868\u793a\u652f\u6301\u79bb\u6563\u7684\u5e27\u7387\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"Continuous"})," \u8868\u793a\u652f\u6301\u8fde\u7eed\u7684\u5e27\u7387\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"Stepwise"})," \u8868\u793a\u652f\u6301\u6b65\u8fdb\u7684\u5e27\u7387\u3002"]}),"\n"]}),"\n",(0,e.jsx)(t.p,{children:"\u5982\u679c\u652f\u6301\u6b65\u8fdb\u7684\u5e27\u7387\uff0c\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u8fdb\u4e00\u6b65\u83b7\u53d6\u5e27\u95f4\u9694\u7684\u6700\u5c0f\u503c\u3001\u6700\u5927\u503c\u548c\u6b65\u8fdb\u5927\u5c0f\u3002"}),"\n",(0,e.jsx)(t.h3,{id:"vidioc_isp_exif_req",children:"VIDIOC_ISP_EXIF_REQ"}),"\n",(0,e.jsx)(t.p,{children:"\u4f5c\u7528: \u5f97\u5230\u5f53\u524d\u7167\u7247\u7684EXIF\u4fe1\u606f\uff0c\u586b\u5199\u5230\u76f8\u5e94\u7684\u7f16\u7801\u57df\u4e2d\u3002\r\n\u76ee\u7684\uff1a\u5bf9\u4e8eraw sensor\u5c3d\u91cf\u586b\u5199\u6b63\u89c4\u7684EXIF\u4fe1\u606f\uff0cyuv sensor\u8be5IOCTRL\u4e5f\u53ef\u4ee5\u4f7f\u7528\uff0c\u4e0d\u8fc7\u9a71\u52a8\u4e2d\u586b\u5199\u7684\u4e5f\u662f\u56fa\u5b9a\u503c\u3002\r\n\u76f8\u5173\u53c2\u6570\uff1a"}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{className:"language-c",children:"struct v4l2_fract {\r\n    __u32   numerator;\r\n    __u32   denominator;\r\n};\r\n\r\nstruct isp_exif_attribute {\r\n    struct v4l2_fract exposure_time;\r\n    struct v4l2_fract shutter_speed;\r\n    __u32 aperture;\r\n    __u32 focal_length;\r\n    __s32 exposure_bias;\r\n    __u32 iso_speed;\r\n    __u32 flash_fire;\r\n    __u32 brightness;\r\n};\n"})}),"\n",(0,e.jsxs)(t.ol,{children:["\n",(0,e.jsxs)(t.li,{children:["\u66dd\u5149\u65f6\u95f4 (",(0,e.jsx)(t.code,{children:"exposure_time"}),")\uff1a\u5206\u6570\u7c7b\u578b\uff0c\u8868\u793a\u66dd\u5149\u65f6\u95f4\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:["\u5feb\u95e8\u901f\u5ea6 (",(0,e.jsx)(t.code,{children:"shutter_speed"}),")\uff1a\u5206\u6570\u7c7b\u578b\uff0c\u8868\u793a\u5feb\u95e8\u901f\u5ea6\uff0c\u4e0e\u66dd\u5149\u65f6\u95f4\u6570\u503c\u76f8\u540c\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:["\u5149\u5708\u5927\u5c0f (",(0,e.jsx)(t.code,{children:"aperture"}),")\uff1aFNumber\uff0c\u8868\u793a\u5149\u5708\u5927\u5c0f\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:["\u7126\u8ddd (",(0,e.jsx)(t.code,{children:"focal_length"}),")\uff1a\u5355\u4f4d\u4e3a mm \u7684\u7126\u8ddd\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:["\u66dd\u5149\u8865\u507f (",(0,e.jsx)(t.code,{children:"exposure_bias"}),")\uff1a\u8303\u56f4\u4e3a -4 \u5230 4 \u7684\u66dd\u5149\u8865\u507f\u503c\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:["\u611f\u5149\u901f\u5ea6 (",(0,e.jsx)(t.code,{children:"iso_speed"}),")\uff1a\u611f\u5149\u901f\u5ea6\u503c\uff0c\u8303\u56f4\u4e3a 50 \u5230 3200\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:["\u95ea\u5149\u706f\u662f\u5426\u5f00\u542f (",(0,e.jsx)(t.code,{children:"flash_fire"}),")\uff1a1 \u8868\u793a\u5f00\u542f\uff0c0 \u8868\u793a\u672a\u5f00\u542f\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:["\u56fe\u50cf\u4eae\u5ea6 (",(0,e.jsx)(t.code,{children:"brightness"}),")\uff1a\u8303\u56f4\u4e3a 0 \u5230 255 \u7684\u56fe\u50cf\u4eae\u5ea6\u503c\u3002"]}),"\n"]}),"\n",(0,e.jsx)(t.h4,{id:"\u4f7f\u7528\u793a\u4f8b",children:"\u4f7f\u7528\u793a\u4f8b\uff1a"}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{className:"language-cpp",children:"isp_exif_attribute exif_info;\r\nint ret = V4L2CameraDevice::getExifInfo(&exif_info);\r\nif (ret >= 0) {\r\n    // \u6210\u529f\u83b7\u53d6 Exif \u4fe1\u606f\uff0c\u53ef\u8fdb\u4e00\u6b65\u5904\u7406\r\n} else {\r\n    // \u83b7\u53d6\u5931\u8d25\uff0c\u5904\u7406\u9519\u8bef\u60c5\u51b5\r\n}\n"})}),"\n",(0,e.jsx)(t.h4,{id:"\u6ce8\u610f\u4e8b\u9879",children:"\u6ce8\u610f\u4e8b\u9879\uff1a"}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsxs)(t.li,{children:["\u5728\u8c03\u7528\u51fd\u6570\u4e4b\u524d\uff0c\u786e\u4fdd\u6444\u50cf\u5934\u6587\u4ef6\u63cf\u8ff0\u7b26 ",(0,e.jsx)(t.code,{children:"mCameraFd"})," \u6709\u6548\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:["\u786e\u4fdd\u4f20\u5165\u7684 ",(0,e.jsx)(t.code,{children:"exif_attri"})," \u6307\u9488\u6307\u5411\u6709\u6548\u7684 ",(0,e.jsx)(t.code,{children:"isp_exif_attribute"})," \u7ed3\u6784\u4f53\u3002"]}),"\n"]}),"\n",(0,e.jsx)(t.h4,{id:"\u8fd4\u56de\u503c\u8bf4\u660e",children:"\u8fd4\u56de\u503c\u8bf4\u660e\uff1a"}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsx)(t.li,{children:"\u8fd4\u56de\u503c\u4e3a\u6b63\u6574\u6570\u65f6\uff0c\u8868\u793a\u6210\u529f\u83b7\u53d6 Exif \u4fe1\u606f\uff0c\u53ef\u6839\u636e\u9700\u8981\u8fdb\u884c\u8fdb\u4e00\u6b65\u5904\u7406\u3002"}),"\n",(0,e.jsxs)(t.li,{children:["\u8fd4\u56de\u7279\u6b8a\u9519\u8bef\u7801 ",(0,e.jsx)(t.code,{children:"0xFF000000"})," \u65f6\uff0c\u8868\u793a\u83b7\u53d6\u5931\u8d25\u6216\u6444\u50cf\u5934\u6587\u4ef6\u63cf\u8ff0\u7b26\u65e0\u6548\uff0c\u9700\u8fdb\u884c\u9519\u8bef\u5904\u7406\u3002"]}),"\n"]}),"\n",(0,e.jsx)(t.h2,{id:"\u6a21\u5757-demo",children:"\u6a21\u5757 DEMO"}),"\n",(0,e.jsxs)(t.p,{children:["\u6e90\u7801\u4f4d\u4e8e ",(0,e.jsx)(t.code,{children:"drivers/vin/vin_test/mplane_image/csi_test_mplane.c"}),"\uff0c\u529f\u80fd\u662f\u83b7\u53d6\u6307\u5b9aVideo\u8282\u70b9\u7684\u56fe\u50cf\u3002"]}),"\n",(0,e.jsx)(t.p,{children:"demo\u53c2\u6570\u8bf4\u660e\uff1a"}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"video0"}),"\uff1a\u8868\u793a\u89c6\u9891\u8f93\u5165\u8bbe\u5907\u7684\u540d\u79f0\u6216\u8005\u8def\u5f84\uff0c\u901a\u5e38\u662f ",(0,e.jsx)(t.code,{children:"/dev/video0"})," \u8fd9\u6837\u7684\u8bbe\u5907\u8282\u70b9\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"set_input index0"}),"\uff1a\u8bbe\u7f6e\u8f93\u5165\u6e90\u7684\u7d22\u5f15\uff0c\u8fd9\u4e2a\u53c2\u6570\u53ef\u80fd\u7528\u4e8e\u6307\u5b9a\u4ece\u89c6\u9891\u8f93\u5165\u8bbe\u5907\u4e2d\u7684\u54ea\u4e2a\u8f93\u5165\u6e90\u8fdb\u884c\u91c7\u96c6\u3002",(0,e.jsx)(t.code,{children:"index0"})," \u53ef\u80fd\u662f\u4e00\u4e2a\u5177\u4f53\u7684\u8f93\u5165\u6e90\u7d22\u5f15\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"\u76ee\u6807\u5206\u8fa8\u7387\u5bbd"}),"\uff1a\u6307\u5b9a\u76ee\u6807\u56fe\u50cf\u7684\u5bbd\u5ea6\uff0c\u4ee5\u50cf\u7d20\u4e3a\u5355\u4f4d\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"\u76ee\u6807\u5206\u8fa8\u7387\u9ad8"}),"\uff1a\u6307\u5b9a\u76ee\u6807\u56fe\u50cf\u7684\u9ad8\u5ea6\uff0c\u4ee5\u50cf\u7d20\u4e3a\u5355\u4f4d\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"./result"}),"\uff1a\u8868\u793a bin \u6587\u4ef6\u4fdd\u5b58\u7684\u8def\u5f84\uff0c",(0,e.jsx)(t.code,{children:"./"})," \u8868\u793a\u5f53\u524d\u76ee\u5f55\uff0c",(0,e.jsx)(t.code,{children:"result"})," \u53ef\u80fd\u662f\u4e00\u4e2a\u6587\u4ef6\u540d\u6216\u8005\u6587\u4ef6\u5939\u540d\u79f0\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"\u56fe\u50cf\u683c\u5f0f"}),"\uff1a\u8fd9\u4e2a\u53c2\u6570\u6307\u5b9a\u4e86\u56fe\u50cf\u7684\u683c\u5f0f\uff0c\u4f8b\u5982 NV21\uff0c\u8fd9\u662f\u4e00\u79cd YUV \u683c\u5f0f\u7684\u56fe\u50cf\u683c\u5f0f\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"\u91c7\u96c6\u5e27\u6570"}),"\uff1a\u6307\u5b9a\u91c7\u96c6\u7684\u5e27\u6570\uff0c\u8fd9\u91cc\u8bbe\u7f6e\u4e3a 20000\uff0c\u8868\u793a\u91c7\u96c6 20000 \u5e27\u56fe\u50cf\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"\u76ee\u6807\u5e27\u7387"}),"\uff1a\u6307\u5b9a\u5904\u7406\u540e\u56fe\u50cf\u7684\u76ee\u6807\u5e27\u7387\uff0c\u8fd9\u91cc\u8bbe\u7f6e\u4e3a 60 \u5e27\u6bcf\u79d2\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.code,{children:"\u662f\u5426\u5f00\u542fwdr"}),"\uff1a\u8fd9\u4e2a\u53c2\u6570\u53ef\u80fd\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u7528\u4e8e\u6307\u793a\u662f\u5426\u5f00\u542f\u5bbd\u52a8\u6001\u8303\u56f4\uff08WDR\uff09\u529f\u80fd\u3002\u5982\u679c\u662f ",(0,e.jsx)(t.code,{children:"1"}),"\uff0c\u5219\u8868\u793a\u5f00\u542f WDR\uff0c\u5982\u679c\u662f ",(0,e.jsx)(t.code,{children:"0"}),"\uff0c\u5219\u8868\u793a\u4e0d\u5f00\u542f\u3002"]}),"\n"]}),"\n",(0,e.jsxs)(t.p,{children:["\u6d4b\u8bd5\u53c2\u6570\uff1a",(0,e.jsx)(t.code,{children:"./mplane_image 0 0 1920 1080 ./result 1 20000 60 0"})," \u5219\u4ee3\u8868\uff1a"]}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsxs)(t.li,{children:["\u89c6\u9891\u8f93\u5165\u8bbe\u5907\uff1a",(0,e.jsx)(t.code,{children:"video0"})]}),"\n",(0,e.jsxs)(t.li,{children:["\u8bbe\u7f6e\u8f93\u5165\u6e90\u7d22\u5f15\uff1a",(0,e.jsx)(t.code,{children:"index0"})]}),"\n",(0,e.jsx)(t.li,{children:"\u76ee\u6807\u5206\u8fa8\u7387\u5bbd\u5ea6\uff1a1920 \u50cf\u7d20"}),"\n",(0,e.jsx)(t.li,{children:"\u76ee\u6807\u5206\u8fa8\u7387\u9ad8\u5ea6\uff1a1080 \u50cf\u7d20"}),"\n",(0,e.jsxs)(t.li,{children:["bin \u6587\u4ef6\u4fdd\u5b58\u8def\u5f84\uff1a",(0,e.jsx)(t.code,{children:"./result"})]}),"\n",(0,e.jsx)(t.li,{children:"\u56fe\u50cf\u683c\u5f0f\uff1aNV21"}),"\n",(0,e.jsx)(t.li,{children:"\u91c7\u96c6\u5e27\u6570\uff1a20000 \u5e27"}),"\n",(0,e.jsx)(t.li,{children:"\u76ee\u6807\u5e27\u7387\uff1a60 \u5e27\u6bcf\u79d2"}),"\n",(0,e.jsx)(t.li,{children:"\u662f\u5426\u5f00\u542f WDR\uff1a\u5426\uff080\uff09"}),"\n"]}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{className:"language-c",children:'#include <stdio.h>\r\n#include <stdlib.h>\r\n#include <string.h>\r\n#include <assert.h>\r\n#include <time.h>\r\n#include <signal.h>\r\n#include <linux/fb.h>\r\n#include <linux/input.h>\r\n#include <linux/version.h>\r\n#include <getopt.h>\r\n#include <fcntl.h>\r\n#include <unistd.h>\r\n#include <errno.h>\r\n#include <malloc.h>\r\n#include <signal.h>\r\n#include <sys/stat.h>\r\n#include <sys/types.h>\r\n#include <sys/time.h>\r\n#include <sys/mman.h>\r\n#include <sys/ioctl.h>\r\n#include <poll.h>\r\n#include <pthread.h>\r\n#include <sys/socket.h>\r\n#include <linux/netlink.h>\r\n\r\n#include <asm/types.h>\r\n\r\n#include "sunxi_camera_v2.h"\r\n#include "sunxi_display2.h"\r\n\r\n#define CLEAR(x) (memset(&(x), 0, sizeof(x)))\r\n#define ALIGN_4K(x) (((x) + (4095)) & ~(4095))\r\n#define ALIGN_16B(x) (((x) + (15)) & ~(15))\r\n\r\n//#define DEBUG\r\n#define display_frame 0\r\n#define video_s_ctrl 0\r\n#define SET_PHY2VIR 0\r\n#define\tBK_INT_POOL 0\r\n\r\n#ifdef DEBUG\r\n#define ASSERT(f)\tassert(f)\r\n#else\r\n#define ASSERT(f)\t((void)0)\r\n#endif\r\n\r\n#define DP_IN_SUPPORT 0\r\n#define SENSOR_NAME "lt7911d_mipi"\r\n\r\n#define RV_SUPPORT 0\r\n\r\nstruct size {\r\n\tint width;\r\n\tint height;\r\n};\r\nstruct buffer {\r\n\tvoid *start[3];\r\n\tint length[3];\r\n};\r\n\r\ntypedef enum {\r\n\tTVD_PL_YUV420 = 0,\r\n\tTVD_MB_YUV420 = 1,\r\n\tTVD_PL_YUV422 = 2,\r\n} TVD_FMT_T;\r\n\r\nstruct disp_screen {\r\n\tint x;\r\n\tint y;\r\n\tint w;\r\n\tint h;\r\n};\r\n\r\nstruct test_layer_info {\r\n\tint screen_id;\r\n\tint layer_id;\r\n\tint mem_id;\r\n\tdisp_layer_config layer_config;\r\n\tint addr_map;\r\n\tint width, height;/* screen size */\r\n\tint dispfh;/* device node handle */\r\n\tint fh;/* picture resource file handle */\r\n\tint mem;\r\n\tint clear;/* is clear layer */\r\n\tchar filename[32];\r\n\tint full_screen;\r\n\tunsigned int pixformat;\r\n\tdisp_output_type output_type;\r\n};\r\n\r\n/**\r\n * tvd_dev info\r\n */\r\nstruct tvd_dev {\r\n\tunsigned int ch_id;\r\n\tunsigned int height;\r\n\tunsigned int width;\r\n\tunsigned int interface;\r\n\tunsigned int system;\r\n\tunsigned int row;\r\n\tunsigned int column;\r\n\tunsigned int ch0_en;\r\n\tunsigned int ch1_en;\r\n\tunsigned int ch2_en;\r\n\tunsigned int ch3_en;\r\n\tunsigned int pixformat;\r\n\tstruct test_layer_info layer_info;\r\n\tint frame_no_to_grap;\r\n\tFILE *raw_fp;\r\n};\r\nstruct tvd_dev dev;\r\n\r\nstatic char path_name[20];\r\nstatic char dev_name[20];\r\nstatic int fd = -1;\r\nstatic int isp0_fd = -1;\r\nstatic int isp1_fd = -1;\r\nstatic int sensor_fd = -1;\r\n\r\nstruct buffer *buffers;\r\nstatic unsigned int n_buffers;\r\n\r\nstruct size input_size;\r\n\r\nunsigned int req_frame_num = 5;\r\nunsigned int read_num = 20;\r\nunsigned int count;\r\nunsigned int nplanes;\r\nunsigned int save_flag;\r\nint dev_id;\r\nunsigned int fps = 30;\r\nunsigned int wdr_mode;\r\nunsigned int osd_mode;\r\nint wait_exit;\r\n\r\n#define ROT_90 0\r\n\r\nstatic void yuv_r90(char *dst, char *src, int width, int height)\r\n{\r\n\tint i = 0, j = 0;\r\n\r\n\tfor (i = 0; i < width; i++) {\r\n\t\tfor (j = 0; j < height; j++)\r\n\t\t\t*(char *)(dst + j + i * height) = *(char *)(src + (height - j - 1) * width + i);\r\n\t}\r\n}\r\n\r\nstatic void uv_r90(char *dst, char *src, int width, int height)\r\n{\r\n\tint i = 0, j = 0;\r\n\r\n\tfor (i = 0; i < width/2; i++) {\r\n\t\tfor (j = 0; j < height/2; j++)\r\n\t\t\t*(char *)(dst + j * 2 + i * height) = *(char *)(src + (height/2 - j - 1) * width + i * 2);\r\n\t}\r\n\r\n\tfor (i = 0; i < width/2; i++) {\r\n\t\tfor (j = 0; j < height/2; j++)\r\n\t\t\t*(char *)(dst + j * 2 + 1 + i * height) = *(char *)(src + (height/2 - j - 1) * width + i * 2 + 1);\r\n\t}\r\n}\r\n\r\nstatic int disp_set_addr(int width, int height, struct v4l2_buffer *buf)\r\n\r\n{\r\n\tunsigned long arg[6];\r\n\tint ret;\r\n\r\n\tif (dev.layer_info.pixformat == TVD_PL_YUV420) {\r\n\t\t/* printf("******YUV420!\\n"); */\r\n\t\tdev.layer_info.layer_config.info.fb.size[0].width = width;\r\n\t\tdev.layer_info.layer_config.info.fb.size[0].height = height;\r\n\t\tdev.layer_info.layer_config.info.fb.size[1].width = width / 2;\r\n\t\tdev.layer_info.layer_config.info.fb.size[1].height = height / 2;\r\n\t\tdev.layer_info.layer_config.info.fb.size[2].width = width / 2;\r\n\t\tdev.layer_info.layer_config.info.fb.size[2].height = height / 2;\r\n\t\tdev.layer_info.layer_config.info.fb.crop.width =\r\n\t\t    (unsigned long long)width << 32;\r\n\t\tdev.layer_info.layer_config.info.fb.crop.height =\r\n\t\t    (unsigned long long)height << 32;\r\n\r\n\t\tdev.layer_info.layer_config.info.fb.addr[0] = buf->m.planes[0].m.mem_offset;\r\n\t\tdev.layer_info.layer_config.info.fb.addr[1] = buf->m.planes[1].m.mem_offset;\r\n\t\tdev.layer_info.layer_config.info.fb.addr[2] = buf->m.planes[2].m.mem_offset;\r\n\r\n\t\t/* dev.layer_info.layer_config.info.fb.addr[0] = (*addr);\r\n\t\tdev.layer_info.layer_config.info.fb.addr[1] =\r\n\t\t    (dev.layer_info.layer_config.info.fb.addr[0] + width * height);\r\n\t\tdev.layer_info.layer_config.info.fb.addr[2] =\r\n\t\t    dev.layer_info.layer_config.info.fb.addr[0] +\r\n\t\t    width * height * 5 / 4;\r\n\t\tdev.layer_info.layer_config.info.fb.trd_right_addr[0] =\r\n\t\t    (dev.layer_info.layer_config.info.fb.addr[0] +\r\n\t\t     width * height * 3 / 2);\r\n\t\tdev.layer_info.layer_config.info.fb.trd_right_addr[1] =\r\n\t\t    (dev.layer_info.layer_config.info.fb.addr[0] + width * height);\r\n\t\tdev.layer_info.layer_config.info.fb.trd_right_addr[2] =\r\n\t\t    (dev.layer_info.layer_config.info.fb.addr[0] +\r\n\t\t     width * height * 5 / 4); */\r\n\t} else {\r\n\t\tdev.layer_info.layer_config.info.fb.size[0].width = width;\r\n\t\tdev.layer_info.layer_config.info.fb.size[0].height = height;\r\n\t\tdev.layer_info.layer_config.info.fb.size[1].width = width / 2;\r\n\t\tdev.layer_info.layer_config.info.fb.size[1].height = height;\r\n\t\tdev.layer_info.layer_config.info.fb.size[2].width = width / 2;\r\n\t\tdev.layer_info.layer_config.info.fb.size[2].height = height;\r\n\t\tdev.layer_info.layer_config.info.fb.crop.width =\r\n\t\t    (unsigned long long)width << 32;\r\n\t\tdev.layer_info.layer_config.info.fb.crop.height =\r\n\t\t    (unsigned long long)height << 32;\r\n\r\n\t\tdev.layer_info.layer_config.info.fb.addr[0] = buf->m.planes[0].m.mem_offset;\r\n\t\tdev.layer_info.layer_config.info.fb.addr[1] = buf->m.planes[1].m.mem_offset;\r\n\t\tdev.layer_info.layer_config.info.fb.addr[2] = buf->m.planes[2].m.mem_offset;\r\n\r\n\t\t/* dev.layer_info.layer_config.info.fb.addr[0] = (*addr);\r\n\t\tdev.layer_info.layer_config.info.fb.addr[1] =\r\n\t\t    (dev.layer_info.layer_config.info.fb.addr[0] + width * height);\r\n\t\tdev.layer_info.layer_config.info.fb.addr[2] =\r\n\t\t    dev.layer_info.layer_config.info.fb.addr[0] +\r\n\t\t    width * height * 2 / 2;\r\n\t\tdev.layer_info.layer_config.info.fb.trd_right_addr[0] =\r\n\t\t    (dev.layer_info.layer_config.info.fb.addr[0] +\r\n\t\t     width * height * 2);\r\n\t\tdev.layer_info.layer_config.info.fb.trd_right_addr[1] =\r\n\t\t    (dev.layer_info.layer_config.info.fb.addr[0] + width * height); */\r\n\t}\r\n\r\n\tdev.layer_info.layer_config.enable = 1;\r\n\r\n\targ[0] = dev.layer_info.screen_id;\r\n\targ[1] = (unsigned long)&dev.layer_info.layer_config;\r\n\targ[2] = 1;\r\n\targ[3] = 0;\r\n\tret = ioctl(dev.layer_info.dispfh, DISP_LAYER_SET_CONFIG, (void *)arg);\r\n\tif (ret != 0)\r\n\t\tprintf("disp_set_addr fail to set layer info\\n");\r\n\r\n\treturn 0;\r\n}\r\n\r\nstatic int read_frame(int mode)\r\n{\r\n\tstruct v4l2_buffer buf;\r\n\tstruct v4l2_plane *v4l2_plane_size;\r\n\tchar fdstr[50];\r\n\tFILE *file_fd = NULL;\r\n\tchar *dst = NULL;\r\n\r\n\tCLEAR(buf);\r\n\tbuf.type = V4L2_BUF_TYPE_VIDEO_CAPTURE_MPLANE;\r\n\tbuf.memory = V4L2_MEMORY_MMAP;\r\n\tbuf.length = nplanes;\r\n\tbuf.m.planes =\r\n\t    (struct v4l2_plane *)calloc(nplanes, sizeof(*v4l2_plane_size));\r\n\r\n\tif (-1 == ioctl(fd, VIDIOC_DQBUF, &buf)) {\r\n\t\tfree(buf.m.planes);\r\n\t\tprintf("VIDIOC_DQBUF failed\\n");\r\n\t\treturn -1;\r\n\t}\r\n\r\n\tASSERT(buf.index < n_buffers);\r\n\r\n\tif (save_flag == 0) {\r\n\t\tif ((count == read_num / 2) || ((count > 0) && (nplanes == 1))) {\r\n\t\t\tprintf("file length = %d %d %d\\n", buffers[buf.index].length[0],\r\n\t\t\t       buffers[buf.index].length[1],\r\n\t\t\t       buffers[buf.index].length[2]);\r\n\t\t\tprintf("file start = %p %p %p\\n", buffers[buf.index].start[0],\r\n\t\t\t       buffers[buf.index].start[1],\r\n\t\t\t       buffers[buf.index].start[2]);\r\n\r\n\t\t\tswitch (nplanes) {\r\n\t\t\tcase 1:\r\n\t\t\t\tsprintf(fdstr, "%s/fb%d_y%d_%d_%d_%u.bin", path_name, dev_id, mode, input_size.width, input_size.height, count);\r\n\t\t\t\tfile_fd = fopen(fdstr, "w");\r\n\t\t\t\tfwrite(buffers[buf.index].start[0], buffers[buf.index].length[0], 1, file_fd);\r\n\t\t\t\tfclose(file_fd);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n#if ROT_90\r\n\t\t\t\tdst = (char *)malloc(buffers[buf.index].length[0]);\r\n\t\t\t\tyuv_r90(dst, buffers[buf.index].start[0], input_size.width, input_size.height);\r\n\t\t\t\tsprintf(fdstr, "%s/fb%d_y%d_%d_%d.bin", path_name, dev_id, mode, input_size.height, input_size.width);\r\n\t\t\t\tfile_fd = fopen(fdstr, "w");\r\n\t\t\t\tfwrite(dst, buffers[buf.index].length[0], 1, file_fd);\r\n\t\t\t\tfclose(file_fd);\r\n\t\t\t\tfree(dst);\r\n\r\n\t\t\t\tdst = (char *)malloc(buffers[buf.index].length[1]);\r\n\t\t\t\tuv_r90(dst, buffers[buf.index].start[1], input_size.width, input_size.height);\r\n\t\t\t\tsprintf(fdstr, "%s/fb%d_uv%d_%d_%d.bin", path_name, dev_id, mode, input_size.height, input_size.width);\r\n\t\t\t\tfile_fd = fopen(fdstr, "w");\r\n\t\t\t\tfwrite(dst, buffers[buf.index].length[1], 1, file_fd);\r\n\t\t\t\tfclose(file_fd);\r\n\t\t\t\tfree(dst);\r\n#else\r\n\t\t\t\tsprintf(fdstr, "%s/fb%d_y%d_%d_%d.bin", path_name, dev_id, mode, input_size.width, input_size.height);\r\n\t\t\t\tfile_fd = fopen(fdstr, "w");\r\n\t\t\t\tfwrite(buffers[buf.index].start[0], buffers[buf.index].length[0], 1, file_fd);\r\n\t\t\t\tfclose(file_fd);\r\n\t\t\t\tsprintf(fdstr, "%s/fb%d_uv%d_%d_%d.bin", path_name, dev_id, mode, input_size.width, input_size.height);\r\n\t\t\t\tfile_fd = fopen(fdstr, "w");\r\n\t\t\t\tfwrite(buffers[buf.index].start[1], buffers[buf.index].length[1], 1, file_fd);\r\n\t\t\t\tfclose(file_fd);\r\n#endif\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n#if ROT_90\r\n\t\t\t\tdst = (char *)malloc(buffers[buf.index].length[0]);\r\n\t\t\t\tyuv_r90(dst, buffers[buf.index].start[0], input_size.width, input_size.height);\r\n\t\t\t\tsprintf(fdstr, "%s/fb%d_y%d_%d_%d.bin", path_name, dev_id, mode, input_size.height, input_size.width);\r\n\t\t\t\tfile_fd = fopen(fdstr, "w");\r\n\t\t\t\tfwrite(dst, buffers[buf.index].length[0], 1, file_fd);\r\n\t\t\t\tfclose(file_fd);\r\n\t\t\t\tfree(dst);\r\n\r\n\t\t\t\tdst = (char *)malloc(buffers[buf.index].length[1]);\r\n\t\t\t\tyuv_r90(dst, buffers[buf.index].start[1], input_size.width/2, input_size.height/2);\r\n\t\t\t\tsprintf(fdstr, "%s/fb%d_u%d_%d_%d.bin", path_name, dev_id, mode, input_size.height, input_size.width);\r\n\t\t\t\tfile_fd = fopen(fdstr, "w");\r\n\t\t\t\tfwrite(dst, buffers[buf.index].length[1], 1, file_fd);\r\n\t\t\t\tfclose(file_fd);\r\n\t\t\t\tfree(dst);\r\n\r\n\t\t\t\tdst = (char *)malloc(buffers[buf.index].length[2]);\r\n\t\t\t\tyuv_r90(dst, buffers[buf.index].start[2], input_size.width/2, input_size.height/2);\r\n\t\t\t\tsprintf(fdstr, "%s/fb%d_v%d_%d_%d.bin", path_name, dev_id, mode, input_size.height, input_size.width);\r\n\t\t\t\tfile_fd = fopen(fdstr, "w");\r\n\t\t\t\tfwrite(dst, buffers[buf.index].length[2], 1, file_fd);\r\n\t\t\t\tfclose(file_fd);\r\n\t\t\t\tfree(dst);\r\n#else\r\n\t\t\t\tsprintf(fdstr, "%s/fb%d_y%d_%d_%d.bin", path_name, dev_id, mode, input_size.width, input_size.height);\r\n\t\t\t\tfile_fd = fopen(fdstr, "w");\r\n\t\t\t\tfwrite(buffers[buf.index].start[0], buffers[buf.index].length[0], 1, file_fd);\r\n\t\t\t\tfclose(file_fd);\r\n\r\n\t\t\t\tsprintf(fdstr, "%s/fb%d_u%d_%d_%d.bin", path_name, dev_id, mode, input_size.width, input_size.height);\r\n\t\t\t\tfile_fd = fopen(fdstr, "w");\r\n\t\t\t\tfwrite(buffers[buf.index].start[1], buffers[buf.index].length[1], 1, file_fd);\r\n\t\t\t\tfclose(file_fd);\r\n\r\n\t\t\t\tsprintf(fdstr, "%s/fb%d_v%d_%d_%d.bin", path_name, dev_id, mode, input_size.width, input_size.height);\r\n\t\t\t\tfile_fd = fopen(fdstr, "w");\r\n\t\t\t\tfwrite(buffers[buf.index].start[2], buffers[buf.index].length[2], 1, file_fd);\r\n\t\t\t\tfclose(file_fd);\r\n#endif\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t} else if (save_flag == 1) {\r\n\t\t/* if ((count > 0) && (count % 4 == 0)) { */\r\n\t\tif ((count > 0)) {\r\n\t\t\tswitch (nplanes) {\r\n\t\t\tcase 1:\r\n\t\t\t\tsprintf(fdstr, "%s/fb%d_yuv%d_%d_%d.bin", path_name, dev_id, mode, input_size.width, input_size.height);\r\n\t\t\t\tfile_fd = fopen(fdstr, "ab");\r\n\t\t\t\tfwrite(buffers[buf.index].start[0], buffers[buf.index].length[0], 1, file_fd);\r\n\t\t\t\tfclose(file_fd);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tsprintf(fdstr, "%s/fb%d_yuv%d_%d_%d.bin", path_name, dev_id, mode, input_size.width, input_size.height);\r\n\t\t\t\tfile_fd = fopen(fdstr, "ab");\r\n\t\t\t\tfwrite(buffers[buf.index].start[0], buffers[buf.index].length[0], 1, file_fd);\r\n\t\t\t\tfclose(file_fd);\r\n\t\t\t\tfile_fd = fopen(fdstr, "ab");\r\n\t\t\t\tfwrite(buffers[buf.index].start[1], buffers[buf.index].length[1], 1, file_fd);\r\n\t\t\t\tfclose(file_fd);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tsprintf(fdstr, "%s/fb%d_yuv%d_%d_%d.bin", path_name, dev_id, mode, input_size.width, input_size.height);\r\n\t\t\t\tfile_fd = fopen(fdstr, "ab");\r\n\t\t\t\tfwrite(buffers[buf.index].start[0], buffers[buf.index].length[0], 1, file_fd);\r\n\t\t\t\tfclose(file_fd);\r\n\t\t\t\tfile_fd = fopen(fdstr, "ab");\r\n\t\t\t\tfwrite(buffers[buf.index].start[1], buffers[buf.index].length[1], 1, file_fd);\r\n\t\t\t\tfclose(file_fd);\r\n\t\t\t\tfile_fd = fopen(fdstr, "ab");\r\n\t\t\t\tfwrite(buffers[buf.index].start[2], buffers[buf.index].length[2], 1, file_fd);\r\n\t\t\t\tfclose(file_fd);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t} else if (save_flag == 2) {\r\n\t\tif (count <= 1)\r\n\t\tcount = read_num;\r\n#if display_frame\r\n\t\tdisp_set_addr(input_size.width, input_size.height, &buf);\r\n#endif\r\n\t} else {\r\n\t\tcount = 0;\r\n\t}\r\n\r\n\tif (-1 == ioctl(fd, VIDIOC_QBUF, &buf)) {\r\n\t\tprintf("VIDIOC_QBUF buf.index %d failed\\n", buf.index);\r\n\t\tfree(buf.m.planes);\r\n\t\treturn -1;\r\n\t}\r\n\r\n\tfree(buf.m.planes);\r\n\r\n\treturn 0;\r\n}\r\n\r\nstatic struct disp_screen get_disp_screen(int w1, int h1, int w2, int h2)\r\n{\r\n\tstruct disp_screen screen;\r\n\tfloat r1, r2;\r\n\r\n\tr1 = (float)w1/(float)w2;\r\n\tr2 = (float)h1/(float)h2;\r\n\tif (r1 < r2) {\r\n\t\tscreen.w = w2*r1;\r\n\t\tscreen.h = h2*r1;\r\n\t} else {\r\n\t\tscreen.w = w2*r2;\r\n\t\tscreen.h = h2*r2;\r\n\t}\r\n\r\n\tscreen.x = (w1 - screen.w)/2;\r\n\tscreen.y = (h1 - screen.h)/2;\r\n\r\n\treturn screen;\r\n}\r\n\r\nstatic int disp_disable(void)\r\n{\r\n#if display_frame\r\n\tint ret;\r\n\tunsigned long arg[6];\r\n\tstruct disp_layer_config disp;\r\n\r\n\t/* release memory && clear layer */\r\n\targ[0] = 0;\r\n\targ[1] = 0;\r\n\targ[2] = 0;\r\n\targ[3] = 0;\r\n\tioctl(dev.layer_info.dispfh, DISP_LAYER_DISABLE, (void *)arg);\r\n\r\n\t/* close channel 0 */\r\n\tmemset(&disp, 0, sizeof(disp_layer_config));\r\n\tdisp.channel = 0;\r\n\tdisp.layer_id = 0;\r\n\tdisp.enable = 0;\r\n\targ[0] = dev.layer_info.screen_id;\r\n\targ[1] = (unsigned long)&disp;\r\n\targ[2] = 1;\r\n\targ[3] = 0;\r\n\tret = ioctl(dev.layer_info.dispfh, DISP_LAYER_SET_CONFIG, (void *)arg);\r\n\tif (ret != 0)\r\n\t\tprintf("disp_disable:disp_set_addr fail to set layer info\\n");\r\n\r\n\t/* close channel 2 */\r\n\tmemset(&disp, 0, sizeof(disp_layer_config));\r\n\tdisp.channel = 2;\r\n\tdisp.layer_id = 0;\r\n\tdisp.enable = 0;\r\n\targ[0] = dev.layer_info.screen_id;\r\n\targ[1] = (unsigned long)&disp;\r\n\targ[2] = 1;\r\n\targ[3] = 0;\r\n\tret = ioctl(dev.layer_info.dispfh, DISP_LAYER_SET_CONFIG, (void *)arg);\r\n\tif (ret != 0)\r\n\t\tprintf("disp_disable:disp_set_addr fail to set layer info\\n");\r\n\r\n\treturn ret;\r\n#else\r\n\treturn 0;\r\n#endif\r\n}\r\n\r\nstatic int disp_init(int width, int height, unsigned int pixformat)\r\n{\r\n#if display_frame\r\n\t/* display_handle* disp = (display_handle*)display; */\r\n\tunsigned int arg[6] = {0};\r\n\tint layer_id = 0;\r\n\r\n\tdev.layer_info.screen_id = 0;\r\n\r\n\tif (dev.layer_info.screen_id < 0)\r\n\t\treturn 0;\r\n\r\n\t/* open device /dev/disp */\r\n\tdev.layer_info.dispfh = open("/dev/disp", O_RDWR);\r\n\tif (dev.layer_info.dispfh == -1) {\r\n\t\tprintf("open display device fail!\\n");\r\n\t\treturn -1;\r\n\t}\r\n\r\n\t/* open disp */\r\n\targ[0] = dev.layer_info.screen_id;\r\n\targ[1] = 1;\r\n\targ[2] = 4;\r\n\tioctl(\r\n\t    dev.layer_info.dispfh, DISP_DEVICE_SWITCH, (void *)arg);\r\n\r\n\t/* get current output type */\r\n\targ[0] = dev.layer_info.screen_id;\r\n\tdev.layer_info.output_type = (disp_output_type)ioctl(\r\n\t    dev.layer_info.dispfh, DISP_GET_OUTPUT_TYPE, (void *)arg);\r\n\tif (dev.layer_info.output_type == DISP_OUTPUT_TYPE_NONE) {\r\n\t\tprintf("the output type is DISP_OUTPUT_TYPE_NONE %d\\n",\r\n\t\t       dev.layer_info.output_type);\r\n\t\treturn -1;\r\n\t}\r\n\r\n\tdisp_disable();\r\n\r\n\tdev.layer_info.pixformat = pixformat;\r\n\tdev.layer_info.layer_config.channel = 0;\r\n\tdev.layer_info.layer_config.layer_id = layer_id;\r\n\tdev.layer_info.layer_config.info.zorder = 1;\r\n\tdev.layer_info.layer_config.info.alpha_mode = 1;\r\n\tdev.layer_info.layer_config.info.alpha_value = 0xff;\r\n\tdev.layer_info.width =\r\n\t    ioctl(dev.layer_info.dispfh, DISP_GET_SCN_WIDTH, (void *)arg);\r\n\tdev.layer_info.height =\r\n\t    ioctl(dev.layer_info.dispfh, DISP_GET_SCN_HEIGHT, (void *)arg);\r\n\r\n\tdev.layer_info.layer_config.info.mode = LAYER_MODE_BUFFER;\r\n\r\n\tif (dev.layer_info.pixformat == TVD_PL_YUV420)\r\n\t\tdev.layer_info.layer_config.info.fb.format = DISP_FORMAT_YUV420_P;  /* DISP_FORMAT_YUV420_P ---- V4L2_PIX_FMT_YUV420M */\r\n\t\t    /* DISP_FORMAT_YUV420_SP_UVUV;  /* DISP_FORMAT_YUV420_SP_UVUV ---- V4L2_PIX_FMT_NV12 */\r\n\telse\r\n\t\tdev.layer_info.layer_config.info.fb.format =\r\n\t\t    DISP_FORMAT_YUV422_SP_VUVU;\r\n\r\n\tif (dev.layer_info.full_screen == 0 && width < dev.layer_info.width &&\r\n\t    height < dev.layer_info.height) {\r\n\t\tdev.layer_info.layer_config.info.screen_win.x =\r\n\t\t    (dev.layer_info.width - width) / 2;\r\n\t\tdev.layer_info.layer_config.info.screen_win.y =\r\n\t\t    (dev.layer_info.height - height) / 2;\r\n\t\tif (!dev.layer_info.layer_config.info.screen_win.width) {\r\n\t\t\tdev.layer_info.layer_config.info.screen_win.width = width;\r\n\t\t\tdev.layer_info.layer_config.info.screen_win.height =\r\n\t\t\t    height;\r\n\t\t}\r\n\t} else {\r\n\t\t/* struct disp_screen screen; */\r\n\t\tget_disp_screen(dev.layer_info.width, dev.layer_info.height,\r\n\t\t\t\twidth, height);\r\n\t\tdev.layer_info.layer_config.info.screen_win.x = 0; /* screen.x; */\r\n\t\tdev.layer_info.layer_config.info.screen_win.y = 0; /* screen.y; */\r\n\t\tdev.layer_info.layer_config.info.screen_win.width =\r\n\t\t    dev.layer_info.width;\r\n\t\tdev.layer_info.layer_config.info.screen_win.height =\r\n\t\t    dev.layer_info.height;\r\n\t\t/* printf("x: %d, y: %d, w: %d, h: %d\\n",screen.x,screen.y,screen.w,screen.h); */\r\n\t}\r\n#endif\r\n\treturn 0;\r\n}\r\n\r\nstatic void terminate(int sig_no)\r\n{\r\n\tprintf("Got signal %d, exiting ...\\n", sig_no);\r\n\r\n#if display_frame\r\n\tdisp_disable();\r\n\tusleep(20*1000);\r\n#endif\r\n\r\n\texit(1);\r\n}\r\n\r\nstatic void install_sig_handler(void)\r\n{\r\n\tsignal(SIGBUS, terminate);\r\n\tsignal(SIGFPE, terminate);\r\n\tsignal(SIGHUP, terminate);\r\n\tsignal(SIGILL, terminate);\r\n\tsignal(SIGKILL, terminate);\r\n\tsignal(SIGINT, terminate);\r\n\tsignal(SIGIOT, terminate);\r\n\tsignal(SIGPIPE, terminate);\r\n\tsignal(SIGQUIT, terminate);\r\n\tsignal(SIGSEGV, terminate);\r\n\tsignal(SIGSYS, terminate);\r\n\tsignal(SIGTERM, terminate);\r\n\tsignal(SIGTRAP, terminate);\r\n\tsignal(SIGUSR1, terminate);\r\n\tsignal(SIGUSR2, terminate);\r\n}\r\n\r\nstatic int req_frame_buffers(void)\r\n{\r\n\tunsigned int i;\r\n\tstruct v4l2_requestbuffers req;\r\n\tstruct v4l2_exportbuffer exp;\r\n\tstruct v4l2_plane *v4l2_plane_size;\r\n\tCLEAR(req);\r\n\treq.count = req_frame_num;\r\n\treq.type = V4L2_BUF_TYPE_VIDEO_CAPTURE_MPLANE;\r\n\treq.memory = V4L2_MEMORY_MMAP;\r\n\tif (-1 == ioctl(fd, VIDIOC_REQBUFS, &req)) {\r\n\t\tprintf("VIDIOC_REQBUFS error\\n");\r\n\t\treturn -1;\r\n\t}\r\n\r\n\tif (buffers) {\r\n\t\tfree(buffers);\r\n\t\tbuffers = NULL;\r\n\t}\r\n\tbuffers = calloc(req.count, sizeof(*buffers));\r\n\r\n\tfor (n_buffers = 0; n_buffers < req.count; ++n_buffers) {\r\n\t\tstruct v4l2_buffer buf;\r\n\r\n\t\tCLEAR(buf);\r\n\t\tbuf.type = V4L2_BUF_TYPE_VIDEO_CAPTURE_MPLANE;\r\n\t\tbuf.memory = V4L2_MEMORY_MMAP;\r\n\t\tbuf.index = n_buffers;\r\n\t\tbuf.length = nplanes;\r\n\t\tbuf.m.planes =\r\n\t\t    (struct v4l2_plane *)calloc(nplanes,\r\n\t\t\t\t\t\tsizeof(*v4l2_plane_size));\r\n\t\tif (buf.m.planes == NULL) {\r\n\t\t\tprintf("buf.m.planes calloc failed!\\n");\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\tif (-1 == ioctl(fd, VIDIOC_QUERYBUF, &buf)) {\r\n\t\t\tprintf("VIDIOC_QUERYBUF error\\n");\r\n\t\t\tfree(buf.m.planes);\r\n\t\t\treturn -1;\r\n\t\t}\r\n\r\n\t\tfor (i = 0; i < nplanes; i++) {\r\n\t\t\tbuffers[n_buffers].length[i] = buf.m.planes[i].length;\r\n\t\t\tbuffers[n_buffers].start[i] =\r\n\t\t\t    mmap(NULL,/* start anywhere */\r\n\t\t\t\t buf.m.planes[i].length,\r\n\t\t\t\t PROT_READ | PROT_WRITE,/* required */\r\n\t\t\t\t MAP_SHARED, /* recommended */\r\n\t\t\t\t fd, buf.m.planes[i].m.mem_offset);\r\n\r\n\t\t\tif (buffers[n_buffers].start[i] == MAP_FAILED) {\r\n\t\t\t\tprintf("mmap failed\\n");\r\n\t\t\t\tfree(buf.m.planes);\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n/*\r\n\t\t\tCLEAR(exp);\r\n\t\t\texp.type = V4L2_BUF_TYPE_VIDEO_CAPTURE_MPLANE;\r\n\t\t\texp.index = n_buffers;\r\n\t\t\texp.plane = i;\r\n\t\t\texp.flags = O_CLOEXEC;\r\n\t\t\tif (-1 == ioctl(fd, VIDIOC_EXPBUF, &exp)) {\r\n\t\t\t\tprintf("VIDIOC_EXPBUF error\\n");\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t\tprintf("buffer %d plane %d DMABUF fd is %d\\n", n_buffers, i, exp.fd);\r\n*/\r\n\t\t}\r\n\t\tfree(buf.m.planes);\r\n\t}\r\n\r\n\tfor (i = 0; i < n_buffers; ++i) {\r\n\t\tstruct v4l2_buffer buf;\r\n\r\n\t\tCLEAR(buf);\r\n\t\tbuf.type = V4L2_BUF_TYPE_VIDEO_CAPTURE_MPLANE;\r\n\t\tbuf.memory = V4L2_MEMORY_MMAP;\r\n\t\tbuf.index = i;\r\n\t\tbuf.length = nplanes;\r\n\t\tbuf.m.planes =\r\n\t\t    (struct v4l2_plane *)calloc(nplanes,\r\n\t\t\t\t\t\tsizeof(*v4l2_plane_size));\r\n\r\n\t\tif (-1 == ioctl(fd, VIDIOC_QBUF, &buf)) {\r\n\t\t\tprintf("VIDIOC_QBUF failed\\n");\r\n\t\t\tfree(buf.m.planes);\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\tfree(buf.m.planes);\r\n\t}\r\n\treturn 0;\r\n}\r\n\r\nstatic int free_frame_buffers(void)\r\n{\r\n\tunsigned int i, j;\r\n\r\n\tfor (i = 0; i < n_buffers; ++i) {\r\n\t\tfor (j = 0; j < nplanes; j++)\r\n\t\t\tif (-1 ==\r\n\t\t\t    munmap(buffers[i].start[j], buffers[i].length[j])) {\r\n\t\t\t\tprintf("munmap error");\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t}\r\n\tfree(buffers);\r\n\treturn 0;\r\n}\r\n\r\nstatic int subdev_open(int *sub_fd, char *str)\r\n{\r\n\tchar subdev[20] = {\'\\0\'};\r\n\tchar node[50] = {\'\\0\'};\r\n\tchar data[20] = {\'\\0\'};\r\n\tint i, fs = -1;\r\n\r\n\tfor (i = 0; i < 255; i++) {\r\n\t\tsprintf(node, "/sys/class/video4linux/v4l-subdev%d/name", i);\r\n\t\tfs = open(node, O_RDONLY/* required */| O_NONBLOCK, 0);\r\n\t\tif (fs < 0) {\r\n\t\t\tprintf("open %s falied\\n", node);\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\t/* data_length = lseek(fd, 0, SEEK_END); */\r\n\t\tlseek(fs, 0L, SEEK_SET);\r\n\t\tread(fs, data, 20);\r\n\t\tclose(fs);\r\n\t\tif (!strncmp(str, data, strlen(str))) {\r\n\t\t\tsprintf(subdev, "/dev/v4l-subdev%d", i);\r\n\t\t\tprintf("find %s is %s\\n", str, subdev);\r\n\t\t\t*sub_fd = open(subdev, O_RDWR | O_NONBLOCK, 0);\r\n\t\t\tif (*sub_fd < 0) {\r\n\t\t\t\tprintf("open %s falied\\n", str);\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t\tprintf("open %s fd = %d\\n", str, *sub_fd);\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t}\r\n\tprintf("can not find %s!\\n", str);\r\n\treturn -1;\r\n}\r\n\r\n#if DP_IN_SUPPORT\r\nstatic int subdev_set_subscribe_event(void)\r\n{\r\n\tstruct v4l2_event_subscription event_sub;\r\n\r\n\tCLEAR(event_sub);\r\n\tevent_sub.id = 0;\r\n\tevent_sub.type = V4L2_EVENT_SOURCE_CHANGE;\r\n\tif (-1 == ioctl(sensor_fd, VIDIOC_SUBSCRIBE_EVENT, &event_sub)) {\r\n\t\tprintf("VIDIOC_SUBSCRIBE_EVENT V4L2_EVENT_SOURCE_CHANGE error!\\n");\r\n\t\treturn -1;\r\n\t}\r\n\r\n\tCLEAR(event_sub);\r\n\tevent_sub.id = V4L2_CID_DV_TX_HOTPLUG;\r\n\tevent_sub.type = V4L2_EVENT_CTRL;\r\n\tif (-1 == ioctl(sensor_fd, VIDIOC_SUBSCRIBE_EVENT, &event_sub)) {\r\n\t\tprintf("VIDIOC_SUBSCRIBE_EVENT V4L2_EVENT_CTRL error!\\n");\r\n\t\treturn -1;\r\n\t}\r\n}\r\n\r\nstatic int subdev_set_unsubscribe_event(void)\r\n{\r\n\tstruct v4l2_event_subscription event_sub;\r\n\r\n\tCLEAR(event_sub);\r\n\tevent_sub.id = 0;\r\n\tevent_sub.type = V4L2_EVENT_SOURCE_CHANGE;\r\n\tif (-1 == ioctl(sensor_fd, VIDIOC_UNSUBSCRIBE_EVENT, &event_sub)) {\r\n\t\tprintf("VIDIOC_UNSUBSCRIBE_EVENT V4L2_EVENT_SOURCE_CHANGE error!\\n");\r\n\t\treturn -1;\r\n\t}\r\n\r\n\tCLEAR(event_sub);\r\n\tevent_sub.id = V4L2_CID_DV_TX_HOTPLUG;\r\n\tevent_sub.type = V4L2_EVENT_CTRL;\r\n\tif (-1 == ioctl(sensor_fd, VIDIOC_UNSUBSCRIBE_EVENT, &event_sub)) {\r\n\t\tprintf("VIDIOC_UNSUBSCRIBE_EVENT V4L2_EVENT_CTRL error!\\n");\r\n\t\treturn -1;\r\n\t}\r\n}\r\n\r\nstatic void *subdev_wait_event(void *arg)\r\n{\r\n\tstruct v4l2_event *event = arg;\r\n\tstruct pollfd arg_fd;\r\n\tint ms_timeout;\r\n\tint r;\r\n\r\n\targ_fd.fd = sensor_fd;\r\n\targ_fd.events = POLLPRI | POLLIN;\r\n\targ_fd.revents = 0;\r\n\r\n\tif (!event) {\r\n\t\tprintf("error param(event) input!\\n");\r\n\t\treturn NULL;\r\n\t}\r\n\r\n\twhile (!wait_exit) {\r\n\t\tms_timeout = 2000;\r\n\t\tr = poll(&arg_fd, 1, ms_timeout);\r\n\r\n\t\tif (-1 == r) {\r\n\t\t\tprintf("select err\\n");\r\n\t\t\treturn NULL;\r\n\t\t}\r\n\t\tif (0 == r) {\r\n\t\t\t//printf("subdev wait event timeout\\n");\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tif (-1 == ioctl(sensor_fd, VIDIOC_DQEVENT, event)) {\r\n\t\t\tprintf("VIDIOC_DQEVENT error!\\n");\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tif (event->type == V4L2_EVENT_CTRL) {\r\n\t\t\tif (event->u.ctrl.value == HOTPLUT_DP_OUT)\r\n\t\t\t\tprintf("subdev wait event until type:%d come, id is 0x%x, DP out(ctrl value is %d)\\n", event->type, event->id, event->u.ctrl.value);\r\n\t\t\telse if (event->u.ctrl.value == HOTPLUT_DP_IN)\r\n\t\t\t\tprintf("subdev wait event until type:%d come, id is 0x%x, DP in(ctrl value is %d)\\n", event->type, event->id, event->u.ctrl.value);\r\n\t\t\telse\r\n\t\t\t\tprintf("subdev wait event until type:%d come, id is 0x%x, resolution not support(ctrl value is %d)\\n", event->type, event->id, event->u.ctrl.value);\r\n\t\t} else\r\n\t\t\tprintf("subdev wait event until type:%d come, id is 0x%x, resolution change(changes is %d)\\n", event->type, event->id, event->u.src_change.changes);\r\n\t}\r\n\r\n\treturn 0;\r\n}\r\n#endif\r\n\r\n#if RV_SUPPORT\r\n#define UEVENT_MSG_LEN 2048\r\n\r\nstatic int open_uevent_socket(void);\r\nstatic void parse_uevent(const char *msg);\r\n\r\nstatic int open_uevent_socket(void)\r\n{\r\n\tstruct sockaddr_nl addr;\r\n\tint sz = 64*1024;\r\n\tint s = 0;\r\n\r\n\tmemset(&addr, 0, sizeof(addr));\r\n\taddr.nl_family = AF_NETLINK;\r\n\taddr.nl_pid = getpid();\r\n\taddr.nl_groups = 0xffffffff;\r\n\r\n\ts = socket(PF_NETLINK, SOCK_DGRAM, NETLINK_KOBJECT_UEVENT);\r\n\tif (s < 0) {\r\n\t\treturn -1;\r\n\t}\r\n\r\n\tsetsockopt(s, SOL_SOCKET, SO_RCVBUFFORCE, &sz, sizeof(sz));\r\n\r\n\tif (bind(s, (struct sockaddr *) &addr, sizeof(addr)) < 0) {\r\n\t\tclose(s);\r\n\t\treturn -1;\r\n\t}\r\n\r\n\treturn s;\r\n}\r\n\r\nstatic void parse_uevent(const char *msg)\r\n{\r\n\twhile (*msg) {\r\n\t\tif (!strncmp(msg, "NAME=", 5)) {\r\n\t\t\tmsg += 5;\r\n\t\t\tif (!strncmp(msg, "RV_START", 8)) {\r\n\t\t\t\tprintf("risc-v car_reverse start, need exit!!!\\n");\r\n\t\t\t\tterminate(SIGKILL);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdo {\r\n\t\t\tmsg++;\r\n\t\t} while (*msg);\r\n\t\tmsg++;\r\n\t}\r\n}\r\n\r\nstatic void *video_wait_event(void *arg)\r\n{\r\n\tint socket_fd = -1;\r\n\tchar msg[UEVENT_MSG_LEN+2];\r\n\tint n;\r\n\r\n\tsocket_fd = open_uevent_socket();\r\n\r\n\tdo {\r\n\t\twhile ((n = recv(socket_fd, msg, UEVENT_MSG_LEN, 0)) > 0) {\r\n\t\t\tif (n == UEVENT_MSG_LEN)\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tmsg[n] = \'\\0\';\r\n\t\t\tmsg[n+1] = \'\\0\';\r\n\r\n\t\t\tparse_uevent(msg);\r\n\t\t}\r\n\t} while (1);\r\n\r\n\treturn 0;\r\n}\r\n#endif\r\n\r\nstatic int camera_init(int sel, int mode)\r\n{\r\n\tstruct v4l2_input inp;\r\n\tstruct v4l2_streamparm parms;\r\n\tstruct sensor_isp_cfg sensor_isp_cfg;\r\n\r\n\tfd = open(dev_name, O_RDWR /* required */  | O_NONBLOCK, 0);\r\n\r\n\tif (fd < 0) {\r\n\t\tprintf("open falied\\n");\r\n\t\treturn -1;\r\n\t}\r\n\tprintf("open %s fd = %d\\n", dev_name, fd);\r\n\r\n#ifdef SUBDEV_TEST\r\n\tif (-1 == subdev_open(&isp0_fd, "sunxi_isp.0"))\r\n\t\treturn -1;\r\n\tif (-1 == subdev_open(&isp1_fd, "sunxi_isp.1"))\r\n\t\treturn -1;\r\n#endif\r\n\r\n#if BK_INT_POOL\r\n\tstruct mrg_int_ch_cfg cfg;\r\n\tCLEAR(cfg);\r\n\tcfg.trig_level = 4;\r\n\tcfg.mrg_ch_sel = MRG_VIDEO0_CH | MRG_VIDEO4_CH;\r\n\tif (-1 == ioctl(fd, VIDIOC_MERGE_INT_CH_CFG, &cfg)) {\r\n\t\tprintf("VIDIOC_MERGE_INT_CH_CFG %d error!\\n", sel);\r\n\t\treturn -1;\r\n\t} else {\r\n\t\tprintf("VIDIOC_MERGE_INT_CH_CFG %d ok!\\n", sel);\r\n\t}\r\n#endif\r\n\r\n\tinp.index = sel;\r\n\tif (-1 == ioctl(fd, VIDIOC_S_INPUT, &inp)) {\r\n\t\tprintf("VIDIOC_S_INPUT %d error!\\n", sel);\r\n\t\treturn -1;\r\n\t}\r\n\r\n#if DP_IN_SUPPORT\r\n\tstruct v4l2_dv_timings timings;\r\n\tint fps;\r\n\r\n\tCLEAR(timings);\r\n\tif (-1 == ioctl(fd, VIDIOC_QUERY_DV_TIMINGS, &timings)) {\r\n\t\tprintf("VIDIOC_G_DV_TIMINGS error!\\n");\r\n\t\treturn -1;\r\n\t}\r\n\tfps = (timings.bt.pixelclock + V4L2_DV_BT_FRAME_HEIGHT(&timings.bt) * V4L2_DV_BT_FRAME_WIDTH(&timings.bt) / 2) /\r\n\t\t\t\t(V4L2_DV_BT_FRAME_HEIGHT(&timings.bt) * V4L2_DV_BT_FRAME_WIDTH(&timings.bt));\r\n\tprintf("width is %d, height is %d, fps is %d\\n", timings.bt.width, timings.bt.height, fps);\r\n\r\n\tif (-1 == subdev_open(&sensor_fd, SENSOR_NAME))\r\n\t\treturn -1;\r\n\tsubdev_set_subscribe_event();\r\n#endif\r\n\r\n\tCLEAR(parms);\r\n\tparms.type = V4L2_BUF_TYPE_VIDEO_CAPTURE_MPLANE;\r\n\tparms.parm.capture.timeperframe.numerator = 1;\r\n\tparms.parm.capture.timeperframe.denominator = fps;\r\n\tparms.parm.capture.capturemode = V4L2_MODE_VIDEO;\r\n\t/* parms.parm.capture.capturemode = V4L2_MODE_IMAGE; */\r\n\t/* when different video have the same sensor source, 1:use sensor current win, 0:find the nearest win */\r\n\tparms.parm.capture.reserved[0] = 0;\r\n\tparms.parm.capture.reserved[1] = wdr_mode;/* 2:command, 1: wdr, 0: normal */\r\n\r\n\tif (-1 == ioctl(fd, VIDIOC_S_PARM, &parms)) {\r\n\t\tprintf("VIDIOC_S_PARM error\\n");\r\n\t\treturn -1;\r\n\t}\r\n\tCLEAR(sensor_isp_cfg);\r\n\tsensor_isp_cfg.isp_wdr_mode = wdr_mode;/* 2:command, 1: wdr, 0: normal */\r\n\tif (-1 == ioctl(fd, VIDIOC_SET_SENSOR_ISP_CFG, &sensor_isp_cfg)) {\r\n\t\tprintf("VIDIOC_SET_SENSOR_ISP_CFG error\\n");\r\n\t}\r\n#if SET_PHY2VIR\r\n\tchar fdstr[50];\r\n\tFILE *file_fd = NULL;\r\n\tstruct isp_memremap_cfg isp_memremap;\r\n\tisp_memremap.en = 1;\r\n\tif (-1 == ioctl(fd, VIDIOC_SET_PHY2VIR, &isp_memremap)) {\r\n\t\tprintf("VIDIOC_SET_PHY2VIR error\\n");\r\n\t} else {\r\n\t\tsprintf(fdstr, "%s/pic.bin", path_name);\r\n\t\tfile_fd = fopen(fdstr, "w");\r\n\t\tfwrite(isp_memremap.vir_addr, isp_memremap.size, 1, file_fd);\r\n\t\tfclose(file_fd);\r\n\t\tprintf("vir_addr is 0x%lx\\n", (unsigned long)isp_memremap.vir_addr);\r\n\r\n\t\tisp_memremap.en = 0;\r\n\t\tif (-1 == ioctl(fd, VIDIOC_SET_PHY2VIR, &isp_memremap)) {\r\n\t\t\tprintf("VIDIOC_SET_PHY2VIR error\\n");\r\n\t\t}\r\n\t}\r\n#endif\r\n\treturn 0;\r\n}\r\n\r\n#define OSD\r\n#define ORL_CNT 16\r\n\r\nstatic int osd_update(void)\r\n{\r\n\tint on_off;\r\n\r\n\ton_off = 1;\r\n\tif (-1 == ioctl(fd, VIDIOC_OVERLAY, &on_off)) {\r\n\t\tprintf("VIDIOC_OVERLAY on error!\\n");\r\n\t\treturn -1;\r\n\t}\r\n\t}\r\n\r\n/*osd disable will close all overlay ,cover and orl*/\r\nstatic int osd_disable(void)\r\n{\r\n\tint on_off;\r\n\r\n\ton_off = 0;\r\n\tif (-1 == ioctl(fd, VIDIOC_OVERLAY, &on_off)) {\r\n\t\tprintf("VIDIOC_OVERLAY on error!\\n");\r\n\t\treturn -1;\r\n\t}\r\n}\r\n\r\nstatic int orl_fmt_set(void)\r\n{\r\n\tstruct v4l2_format fmt;\r\n\tstruct v4l2_clip clips[ORL_CNT*2];\r\n\tint i;\r\n\r\n\tfor (i = 0; i < ORL_CNT; i++) {\r\n\t\tclips[i].c.height = 50;\r\n\t\tclips[i].c.width = 50;\r\n\t\tclips[i].c.left = 50*i;\r\n\t\tclips[i].c.top = 50*i;\r\n\r\n\t\tclips[ORL_CNT + i].c.top = 0xff0000 >> ((i % 3)*8);\r\n\t}\r\n\tclips[ORL_CNT].c.width = 4;\r\n\r\n\tCLEAR(fmt);\r\n\tfmt.type = V4L2_BUF_TYPE_VIDEO_OVERLAY;\r\n\tfmt.fmt.win.clips = &clips[0];\r\n\tfmt.fmt.win.clipcount = ORL_CNT * 2;\r\n\tfmt.fmt.win.bitmap = NULL;\r\n\t//fmt.fmt.win.chromakey = 0xff5566;\r\n\tfmt.fmt.win.field = V4L2_FIELD_NONE;\r\n\tfmt.fmt.win.global_alpha = 16;\r\n\tprintf("fmt.fmt.win.clipcount:%d\\n", fmt.fmt.win.clipcount);\r\n\tif (-1 == ioctl(fd, VIDIOC_S_FMT, &fmt)) {\r\n\t\tprintf("VIDIOC_S_FMT overlay error!\\n");\r\n\t\treturn -1;\r\n\t}\r\n}\r\n\r\n/*only close cover/orl*/\r\nstatic int cover_disable(void)\r\n{\r\n\tstruct v4l2_format fmt;\r\n\r\n\tCLEAR(fmt);\r\n\tfmt.type = V4L2_BUF_TYPE_VIDEO_OVERLAY;\r\n\tfmt.fmt.win.clipcount = 0;\r\n\tfmt.fmt.win.bitmap = NULL;\r\n\r\n\tif (-1 == ioctl(fd, VIDIOC_S_FMT, &fmt)) {\r\n\t\tprintf("VIDIOC_S_FMT overlay error!\\n");\r\n\t\treturn -1;\r\n\t}\r\n\tosd_update();\r\n}\r\n\r\nstatic int camera_fmt_set(int mode)\r\n{\r\n\tstruct v4l2_format fmt;\r\n\r\n\tCLEAR(fmt);\r\n\tfmt.type = V4L2_BUF_TYPE_VIDEO_CAPTURE_MPLANE;\r\n\tfmt.fmt.pix_mp.width = input_size.width;\r\n\tfmt.fmt.pix_mp.height = input_size.height;\r\n\tswitch (mode) {\r\n\tcase 0:\r\n\t\tfmt.fmt.pix_mp.pixelformat = V4L2_PIX_FMT_SBGGR8;\r\n\t\tbreak;\r\n\tcase 1:\r\n\t\tfmt.fmt.pix_mp.pixelformat = V4L2_PIX_FMT_YUV420M;\r\n\t\tbreak;\r\n\tcase 2:\r\n\t\tfmt.fmt.pix_mp.pixelformat = V4L2_PIX_FMT_YUV420;\r\n\t\tbreak;\r\n\tcase 3:\r\n\t\tfmt.fmt.pix_mp.pixelformat = V4L2_PIX_FMT_NV12M;\r\n\t\tbreak;\r\n\tcase 4:\r\n\t\tfmt.fmt.pix_mp.pixelformat = V4L2_PIX_FMT_NV12;\r\n\t\tbreak;\r\n\tcase 5:\r\n\t\tfmt.fmt.pix_mp.pixelformat = V4L2_PIX_FMT_SBGGR10;\r\n\t\tbreak;\r\n\tcase 6:\r\n\t\tfmt.fmt.pix_mp.pixelformat = V4L2_PIX_FMT_SBGGR12;\r\n\t\tbreak;\r\n\tcase 7:\r\n\t\tfmt.fmt.pix_mp.pixelformat = V4L2_PIX_FMT_LBC_2_5X;\r\n\t\tbreak;\r\n\tcase 8:\r\n\t\tfmt.fmt.pix_mp.pixelformat = V4L2_PIX_FMT_RGB24;\r\n\t\tbreak;\r\n\tcase 9:\r\n\t\tfmt.fmt.pix_mp.pixelformat = V4L2_PIX_FMT_RGB565;\r\n\t\tbreak;\r\n\tdefault:\r\n\t\tfmt.fmt.pix_mp.pixelformat = V4L2_PIX_FMT_YUV420M;\r\n\t\tbreak;\r\n\t}\r\n\tfmt.fmt.pix_mp.field = V4L2_FIELD_NONE;\r\n\r\n\tif (-1 == ioctl(fd, VIDIOC_S_FMT, &fmt)) {\r\n\t\tprintf("VIDIOC_S_FMT error!\\n");\r\n\t\treturn -1;\r\n\t}\r\n\r\n\tif (-1 == ioctl(fd, VIDIOC_G_FMT, &fmt)) {\r\n\t\tprintf("VIDIOC_G_FMT error!\\n");\r\n\t\treturn -1;\r\n\t} else {\r\n\t\tnplanes = fmt.fmt.pix_mp.num_planes;\r\n\t\tprintf("resolution got from sensor = %d*%d num_planes = %d\\n",\r\n\t\t       fmt.fmt.pix_mp.width, fmt.fmt.pix_mp.height,\r\n\t\t       fmt.fmt.pix_mp.num_planes);\r\n\t}\r\n\r\n\treturn 0;\r\n}\r\n\r\nstatic int video_set_control(int cmd, int value)\r\n{\r\n\tstruct v4l2_control control;\r\n\r\n\tcontrol.id = cmd;\r\n\tcontrol.value = value;\r\n\tif (-1 == ioctl(fd, VIDIOC_S_CTRL, &control)) {\r\n\t\tprintf("VIDIOC_S_CTRL failed\\n");\r\n\t\treturn -1;\r\n\t}\r\n\treturn 0;\r\n}\r\n\r\nstatic int video_get_control(int cmd)\r\n{\r\n\tstruct v4l2_control control;\r\n\r\n\tcontrol.id = cmd;\r\n\tif (-1 == ioctl(fd, VIDIOC_G_CTRL, &control)) {\r\n\t\tprintf("VIDIOC_G_CTRL failed\\n");\r\n\t\treturn -1;\r\n\t}\r\n\treturn control.value;\r\n}\r\n\r\nstatic int main_test(int sel, int mode)\r\n{\r\n\tenum v4l2_buf_type type = V4L2_BUF_TYPE_VIDEO_CAPTURE_MPLANE;\r\n\tstruct v4l2_ext_control ctrls[4];\r\n\tstruct v4l2_ext_controls ext_ctrls;\r\n\tstruct v4l2_control control;\r\n\tunsigned int pixformat;\r\n\tint ret;\r\n\tint i, j = 0;\r\n\r\n\tif (-1 == camera_init(sel, mode))\r\n\t\treturn -1;\r\n\tif (-1 == camera_fmt_set(mode))\r\n\t\treturn -1;\r\n\tif (-1 == req_frame_buffers())\r\n\t\treturn -1;\r\n\r\n#ifdef OSD\r\n\tif (osd_mode == 5) {\r\n\t\torl_fmt_set();\r\n\t\tosd_update();\r\n\t}\r\n#endif\r\n\r\n#if DP_IN_SUPPORT\r\n\tpthread_t sensor_wait_thread;\r\n\tstruct v4l2_event subdev_event;\r\n\r\n\twait_exit = 0;\r\n\tCLEAR(subdev_event);\r\n\tret = pthread_create(&sensor_wait_thread, NULL, subdev_wait_event, &subdev_event);\r\n\tif (ret < 0) {\r\n\t\tprintf("pthread_create v4l2 failed\\n");\r\n\t\treturn -1;\r\n\t}\r\n\tprintf("sensor_wait_thread wait to exit\\n");\r\n#endif\r\n\r\n#if RV_SUPPORT\r\n\tpthread_t video_wait_thread;\r\n\r\n\twait_exit = 0;\r\n\tret = pthread_create(&video_wait_thread, NULL, video_wait_event, NULL);\r\n\tif (ret < 0) {\r\n\t\tprintf("pthread_create v4l2 failed\\n");\r\n\t\treturn -1;\r\n\t}\r\n\tprintf("video_wait_thread wait to exit\\n");\r\n#endif\r\n\r\n\tpixformat = TVD_PL_YUV420;\r\n\tret = disp_init(input_size.width, input_size.height, pixformat);\r\n\r\n\tif (-1 == ioctl(fd, VIDIOC_STREAMON, &type)) {\r\n\t\tprintf("VIDIOC_STREAMON failed\\n");\r\n\t\treturn -1;\r\n\t} else\r\n\t\tprintf("VIDIOC_STREAMON ok\\n");\r\n\r\n\tcount = read_num;\r\n\twhile (count-- > 0) {\r\n\t\tfor (;;) {\r\n\t\t\tfd_set fds;\r\n\t\t\tstruct timeval tv;\r\n\t\t\tint r;\r\n\r\n\t\t\tFD_ZERO(&fds);\r\n\t\t\tFD_SET(fd, &fds);\r\n\r\n\t\t\ttv.tv_sec = 2; /* Timeout. */\r\n\t\t\ttv.tv_usec = 0;\r\n#if video_s_ctrl\r\n\t\t\tif (count%3 == 0) {\r\n\t\t\t\tif (j == 0) {\r\n\t\t\t\t\tvideo_set_control(V4L2_CID_VFLIP, 0);\r\n\t\t\t\t\tvideo_set_control(V4L2_CID_HFLIP, 0);\r\n\t\t\t\t\tj = 1;\r\n\t\t\t\t\tprintf("V4L2_CID_VFLIP done, j = %d, count = %d\\n", j, count);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvideo_set_control(V4L2_CID_VFLIP, 1);\r\n\t\t\t\t\tvideo_set_control(V4L2_CID_HFLIP, 1);\r\n\t\t\t\t\tj = 0;\r\n\t\t\t\t\tprintf("V4L2_CID_VFLIP no done, j = %d, count = %d\\n", j, count);\r\n\t\t\t\t}\r\n\t\t\t}\r\n#endif\r\n#ifdef SUBDEV_TEST\r\n\t\t\tfor (i = 0; i < 4; i++) {\r\n\t\t\t\tctrls[i].id = V4L2_CID_R_GAIN + i;\r\n\t\t\t\tctrls[i].value = count % 256;\r\n\t\t\t}\r\n\t\t\tmemset(&ext_ctrls, 0, sizeof(ext_ctrls));\r\n\t\t\text_ctrls.ctrl_class = V4L2_CID_R_GAIN;\r\n\t\t\text_ctrls.count = 4;\r\n\t\t\text_ctrls.controls = ctrls;\r\n\t\t\tioctl(isp0_fd, VIDIOC_S_EXT_CTRLS, &ext_ctrls);\r\n\r\n\t\t\tfor (i = 0; i < 4; i++) {\r\n\t\t\t\tctrls[i].id = V4L2_CID_AE_WIN_X1 + i;\r\n\t\t\t\tctrls[i].value = count*16 % 256;\r\n\t\t\t}\r\n\t\t\tmemset(&ext_ctrls, 0, sizeof(ext_ctrls));\r\n\t\t\text_ctrls.ctrl_class = V4L2_CID_AE_WIN_X1;\r\n\t\t\text_ctrls.count = 4;\r\n\t\t\text_ctrls.controls = ctrls;\r\n\t\t\tioctl(isp0_fd, VIDIOC_S_EXT_CTRLS, &ext_ctrls);\r\n\r\n\t\t\tfor (i = 0; i < 4; i++) {\r\n\t\t\t\tctrls[i].id = V4L2_CID_AF_WIN_X1 + i;\r\n\t\t\t\tctrls[i].value = count*16 % 256;\r\n\t\t\t}\r\n\t\t\tmemset(&ext_ctrls, 0, sizeof(ext_ctrls));\r\n\t\t\text_ctrls.ctrl_class = V4L2_CID_AF_WIN_X1;\r\n\t\t\text_ctrls.count = 4;\r\n\t\t\text_ctrls.controls = ctrls;\r\n\t\t\tioctl(isp0_fd, VIDIOC_S_EXT_CTRLS, &ext_ctrls);\r\n\r\n\t\t\tif (count == read_num / 4) {\r\n\t\t\t\tcontrol.id = V4L2_CID_VFLIP;\r\n\t\t\t\tcontrol.value = 1;\r\n\t\t\t\tif (-1 == ioctl(fd, VIDIOC_S_CTRL, &control)) {\r\n\t\t\t\t\tprintf("VIDIOC_S_CTRL failed\\n");\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t} else\r\n\t\t\t\t\tprintf("VIDIOC_S_CTRL ok\\n");\r\n\t\t\t}\r\n\r\n\t\t\tif (count == read_num / 2) {\r\n\t\t\t\tcontrol.id = V4L2_CID_HFLIP;\r\n\t\t\t\tcontrol.value = 1;\r\n\t\t\t\tif (-1 == ioctl(fd, VIDIOC_S_CTRL, &control)) {\r\n\t\t\t\t\tprintf("VIDIOC_S_CTRL failed\\n");\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t} else\r\n\t\t\t\t\tprintf("VIDIOC_S_CTRL ok\\n");\r\n\t\t\t}\r\n#endif\r\n\r\n#ifdef OSD\r\n\t\t\tif (osd_mode == 5) {\r\n\t\t\t\tif (count == read_num / 2) {\r\n\t\t\t\t\tcover_disable();\r\n\t\t\t\t} else if (count == read_num / 3) {\r\n\t\t\t\t\torl_fmt_set();\r\n\t\t\t\t\tosd_update();\r\n\t\t\t\t}\r\n\t\t\t}\r\n#endif\r\n\r\n\t\t\tr = select(fd + 1, &fds, NULL, NULL, &tv);\r\n\r\n\t\t\tif (-1 == r) {\r\n\t\t\t\tif (errno == EINTR)\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\tprintf("select err\\n");\r\n\t\t\t}\r\n\t\t\tif (r == 0) {\r\n\t\t\t\tfprintf(stderr, "select timeout\\n");\r\n#ifdef TIMEOUT\r\n\t\t\t\tif (-1 == ioctl(fd, VIDIOC_STREAMOFF, &type))\r\n\t\t\t\t\tprintf("VIDIOC_STREAMOFF failed\\n");\r\n\t\t\t\telse\r\n\t\t\t\t\tprintf("VIDIOC_STREAMOFF ok\\n");\r\n\t\t\t\tfree_frame_buffers();\r\n\t\t\t\treturn -1;\r\n#else\r\n\t\t\t\tcontinue;\r\n#endif\r\n\t\t\t}\r\n\r\n\t\t\tif (!read_frame(mode))\r\n\t\t\t\tbreak;\r\n\t\t\telse\r\n\t\t\t\treturn -1;\r\n\t\t}\r\n\t}\r\n#if display_frame\r\n\tdisp_disable();\r\n\tusleep(20*1000);\r\n#endif\r\n\r\n\twait_exit = 1;\r\n#if DP_IN_SUPPORT\r\n\tpthread_join(sensor_wait_thread, NULL);\r\n#endif\r\n#if RV_SUPPORT\r\n\tpthread_kill(video_wait_thread, SIGKILL);\r\n\tpthread_join(video_wait_thread, NULL);\r\n#endif\r\n#ifdef OSD\r\n\tosd_disable();\r\n#endif\r\n\r\n\tif (-1 == ioctl(fd, VIDIOC_STREAMOFF, &type)) {\r\n\t\tprintf("VIDIOC_STREAMOFF failed\\n");\r\n\t\treturn -1;\r\n\t} else\r\n\t\tprintf("VIDIOC_STREAMOFF ok\\n");\r\n\r\n\tif (-1 == free_frame_buffers())\r\n\t\treturn -1;\r\n#if SUBDEV_TEST\r\n\tclose(isp0_fd);\r\n\tclose(isp1_fd);\r\n#endif\r\n#if DP_IN_SUPPORT\r\n\tsubdev_set_unsubscribe_event();\r\n\tclose(sensor_fd);\r\n#endif\r\n\treturn 0;\r\n}\r\n\r\nint main(int argc, char *argv[])\r\n{\r\n\tint i, test_cnt = 1;\r\n\tint sel = 0;\r\n\tint width = 640;\r\n\tint height = 480;\r\n\tint mode = 1;\r\n\tstruct timeval tv1, tv2;\r\n\tfloat tv;\r\n\r\n\tinstall_sig_handler();\r\n\r\n\tCLEAR(dev_name);\r\n\tCLEAR(path_name);\r\n\tif (argc == 1) {\r\n\t\tsprintf(dev_name, "/dev/video0");\r\n\t\tsprintf(path_name, "/mnt/sdcard");\r\n\t} else if (argc == 3) {\r\n\t\tdev_id = atoi(argv[1]);\r\n\t\tsprintf(dev_name, "/dev/video%d", dev_id);\r\n\t\tsel = atoi(argv[2]);\r\n\t\tsprintf(path_name, "/mnt/sdcard");\r\n\t} else if (argc == 5) {\r\n\t\tdev_id = atoi(argv[1]);\r\n\t\tsprintf(dev_name, "/dev/video%d", dev_id);\r\n\t\tsel = atoi(argv[2]);\r\n\t\twidth = atoi(argv[3]);\r\n\t\theight = atoi(argv[4]);\r\n\t\tsprintf(path_name, "/mnt/sdcard");\r\n\t} else if (argc == 6) {\r\n\t\tdev_id = atoi(argv[1]);\r\n\t\tsprintf(dev_name, "/dev/video%d", dev_id);\r\n\t\tsel = atoi(argv[2]);\r\n\t\twidth = atoi(argv[3]);\r\n\t\theight = atoi(argv[4]);\r\n\t\tsprintf(path_name, "%s", argv[5]);\r\n\t} else if (argc == 7) {\r\n\t\tdev_id = atoi(argv[1]);\r\n\t\tsprintf(dev_name, "/dev/video%d", dev_id);\r\n\t\tsel = atoi(argv[2]);\r\n\t\twidth = atoi(argv[3]);\r\n\t\theight = atoi(argv[4]);\r\n\t\tsprintf(path_name, "%s", argv[5]);\r\n\t\tmode = atoi(argv[6]);\r\n\t} else if (argc == 8) {\r\n\t\tdev_id = atoi(argv[1]);\r\n\t\tsprintf(dev_name, "/dev/video%d", dev_id);\r\n\t\tsel = atoi(argv[2]);\r\n\t\twidth = atoi(argv[3]);\r\n\t\theight = atoi(argv[4]);\r\n\t\tsprintf(path_name, "%s", argv[5]);\r\n\t\tmode = atoi(argv[6]);\r\n\t\ttest_cnt = atoi(argv[7]);\r\n\t} else if (argc == 9) {\r\n\t\tdev_id = atoi(argv[1]);\r\n\t\tsprintf(dev_name, "/dev/video%d", dev_id);\r\n\t\tsel = atoi(argv[2]);\r\n\t\twidth = atoi(argv[3]);\r\n\t\theight = atoi(argv[4]);\r\n\t\tsprintf(path_name, "%s", argv[5]);\r\n\t\tmode = atoi(argv[6]);\r\n\t\ttest_cnt = atoi(argv[7]);\r\n\t\tfps = atoi(argv[8]);\r\n\t\t/* osd test use */\r\n\t\t/* osd_mode = atoi(argv[8]); */\r\n\t} else if (argc == 10) {\r\n\t\tdev_id = atoi(argv[1]);\r\n\t\tsprintf(dev_name, "/dev/video%d", dev_id);\r\n\t\tsel = atoi(argv[2]);\r\n\t\twidth = atoi(argv[3]);\r\n\t\theight = atoi(argv[4]);\r\n\t\tsprintf(path_name, "%s", argv[5]);\r\n\t\tmode = atoi(argv[6]);\r\n\t\ttest_cnt = atoi(argv[7]);\r\n\t\tfps = atoi(argv[8]);\r\n\t\twdr_mode = atoi(argv[9]);\r\n\t} else {\r\n\t\tprintf("please select the video device: 0-video0 1-video1 ......\\n");\r\n\t\tscanf("%d", &dev_id);\r\n\t\tsprintf(dev_name, "/dev/video%d", dev_id);\r\n\r\n\t\tprintf("please select the camera: 0-dev0 1-dev1 ......\\n");\r\n\t\tscanf("%d", &sel);\r\n\r\n\t\tprintf("please input the resolution: width height......\\n");\r\n\t\tscanf("%d %d", &width, &height);\r\n\r\n\t\tprintf("please input the frame saving path......\\n");\r\n\t\tscanf("%15s", path_name);\r\n\r\n\t\tprintf("please input the test mode: 0~3......\\n");\r\n\t\tscanf("%d", &mode);\r\n\r\n\t\tprintf("please input the test_cnt: >=1......\\n");\r\n\t\tscanf("%d", &test_cnt);\r\n\t}\r\n\r\n\tinput_size.width = width;\r\n\tinput_size.height = height;\r\n\r\n\tif (test_cnt < read_num) {\r\n\t\tread_num = test_cnt;\r\n\t\tsave_flag = 0;\r\n\t\ttest_cnt = 1;\r\n\t} else if (test_cnt < 1000) {\r\n\t\tread_num = test_cnt;\r\n\t\t/* if output is raw then save one frame */\r\n\t\tif (mode < 4)\r\n\t\t\tsave_flag = 1;\r\n\t\telse\r\n\t\t\tsave_flag = 0;\r\n\t\ttest_cnt = 1;\r\n\t} else if (test_cnt < 10000) {\r\n\t\tread_num = test_cnt;\r\n\t\tsave_flag = 3;\r\n\t\ttest_cnt = 10;\r\n\t} else {\r\n\t\tread_num = test_cnt;\r\n\t\tsave_flag = 2;\r\n\t\ttest_cnt = 1;\r\n\t}\r\n\r\n\tfor (i = 0; i < test_cnt; i++) {\r\n\t\tgettimeofday(&tv1, NULL);\r\n\t\tif (0 == main_test(sel, mode))\r\n\t\t\tprintf("mode %d test done at the %d time!!\\n", mode, i);\r\n\t\telse\r\n\t\t\tprintf("mode %d test failed at the %d time!!\\n", mode, i);\r\n\t\tclose(fd);\r\n\t\tgettimeofday(&tv2, NULL);\r\n\t\ttv = (float)((tv2.tv_sec - tv1.tv_sec) * 1000000 + tv2.tv_usec - tv1.tv_usec) / 1000000;\r\n\t\tprintf("time cost %f(s)\\n", tv);\r\n\t}\r\n\treturn 0;\r\n}\n'})}),"\n",(0,e.jsx)(t.p,{children:"demo\u7684\u8c03\u7528\u6d41\u7a0b\u5982\u4e0b\u56fe\uff1a"}),"\n",(0,e.jsx)(t.p,{children:(0,e.jsx)(t.img,{alt:"image-20240330154842501",src:r(11797).Z+"",width:"572",height:"826"})}),"\n",(0,e.jsx)(t.h2,{id:"\u6a21\u5757\u8c03\u8bd5",children:"\u6a21\u5757\u8c03\u8bd5"}),"\n",(0,e.jsx)(t.h3,{id:"\u4fe1\u606f\u8282\u70b9",children:"\u4fe1\u606f\u8282\u70b9"}),"\n",(0,e.jsx)(t.p,{children:"VI\u8282\u70b9\u72b6\u6001\u67e5\u770b\u53ca\u5173\u952e\u4fe1\u606f\u8bf4\u660e\uff1a"}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsxs)(t.li,{children:["\u72b6\u6001\u67e5\u770b\u8def\u5f84\uff1a\u5f53\u7cfb\u7edf\u6253\u5f00 DEBUG_FS \u7f16\u8bd1\u5b8f\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,e.jsx)(t.code,{children:"cat /sys/kernel/debug/mpp/vi"}),"\uff1b\u5426\u5219\u53ef\u4ee5\u4f7f\u7528 ",(0,e.jsx)(t.code,{children:"cat /sys/devices/platform/soc@2900000/2000800.vind/vi"}),"\u3002"]}),"\n",(0,e.jsx)(t.li,{children:"VI\u8282\u70b9\u4fdd\u5b58\u7684\u662f\u5f53\u524d\u6216\u4e0a\u4e00\u6b21\u5de5\u4f5c\u7684\u72b6\u6001\u4fe1\u606f\u3002"}),"\n"]}),"\n",(0,e.jsx)(t.p,{children:"VI\u8282\u70b9\u5173\u952e\u4fe1\u606f\u8bf4\u660e\uff1a"}),"\n",(0,e.jsxs)(t.ol,{children:["\n",(0,e.jsx)(t.li,{children:"CSI_TOP\u3001CSI_ISP\uff1a\u5206\u522b\u5bf9\u5e94CSI\u548cISP\u7684\u5de5\u4f5c\u9891\u7387\u3002"}),"\n",(0,e.jsx)(t.li,{children:"Input\u884c\uff1a\u8868\u793aCSI\u63a5\u6536\u5230\u7684\u56fe\u7247\u5c3a\u5bf8\uff0cfmt\u8868\u793a\u8f93\u5165\u6570\u636e\u7684\u683c\u5f0f\u3002"}),"\n",(0,e.jsx)(t.li,{children:"Output\u884c\uff1a\u8868\u793aCSI\u8f93\u51fa\u5c3a\u5bf8\u3002\u5982\u679c\u4f7f\u7528\u4e86\u7f29\u653e\u6216\u88c1\u526a\uff0c\u8f93\u5165\u8f93\u51fa\u5c3a\u5bf8\u53ef\u80fd\u4e0d\u4e00\u81f4\u3002fmt\u8868\u793a\u6570\u636e\u7684\u8f93\u51fa\u683c\u5f0f\u3002"}),"\n",(0,e.jsx)(t.li,{children:"\u6700\u540e\u4e00\u884c\uff1a\u5305\u542b\u5e73\u5747\u5e27\u95f4\u9694\u3001\u6700\u5927\u5e27\u95f4\u9694\u548c\u6700\u5c0f\u5e27\u95f4\u9694\u3002\u6839\u636e\u8fd9\u4e9b\u4fe1\u606f\u53ef\u4ee5\u8ba1\u7b97\u5f97\u51fa\u5e27\u7387\uff0c\u5728\u8c03\u8bd5\u5e27\u7387\u65f6\u53ef\u4ee5\u53c2\u8003\u3002"}),"\n"]}),"\n",(0,e.jsx)(t.p,{children:(0,e.jsx)(t.img,{alt:"image-20240330155353263",src:r(51275).Z+"",width:"592",height:"303"})}),"\n",(0,e.jsx)(t.h3,{id:"settle-time-\u8c03\u6574\u65b9\u6cd5",children:"Settle Time \u8c03\u6574\u65b9\u6cd5"}),"\n",(0,e.jsx)(t.h4,{id:"\u65b9\u5f0f\u4e00\u5728-sensor-\u9a71\u52a8\u4e2d\u4fee\u6539",children:"\u65b9\u5f0f\u4e00\uff1a\u5728 Sensor \u9a71\u52a8\u4e2d\u4fee\u6539"}),"\n",(0,e.jsxs)(t.p,{children:["\u5728\u5bf9\u5e94\u7684 Sensor \u9a71\u52a8\u4e2d\u7684 sensor_probe \u51fd\u6570\u4e2d\uff0c\u53ef\u4ee5\u6dfb\u52a0\u6216\u4fee\u6539 ",(0,e.jsx)(t.code,{children:"info->time_hs"})," \u7684\u503c\u6765\u8c03\u6574 Settle Time\u3002"]}),"\n",(0,e.jsx)(t.p,{children:(0,e.jsx)(t.img,{alt:"image-20240330155516960",src:r(60640).Z+"",width:"416",height:"125"})}),"\n",(0,e.jsx)(t.h4,{id:"\u65b9\u5f0f\u4e8c\u901a\u8fc7-mipi-\u5b50\u8bbe\u5907\u7684-settle-time-\u8282\u70b9\u5728\u7ebf\u8fdb\u884c\u4fee\u6539",children:"\u65b9\u5f0f\u4e8c\uff1a\u901a\u8fc7 MIPI \u5b50\u8bbe\u5907\u7684 Settle Time \u8282\u70b9\u5728\u7ebf\u8fdb\u884c\u4fee\u6539"}),"\n",(0,e.jsxs)(t.p,{children:["Settle Time \u8282\u70b9\u8def\u5f84\u4e3a\uff1a",(0,e.jsx)(t.code,{children:"/sys/devices/platform/soc/5800800.vind/5810100.mipi"}),"\u3002\u8fdb\u5165\u8282\u70b9\u8def\u5f84\u540e\uff0c\u53ef\u4ee5\u770b\u5230\u5f53\u524d\u76ee\u5f55\u4e0b\u5b58\u5728 settle_time \u8282\u70b9\uff1a"]}),"\n",(0,e.jsx)(t.p,{children:(0,e.jsx)(t.img,{alt:"image-20240330155520737",src:r(7614).Z+"",width:"563",height:"44"})}),"\n",(0,e.jsxs)(t.p,{children:["\u901a\u8fc7\u4f7f\u7528 ",(0,e.jsx)(t.code,{children:"cat"})," \u548c ",(0,e.jsx)(t.code,{children:"echo"})," \u547d\u4ee4\uff0c\u53ef\u4ee5\u5bf9 settle_time \u8282\u70b9\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\uff1a"]}),"\n",(0,e.jsx)(t.p,{children:(0,e.jsx)(t.img,{alt:"image-20240330155523656",src:r(76658).Z+"",width:"643",height:"122"})}),"\n",(0,e.jsx)(t.h4,{id:"\u8c03\u6574\u7b56\u7565",children:"\u8c03\u6574\u7b56\u7565"}),"\n",(0,e.jsx)(t.p,{children:"\u9010\u6e10\u589e\u5927 Settle Time \u7684\u503c\uff0c\u76f4\u5230\u56fe\u50cf\u65e0\u6cd5\u6b63\u5e38\u8f93\u51fa\uff0c\u7136\u540e\u53d6\u4e00\u4e2a\u7565\u4f4e\u4e8e\u6700\u5927\u503c\u7684\u6570\u503c\u5373\u53ef\u3002\u8c03\u6574\u8303\u56f4\u4e3a 0x00-0xff\u3002"}),"\n",(0,e.jsx)(t.h3,{id:"deskew\u6570\u636e\u65f6\u5e8f\u6821\u51c6\u8c03\u6574\u65b9\u6cd5",children:"Deskew\uff08\u6570\u636e\u65f6\u5e8f\u6821\u51c6\uff09\u8c03\u6574\u65b9\u6cd5"}),"\n",(0,e.jsxs)(t.h4,{id:"\u65b9\u6cd5\u4e00\u5728-vin-mipicombo_csicombo_csi_regc-\u4e2d\u4fee\u6539",children:["\u65b9\u6cd5\u4e00\uff1a\u5728 ",(0,e.jsx)(t.code,{children:"vin-mipi/combo_csi/combo_csi_reg.c"})," \u4e2d\u4fee\u6539"]}),"\n",(0,e.jsxs)(t.p,{children:["\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539 ",(0,e.jsx)(t.code,{children:"vin-mipi/combo_csi/combo_csi_reg.c"})," \u6587\u4ef6\u4e2d\u5bf9\u5e94\u901a\u9053\u7684 deskew \u9ed8\u8ba4\u503c\u6765\u8c03\u6574 Deskew\u3002"]}),"\n",(0,e.jsx)(t.p,{children:(0,e.jsx)(t.img,{alt:"image-20240330155609997",src:r(16756).Z+"",width:"592",height:"259"})}),"\n",(0,e.jsx)(t.h4,{id:"\u65b9\u6cd5\u4e8c\u901a\u8fc7\u76f4\u63a5\u8bbe\u7f6e\u5bc4\u5b58\u5668\u8fdb\u884c\u4fee\u6539",children:"\u65b9\u6cd5\u4e8c\uff1a\u901a\u8fc7\u76f4\u63a5\u8bbe\u7f6e\u5bc4\u5b58\u5668\u8fdb\u884c\u4fee\u6539"}),"\n",(0,e.jsxs)(t.p,{children:["\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528 ",(0,e.jsx)(t.code,{children:"echo"})," \u547d\u4ee4\u5c06\u4fee\u6539\u540e\u7684\u503c\u5199\u5165\u76f8\u5e94\u7684\u5bc4\u5b58\u5668\uff0c\u793a\u4f8b\u547d\u4ee4\u5982\u4e0b\uff1a"]}),"\n",(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{className:"language-bash",children:"echo [\u5bc4\u5b58\u5668\u5730\u5740] [\u5bc4\u5b58\u5668\u7684\u503c] > /sys/class/sunxi_dump/write\n"})}),"\n",(0,e.jsx)(t.h4,{id:"\u8c03\u6574\u7b56\u7565-1",children:"\u8c03\u6574\u7b56\u7565"}),"\n",(0,e.jsx)(t.p,{children:"\u5efa\u8bae\u5c1d\u8bd5\u5c06\u503c\u8bbe\u7f6e\u4e3a 0\u30012\u30015\u30017\uff0c\u7136\u540e\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u9009\u62e9\u6700\u9002\u5408\u7684\u503c\u3002\u8c03\u6574\u8303\u56f4\u4e3a 0x0 \u5230 0xf\u3002"}),"\n",(0,e.jsx)(t.h3,{id:"\u89c2\u6d4b-soc-\u4e3b\u63a7\u63a5\u6536\u6570\u636e\u4fe1\u53f7\u72b6\u6001\u65b9\u6cd5",children:"\u89c2\u6d4b SOC \u4e3b\u63a7\u63a5\u6536\u6570\u636e\u4fe1\u53f7\u72b6\u6001\u65b9\u6cd5"}),"\n",(0,e.jsx)(t.h4,{id:"mipi",children:"MIPI"}),"\n",(0,e.jsx)(t.p,{children:"MIPI \u4f20\u8f93\u6a21\u5f0f\u5206\u4e3a LP\uff08Low-Power\uff09\u6a21\u5f0f\u548c HS\uff08High-Speed\uff09\u6a21\u5f0f\u3002\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u6b65\u9aa4\u89c2\u6d4b SOC \u5bf9 MIPI \u63a5\u6536\u6570\u636e\u4fe1\u53f7\u7684\u72b6\u6001\uff1a"}),"\n",(0,e.jsxs)(t.ol,{children:["\n",(0,e.jsxs)(t.li,{children:["\n",(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.strong,{children:"LP \u6a21\u5f0f\u89c2\u6d4b"}),"\uff1a"]}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsx)(t.li,{children:"\u67e5\u9605 MIPI PHY \u90e8\u5206\u7684\u7528\u6237\u624b\u518c\uff0c\u5bfb\u627e\u4e0e\u8bc6\u522b clock lane \u548c data lane \u7684 LP \u72b6\u6001\u76f8\u5173\u7684\u5bc4\u5b58\u5668\u4fe1\u606f\u3002"}),"\n",(0,e.jsx)(t.li,{children:"\u901a\u8fc7\u8bfb\u53d6\u76f8\u5e94\u7684\u5bc4\u5b58\u5668\u503c\uff0c\u53ef\u4ee5\u89c2\u6d4b SOC \u662f\u5426\u8bc6\u522b\u5230\u4e86 MIPI \u7684 LP \u6a21\u5f0f\u4fe1\u53f7\u3002"}),"\n"]}),"\n"]}),"\n",(0,e.jsxs)(t.li,{children:["\n",(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.strong,{children:"HS \u6a21\u5f0f\u89c2\u6d4b"}),"\uff1a"]}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsx)(t.li,{children:"\u540c\u6837\uff0c\u5728 MIPI PHY \u90e8\u5206\u7684\u7528\u6237\u624b\u518c\u4e2d\u67e5\u627e\u4e0e HS \u6a21\u5f0f\u76f8\u5173\u7684\u5bc4\u5b58\u5668\u4fe1\u606f\u3002"}),"\n",(0,e.jsx)(t.li,{children:"\u901a\u8fc7\u8bfb\u53d6\u8fd9\u4e9b\u5bc4\u5b58\u5668\u7684\u503c\uff0c\u53ef\u4ee5\u89c2\u6d4b SOC \u662f\u5426\u8bc6\u522b\u5230\u4e86 MIPI \u7684 HS \u6a21\u5f0f\u6570\u636e\u4fe1\u53f7\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,e.jsx)(t.h4,{id:"\u5e76\u53e3",children:"\u5e76\u53e3"}),"\n",(0,e.jsx)(t.p,{children:"\u5bf9\u4e8e\u5e76\u53e3\u63a5\u53e3\u7684 sensor\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u6b65\u9aa4\u89c2\u6d4b SOC \u5bf9\u5e76\u53e3\u63a5\u6536\u6570\u636e\u4fe1\u53f7\u7684\u72b6\u6001\uff1a"}),"\n",(0,e.jsxs)(t.ol,{children:["\n",(0,e.jsx)(t.li,{children:"\u67e5\u9605 CSI PARSER \u90e8\u5206\u7684\u7528\u6237\u624b\u518c\uff0c\u5bfb\u627e\u4e0e PCLK \u548c DATA \u4fe1\u53f7\u72b6\u6001\u76f8\u5173\u7684\u5bc4\u5b58\u5668\u4fe1\u606f\u3002"}),"\n",(0,e.jsx)(t.li,{children:"\u901a\u8fc7\u8bfb\u53d6\u8fd9\u4e9b\u5bc4\u5b58\u5668\u7684\u503c\uff0c\u53ef\u4ee5\u89c2\u6d4b SOC \u662f\u5426\u8bc6\u522b\u5230\u4e86 sensor \u7aef\u53d1\u9001\u7684 PCLK \u548c DATA \u4fe1\u53f7\u3002"}),"\n"]}),"\n",(0,e.jsx)(t.h2,{id:"faq",children:"FAQ"}),"\n",(0,e.jsx)(t.h3,{id:"twi-\u4e0d\u901a\u627e\u4e0d\u5230\u6444\u50cf\u5934",children:"TWI \u4e0d\u901a\uff0c\u627e\u4e0d\u5230\u6444\u50cf\u5934"}),"\n",(0,e.jsx)(t.p,{children:"\u6839\u636e\u60a8\u63d0\u4f9b\u7684\u4fe1\u606f\uff0c\u60a8\u9047\u5230\u4e86 TWI \u4e0d\u901a\u7684\u95ee\u9898\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u60a8\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u9010\u6b65\u6392\u67e5\uff1a"}),"\n",(0,e.jsx)(t.h4,{id:"1-\u68c0\u67e5-dts-\u914d\u7f6e",children:"1. \u68c0\u67e5 DTS \u914d\u7f6e\uff1a"}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsx)(t.li,{children:"\u786e\u4fdd\u5f15\u811a\u914d\u7f6e\u6b63\u786e\uff0c\u5305\u62ec MCLK\u3001TWI\u3001MIPI\u3001RESET/PWDN \u5f15\u811a\u53ca\u5176\u529f\u80fd\u914d\u7f6e\u3002"}),"\n",(0,e.jsx)(t.li,{children:"\u68c0\u67e5 sensor AVDD\u3001DVDD\u3001IOVDD \u7535\u538b\u914d\u7f6e\u662f\u5426\u7b26\u5408 datasheet \u8981\u6c42\u8303\u56f4\u5185\u3002"}),"\n",(0,e.jsx)(t.li,{children:"\u9a8c\u8bc1 TWI \u5730\u5740\u914d\u7f6e\u662f\u5426\u4e0e sensor datasheet \u4e00\u81f4\uff0c\u5e76\u5c1d\u8bd5\u66f4\u6362 TWI \u5730\u5740\u4ee5\u786e\u8ba4\u3002"}),"\n",(0,e.jsx)(t.li,{children:"\u786e\u8ba4 sensor \u8282\u70b9\u4e2d twi_cci_id \u5c5e\u6027\u914d\u7f6e\u4e0e\u5b9e\u9645\u786c\u4ef6\u4f7f\u7528\u4e00\u81f4\u3002"}),"\n"]}),"\n",(0,e.jsx)(t.h4,{id:"2-\u786e\u8ba4-sensor-\u9a71\u52a8\u914d\u7f6e",children:"2. \u786e\u8ba4 Sensor \u9a71\u52a8\u914d\u7f6e\uff1a"}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsx)(t.li,{children:"\u68c0\u67e5 sensor \u4e0a\u7535\u65f6\u5e8f\u4e0e datasheet \u8981\u6c42\u662f\u5426\u4e00\u81f4\uff0c\u5305\u62ec\u4e09\u8def\u7535\u4e0a\u7535\u987a\u5e8f\u3001PWDN\u3001RESET \u4e0a\u7535\u65f6\u5e8f\u3002"}),"\n",(0,e.jsx)(t.li,{children:"\u786e\u8ba4 Chip ID \u4e0e sensor datasheet \u4e00\u81f4\uff0c\u786e\u4fdd\u8bfb\u53d6\u7684\u5bc4\u5b58\u5668\u5730\u5740\u6b63\u786e\u3002"}),"\n",(0,e.jsx)(t.li,{children:"\u9a8c\u8bc1 CCI Driver \u7ed3\u6784\u4f53\u4e2d\u5730\u5740\u4f4d\u5bbd\u4e0e\u6570\u636e\u4f4d\u5bbd\u914d\u7f6e\u3002"}),"\n"]}),"\n",(0,e.jsx)(t.h4,{id:"3-\u786c\u4ef6\u68c0\u67e5",children:"3. \u786c\u4ef6\u68c0\u67e5\uff1a"}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsx)(t.li,{children:"\u68c0\u67e5 sensor \u5b50\u677f\u539f\u7406\u56fe\u4e0e\u5b9e\u7269\u5bf9\u7167\uff0c\u786e\u8ba4\u710a\u63a5\u6b63\u786e\u3002"}),"\n",(0,e.jsx)(t.li,{children:"\u786e\u4fdd sensor \u4e0e\u5f00\u53d1\u677f\u63a5\u89e6\u826f\u597d\u3002"}),"\n",(0,e.jsx)(t.li,{children:"\u6d4b\u91cf sensor AVDD\u3001DVDD\u3001IOVDD \u4f9b\u7535\u7535\u538b\u662f\u5426\u4e0e\u914d\u7f6e\u4e00\u81f4\u3002"}),"\n",(0,e.jsx)(t.li,{children:"\u6d4b\u91cf PWDN/RESET \u5f15\u811a\u4e0a\u7535\u65f6\u5e8f\u7b26\u5408 datasheet \u8981\u6c42\uff0c\u786e\u8ba4\u7535\u538b\u53d8\u5316\u7b26\u5408\u8981\u6c42\u5e76\u4e14\u5f15\u811a\u662f\u5426\u6709\u4e0a\u62c9\u7535\u963b\u3002"}),"\n",(0,e.jsx)(t.li,{children:"\u786e\u8ba4 TWI \u5f15\u811a\u662f\u5426\u6709\u4e0a\u62c9\u7535\u963b\u3002"}),"\n",(0,e.jsx)(t.li,{children:"\u6d4b\u91cf TWI \u6ce2\u5f62\u662f\u5426\u6b63\u786e\uff0c\u662f\u5426\u6709\u56de\u5e94\u3002"}),"\n"]}),"\n",(0,e.jsx)(t.h4,{id:"4-\u5176\u4ed6\u8003\u8651",children:"4. \u5176\u4ed6\u8003\u8651\uff1a"}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsx)(t.li,{children:"\u8003\u8651 sensor \u662f\u5426\u635f\u574f\u3002"}),"\n",(0,e.jsx)(t.li,{children:"\u786e\u8ba4\u5f00\u53d1\u677f\u63a5\u53e3\u662f\u5426\u6b63\u5e38\u4ee5\u53ca\u8be5 CSI \u901a\u9053\u662f\u5426\u6b63\u5e38\u3002"}),"\n",(0,e.jsx)(t.li,{children:"\u786e\u8ba4 sensor \u662f\u5426\u5b58\u5728\u591a\u4e2a TWI \u5730\u5740\uff0c\u5e76\u6839\u636e datasheet \u6216\u8005\u8be2\u95ee\u6a21\u7ec4\u5382\u786e\u8ba4 TWI \u5730\u5740\u3002"}),"\n"]}),"\n",(0,e.jsx)(t.h3,{id:"sensor-\u4e0d\u51fa\u56fe",children:"Sensor \u4e0d\u51fa\u56fe"}),"\n",(0,e.jsx)(t.h4,{id:"dts\u914d\u7f6e",children:"DTS\u914d\u7f6e"}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsx)(t.li,{children:"\u68c0\u67e5video\u8282\u70b9\u914d\u7f6e\u4e0e\u5b9e\u9645\u786c\u4ef6\u8fde\u63a5\u7684\u901a\u9053\u76f8\u540c"}),"\n",(0,e.jsx)(t.li,{children:"\u786e\u4fddcsi_sel\u4e0emipi_sel\u914d\u7f6e\u4e3a\u76f8\u540cID"}),"\n"]}),"\n",(0,e.jsx)(t.h4,{id:"sensor\u9a71\u52a8\u68c0\u67e5",children:"Sensor\u9a71\u52a8\u68c0\u67e5"}),"\n",(0,e.jsxs)(t.ol,{children:["\n",(0,e.jsx)(t.li,{children:"\u786e\u8ba4\u5bc4\u5b58\u5668\u914d\u7f6e\u6b63\u786e\u5e76\u5df2\u914d\u7f6e\u5230sensor\u4e2d"}),"\n",(0,e.jsx)(t.li,{children:"\u68c0\u67e5mclk\u9891\u7387\u914d\u7f6e\u548c\u4f7f\u80fd"}),"\n",(0,e.jsx)(t.li,{children:"\u4f7f\u7528\u793a\u6ce2\u5668\u68c0\u6d4bmclk\u6ce2\u5f62\u548c\u9891\u7387"}),"\n",(0,e.jsx)(t.li,{children:"\u786e\u8ba4mbus_code\u4f4d\u5bbd\u4e0e\u5bc4\u5b58\u5668\u914d\u7f6e\u5339\u914d"}),"\n"]}),"\n",(0,e.jsx)(t.p,{children:"\u6839\u636e\u60a8\u63d0\u4f9b\u7684\u4fe1\u606f\uff0c\u60a8\u4f3c\u4e4e\u5728\u8fdb\u884cMIPI\u548cParser\u7684\u68c0\u67e5\u548c\u8c03\u8bd5\u5de5\u4f5c\u3002\u4ee5\u4e0b\u662f\u60a8\u5217\u51fa\u7684\u6bcf\u4e2a\u6b65\u9aa4\u7684\u7b80\u8981\u8bf4\u660e\uff1a"}),"\n",(0,e.jsx)(t.h4,{id:"mipi-\u68c0\u67e5",children:"MIPI \u68c0\u67e5"}),"\n",(0,e.jsxs)(t.ol,{children:["\n",(0,e.jsxs)(t.li,{children:["\n",(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.strong,{children:"\u65f6\u949f\u6a21\u5f0f\u68c0\u67e5"}),"\uff1a"]}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsx)(t.li,{children:"\u533a\u5206\u8fde\u7eed\u65f6\u949f\u6a21\u5f0f\u548c\u975e\u8fde\u7eed\u65f6\u949f\u6a21\u5f0f\u3002"}),"\n",(0,e.jsx)(t.li,{children:"\u5927\u591a\u6570 MIPI sensor \u4f7f\u7528\u975e\u8fde\u7eed\u65f6\u949f\u6a21\u5f0f\u3002"}),"\n"]}),"\n"]}),"\n",(0,e.jsxs)(t.li,{children:["\n",(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.strong,{children:"\u521d\u59cb\u5316\u914d\u7f6e"}),"\uff1a"]}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsxs)(t.li,{children:["\u5bf9\u4e8e\u8fde\u7eed\u65f6\u949f\u6a21\u5f0f\uff0c\u9700\u8981\u5728\u4f20\u611f\u5668\u9a71\u52a8\u7684 ",(0,e.jsx)(t.code,{children:"sensor_probe()"})," \u4e2d\u914d\u7f6e ",(0,e.jsx)(t.code,{children:"info->stream_seq = MIPI_BEFORE_SENSOR"}),"\u3002"]}),"\n"]}),"\n"]}),"\n",(0,e.jsxs)(t.li,{children:["\n",(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.strong,{children:"\u72b6\u6001\u68c0\u6d4b"}),"\uff1a"]}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsx)(t.li,{children:"\u901a\u8fc7\u68c0\u67e5SOC\u8bc6\u522b\u5230\u7684 LP\u3001HS \u6a21\u5f0f\u72b6\u6001\u662f\u5426\u5728\u4e0d\u65ad\u5207\u6362\uff0c\u95f4\u63a5\u5224\u65adMIPI\u63a5\u6536\u72b6\u6001\u3002"}),"\n"]}),"\n"]}),"\n",(0,e.jsxs)(t.li,{children:["\n",(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.strong,{children:"\u5bc4\u5b58\u5668\u89c2\u6d4b"}),"\uff1a"]}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsx)(t.li,{children:"\u89c2\u6d4b MIPI PHY \u90e8\u5206\u5bc4\u5b58\u5668\uff08\u5982 0xf0 \u5bc4\u5b58\u5668\uff09\uff0c\u68c0\u67e5\u65f6\u949f\u548c\u6570\u636e lane \u7684 LP\u3001HS \u72b6\u6001\u662f\u5426\u5728\u4e0d\u65ad\u5207\u6362\u3002"}),"\n",(0,e.jsx)(t.li,{children:"\u5982\u679c\u6ca1\u6709\u5207\u6362\uff0c\u5219\u68c0\u67e5\u4f20\u611f\u5668\u4e0e\u5f00\u53d1\u677f\u63a5\u89e6\u662f\u5426\u826f\u597d\uff0c\u5e76\u4f7f\u7528\u793a\u6ce2\u5668\u6d4b\u91cf\u4f20\u611f\u5668\u7aef MIPI \u6570\u636e lane \u548c\u65f6\u949f lane \u6ce2\u5f62\u3002"}),"\n"]}),"\n"]}),"\n",(0,e.jsxs)(t.li,{children:["\n",(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.strong,{children:"Payload \u5bc4\u5b58\u5668\u68c0\u67e5"}),"\uff1a"]}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsxs)(t.li,{children:["\u68c0\u67e5 ",(0,e.jsx)(t.code,{children:"port mipi channel0 interrupt Pending (0x118)"})," \u5bc4\u5b58\u5668\uff0c\u89c2\u5bdf\u662f\u5426\u6709\u62a5\u9519\u3002"]}),"\n",(0,e.jsx)(t.li,{children:"\u5982\u679c\u6709\u62a5\u9519\uff0c\u68c0\u67e5 MIPI \u5bc4\u5b58\u5668\u914d\u7f6e\u662f\u5426\u6b63\u786e\uff0c\u5c1d\u8bd5\u4fee\u6539 deskew \u89e3\u51b3\u62a5\u9519\u3002"}),"\n"]}),"\n"]}),"\n",(0,e.jsxs)(t.li,{children:["\n",(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.strong,{children:"MIPI \u5bc4\u5b58\u5668\u914d\u7f6e\u68c0\u67e5"}),"\uff1a"]}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsx)(t.li,{children:"\u68c0\u67e5 MIPI PHY \u5bc4\u5b58\u5668 (0xf0 \u5bc4\u5b58\u5668)\u3002"}),"\n",(0,e.jsxs)(t.li,{children:["\u68c0\u67e5 ",(0,e.jsx)(t.code,{children:"port control (0x000)"})," \u5bc4\u5b58\u5668\u914d\u7f6e\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:["\u68c0\u67e5 ",(0,e.jsx)(t.code,{children:"port lane mapp (0x004)"})," \u5bc4\u5b58\u5668\uff0c\u786e\u4fdd MIPI lane \u4f7f\u7528\u6b63\u786e\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:["\u68c0\u67e5 ",(0,e.jsx)(t.code,{children:"port mipi data identity (0x108)"})," \u5bc4\u5b58\u5668\uff0c\u786e\u4fdd\u6570\u636e\u4f4d\u5bbd\u8bbe\u7f6e\u6b63\u786e\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:["\u68c0\u67e5 ",(0,e.jsx)(t.code,{children:"port mipi channel0 interrupt Pending (0x118)"})," \u5bc4\u5b58\u5668\uff0c\u786e\u4fdd\u6700\u4f4e\u56db\u4f4d\u6b63\u5e38\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,e.jsx)(t.h4,{id:"parser-\u68c0\u67e5",children:"Parser \u68c0\u67e5"}),"\n",(0,e.jsxs)(t.ol,{children:["\n",(0,e.jsxs)(t.li,{children:["\n",(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.strong,{children:"\u8f93\u5165\u53c2\u6570\u68c0\u67e5"}),"\uff1a"]}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsxs)(t.li,{children:["\u68c0\u67e5 ",(0,e.jsx)(t.code,{children:"csic parser channel_0 input parameter1 (0x34)"})," \u5bc4\u5b58\u5668\uff0c\u786e\u4fdd\u4e0e\u8bbe\u7f6e\u7684\u56fe\u50cf\u5bbd\u9ad8\u4e00\u81f4\u3002"]}),"\n"]}),"\n"]}),"\n",(0,e.jsxs)(t.li,{children:["\n",(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.strong,{children:"Parser \u5bc4\u5b58\u5668\u68c0\u67e5"}),"\uff1a"]}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsxs)(t.li,{children:["\u68c0\u67e5\u4f7f\u80fd\u4f4d\u662f\u5426\u6253\u5f00\u4ee5\u53ca ",(0,e.jsx)(t.code,{children:"parser mode (0x00)"})," \u8bbe\u7f6e\u662f\u5426\u6b63\u786e\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:["\u68c0\u67e5 ",(0,e.jsx)(t.code,{children:"csic parser channel_0 output horizontal size (0x28)"})," \u548c ",(0,e.jsx)(t.code,{children:"csic parser channel_0 output vertical size (0x2c)"})," \u5bc4\u5b58\u5668\u8bbe\u7f6e\u7684\u56fe\u50cf\u5206\u8fa8\u7387\u4e0e sensor \u9a71\u52a8\u4e2d\u8bbe\u7f6e\u7684\u662f\u5426\u4e00\u81f4\u3002"]}),"\n",(0,e.jsxs)(t.li,{children:["\u68c0\u67e5 ",(0,e.jsx)(t.code,{children:"csic parser channel_0 interrupt status (0x44)"})," \u5bc4\u5b58\u5668\uff0c\u5982\u679c\u6709\u503c\uff0c\u8868\u793a\u63a5\u6536\u6570\u636e\u4e0d\u7a33\u5b9a\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,e.jsx)(t.h4,{id:"\u5176\u4ed6",children:"\u5176\u4ed6"}),"\n",(0,e.jsxs)(t.ol,{children:["\n",(0,e.jsx)(t.li,{children:"\u5411\u539f\u5382\u786e\u8ba4\u5bc4\u5b58\u5668\u914d\u7f6e\u5e76\u68c0\u67e5sensor\u9a71\u52a8\u4e2d\u5bc4\u5b58\u5668\u914d\u7f6e"}),"\n",(0,e.jsx)(t.li,{children:"\u66f4\u6362sensor\u8fdb\u884c\u5c1d\u8bd5"}),"\n",(0,e.jsx)(t.li,{children:"\u66f4\u6362\u5f00\u53d1\u677f\u8fdb\u884c\u5c1d\u8bd5"}),"\n"]}),"\n",(0,e.jsx)(t.h3,{id:"\u5df2\u51fa\u56fe\u4f46\u753b\u9762\u662f\u7eff\u8272\u6216\u8005\u7c89\u7ea2\u8272",children:"\u5df2\u51fa\u56fe\u4f46\u753b\u9762\u662f\u7eff\u8272\u6216\u8005\u7c89\u7ea2\u8272"}),"\n",(0,e.jsxs)(t.p,{children:["\u4e00\u822c\u662fYUYV\u987a\u5e8f\u53cd\u4e86\uff0c\u53ef\u4ee5\u4fee\u6539 ",(0,e.jsx)(t.code,{children:"sensor"})," \u9a71\u52a8\u4e2d ",(0,e.jsx)(t.code,{children:"sensor_formats"})," \u7ed3\u6784\u4f53\u7684 ",(0,e.jsx)(t.code,{children:"mbus_code"}),"\u53c2\u6570\uff0c\u4fee\u6539YUV\u987a\u5e8f\u5373\u53ef\u3002"]}),"\n",(0,e.jsx)(t.h3,{id:"twi-\u5df2\u901a\u4f46\u662f\u8bfb\u6240\u6709sensor\u5bc4\u5b58\u5668\u503c\u90fd\u4e3a0",children:"TWI \u5df2\u901a\uff0c\u4f46\u662f\u8bfb\u6240\u6709Sensor\u5bc4\u5b58\u5668\u503c\u90fd\u4e3a0"}),"\n",(0,e.jsxs)(t.ol,{children:["\n",(0,e.jsxs)(t.li,{children:["\n",(0,e.jsxs)(t.p,{children:["\u68c0\u67e5twi\u901a\u8bafaddr\u548cdata\u7684\u4f4d\u5bbd\u3002",(0,e.jsx)(t.br,{}),"\n","\u68c0\u67e5sensor\u9a71\u52a8\u4e2dcci_drv\u7ed3\u6784\u4f53\u4e2d\u5b9a\u4e49\u7684\u503c\u662f\u5426\u7b26\u5408datasheet\u8981\u6c42\u3002"]}),"\n"]}),"\n",(0,e.jsxs)(t.li,{children:["\n",(0,e.jsxs)(t.p,{children:["\u68c0\u67e5twi\u901a\u8baf\u6570\u636e\u5927\u5c0f\u7aef\u662f\u5426\u4e0d\u4e00\u81f4\u3002",(0,e.jsx)(t.br,{}),"\n","\u53ef\u4ee5\u5728\u8bfbsensor id\u65f6\u628a\u5730\u5740\u9ad8\u4f4e\u4f4d\u76f8\u53cd\u6765\u5feb\u901f\u9a8c\u8bc1\u4e00\u4e0b\u3002"]}),"\n"]}),"\n"]}),"\n",(0,e.jsx)(t.h3,{id:"\u753b\u9762\u65cb\u8f6c180\u5ea6",children:"\u753b\u9762\u65cb\u8f6c180\u5ea6"}),"\n",(0,e.jsx)(t.p,{children:"\u53ef\u4ee5\u4fee\u6539board.dts\u91cc\u9762\u7684hflip\u548cvflip\u6765\u89e3\u51b3\uff0c\u5982\u679c\u753b\u9762\u548c\u4eba\u773c\u621090\u5ea6\u7684\u8bdd\uff0c\u53ea\u80fd\u901a\u8fc7\u4fee\u6539sensor\u914d\u7f6e\u6765\u89e3\u51b3\uff08\u53ea\u6709\u90e8\u5206sensor\u652f\u6301\uff09\u3002"})]})}function a(n={}){const{wrapper:t}={...(0,i.a)(),...n.components};return t?(0,e.jsx)(t,{...n,children:(0,e.jsx)(o,{...n})}):o(n)}},68868:(n,t,r)=>{r.d(t,{Z:()=>e});const e=r.p+"assets/images/image-20240330151024810-6b845c72230e174dab934c4fce691252.png"},27705:(n,t,r)=>{r.d(t,{Z:()=>e});const e=r.p+"assets/images/image-20240330151715254-c0d9ad46d002789888eb59b8b87066df.png"},30551:(n,t,r)=>{r.d(t,{Z:()=>e});const e=r.p+"assets/images/image-20240330151818248-466e1545ec10cb97a7a9cca04c349a16.png"},11797:(n,t,r)=>{r.d(t,{Z:()=>e});const e=r.p+"assets/images/image-20240330154842501-27a4a7b8b8d061034fbffb8d5c5f3f7c.png"},51275:(n,t,r)=>{r.d(t,{Z:()=>e});const e=r.p+"assets/images/image-20240330155353263-509e617ba66d2911208ce4befc19945c.png"},60640:(n,t,r)=>{r.d(t,{Z:()=>e});const e="data:image/png;base64,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"},7614:(n,t,r)=>{r.d(t,{Z:()=>e});const e="data:image/png;base64,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"},76658:(n,t,r)=>{r.d(t,{Z:()=>e});const e="data:image/png;base64,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"},16756:(n,t,r)=>{r.d(t,{Z:()=>e});const e=r.p+"assets/images/image-20240330155609997-59f9edf70ed47bdaf1069316176bf7fb.png"},11151:(n,t,r)=>{r.d(t,{Z:()=>l,a:()=>d});var e=r(67294);const i={},s=e.createContext(i);function d(n){const t=e.useContext(s);return e.useMemo((function(){return"function"==typeof n?n(t):{...t,...n}}),[t,n])}function l(n){let t;return t=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:d(n.components),e.createElement(s.Provider,{value:t},n.children)}}}]);