"use strict";(self.webpackChunkavaota_docs=self.webpackChunkavaota_docs||[]).push([[4163],{88684:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>o,frontMatter:()=>d,metadata:()=>r,toc:()=>t});var i=s(85893),c=s(11151);const d={},a="\u914d\u7f6e\u7f16\u8bd1\u5185\u6838",r={id:"linux-manual/sdk-develop/kernel-dev/build-kernel",title:"\u914d\u7f6e\u7f16\u8bd1\u5185\u6838",description:"\u7f16\u8bd1\u5185\u6838",source:"@site/docs/linux-manual/sdk-develop/kernel-dev/02-build-kernel.md",sourceDirName:"linux-manual/sdk-develop/kernel-dev",slug:"/linux-manual/sdk-develop/kernel-dev/build-kernel",permalink:"/en-US/linux-manual/sdk-develop/kernel-dev/build-kernel",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{},sidebar:"linuxManualSidebar",previous:{title:"\u83b7\u53d6\u5185\u6838\u6e90\u7801",permalink:"/en-US/linux-manual/sdk-develop/kernel-dev/get-kernel"},next:{title:"BSP \u9a71\u52a8\u624b\u518c",permalink:"/en-US/category/bsp-\u9a71\u52a8\u624b\u518c"}},l={},t=[{value:"\u7f16\u8bd1\u5185\u6838",id:"\u7f16\u8bd1\u5185\u6838",level:2},{value:"\u914d\u7f6e\u5185\u6838",id:"\u914d\u7f6e\u5185\u6838",level:2},{value:"\u4fdd\u5b58\u914d\u7f6e\u9879",id:"\u4fdd\u5b58\u914d\u7f6e\u9879",level:3}];function h(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",...(0,c.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"\u914d\u7f6e\u7f16\u8bd1\u5185\u6838",children:"\u914d\u7f6e\u7f16\u8bd1\u5185\u6838"}),"\n",(0,i.jsx)(n.h2,{id:"\u7f16\u8bd1\u5185\u6838",children:"\u7f16\u8bd1\u5185\u6838"}),"\n",(0,i.jsx)(n.p,{children:"\u5728\u4e0b\u8f7d\u6216\u81ea\u884c\u751f\u6210\u76ee\u6807\u5185\u6838\u540e\uff0c\u5219\u53ef\u4ee5\u5f00\u59cb\u7f16\u8bd1\u5185\u6838\u3002"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20240602000838968",src:s(12273).Z+"",width:"925",height:"121"})}),"\n",(0,i.jsxs)(n.p,{children:["\u9996\u5148\uff0c\u5e94\u7528\u914d\u7f6e\u6587\u4ef6\uff0c\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u5e94\u7528\u914d\u7f6e\uff0c\u5176\u4e2d ",(0,i.jsx)(n.code,{children:"sun55i_t527_bsp_defconfig"})," \u5bf9\u5e94\u4e0d\u540c\u7684\u82af\u7247\u677f\u7ea7\u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"CROSS_COMPILE=aarch64-linux-gnu- ARCH=arm64 make sun55i_t527_bsp_defconfig\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20240602001116738",src:s(36758).Z+"",width:"1071",height:"327"})}),"\n",(0,i.jsx)(n.p,{children:"\u7136\u540e\u8fdb\u884c\u5185\u6838\u7f16\u8bd1"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"CROSS_COMPILE=aarch64-linux-gnu- ARCH=arm64 make\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20240602001146631",src:s(47810).Z+"",width:"868",height:"473"})}),"\n",(0,i.jsxs)(n.admonition,{type:"info",children:[(0,i.jsxs)(n.p,{children:["\u53ef\u4ee5\u5728 ",(0,i.jsx)(n.code,{children:"make"})," \u547d\u4ee4\u540e\u9762\u6dfb\u52a0 ",(0,i.jsx)(n.code,{children:"-j"})," \u542f\u7528\u591a\u7ebf\u7a0b\u7f16\u8bd1\uff0c\u4f8b\u5982 ",(0,i.jsx)(n.code,{children:"-j4"})," \u4e3a4\u7ebf\u7a0b\u7f16\u8bd1\uff0c\u4e00\u822c\u9009\u62e9 CPU \u6838\u5fc3\u6570\u76f8\u5f53\u7684\u7ebf\u7a0b\u6570\u3002"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"CROSS_COMPILE=aarch64-linux-gnu- ARCH=arm64 make -j4\n"})})]}),"\n",(0,i.jsxs)(n.p,{children:["\u7f16\u8bd1\u5b8c\u6210\uff0c\u5185\u6838\u7f16\u8bd1\u540e\u7684\u6587\u4ef6\u4f4d\u4e8e\uff1a",(0,i.jsx)(n.code,{children:"arch/arm64/boot/Image"}),"\uff0c\u8bbe\u5907\u6811\u4f4d\u4e8e ",(0,i.jsx)(n.code,{children:"arch/arm64/boot/dts/allwinner"})," \u53ef\u4ee5\u524d\u53bb\u62f7\u8d1d\u51fa\u6765\u3002"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20240602001618161",src:s(55728).Z+"",width:"735",height:"479"})}),"\n",(0,i.jsx)(n.h2,{id:"\u914d\u7f6e\u5185\u6838",children:"\u914d\u7f6e\u5185\u6838"}),"\n",(0,i.jsxs)(n.p,{children:["\u53ef\u4ee5\u7528 ",(0,i.jsx)(n.code,{children:"menuconfig"})," \u547d\u4ee4\u8fdb\u5165\u5185\u6838\u914d\u7f6e\u9875\u9762"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-c",children:"CROSS_COMPILE=aarch64-linux-gnu- ARCH=arm64 make menuconfig\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20240602001726814",src:s(85165).Z+"",width:"1080",height:"571"})}),"\n",(0,i.jsx)(n.p,{children:"\u8fd9\u4e2a\u754c\u9762\u53eb\u505a kconfig \u914d\u7f6e\u754c\u9762\uff0c\u5176\u64cd\u4f5c\u65b9\u6cd5\u5982\u4e0b\u6240\u793a\u3002"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20220711114825681",src:s(57874).Z+"",width:"1617",height:"882"})}),"\n",(0,i.jsx)(n.p,{children:"\u8fdb\u5165\u5e38\u7528\u7684 Driver \u9875\u9762"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20220711115616754",src:s(69807).Z+"",width:"2527",height:"1382"})}),"\n",(0,i.jsxs)(n.p,{children:["\u5176\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"\u7a7a\u683c\u952e"})," \u9009\u4e2d\u5404\u4e2a\u9009\u9879\uff0c\u8fd9\u91cc\u4ee5 ",(0,i.jsx)(n.code,{children:"Multimedia support"})," \u9009\u9879\u4e3a\u4f8b\uff1a"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20220711120726186",src:s(85629).Z+"",width:"1242",height:"324"})}),"\n",(0,i.jsxs)(n.p,{children:["\u4e5f\u53ef\u4ee5\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"Y"})," ",(0,i.jsx)(n.code,{children:"M"})," ",(0,i.jsx)(n.code,{children:"N"})," \u952e\u6765\u4fee\u6539\u9009\u9879\uff1a"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20220711120802522",src:s(19374).Z+"",width:"1242",height:"324"})}),"\n",(0,i.jsx)(n.p,{children:"\u9047\u5230\u88ab\u5176\u4ed6\u4f9d\u8d56\u9009\u62e9\u7684\u9009\u9879\uff0c\u53ef\u4ee5\u67e5\u770b Help \u9875\u9762\u68c0\u67e5\u88ab\u4ec0\u4e48\u9009\u9879\u6240\u4f9d\u8d56\u3002"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20220711125703598",src:s(54415).Z+"",width:"2530",height:"1387"})}),"\n",(0,i.jsxs)(n.p,{children:["\u8fdb\u5165 Help \u9875\u9762\u540e\uff0c\u4fbf\u53ef\u4ee5\u67e5\u770b\u8fd9\u4e2a\u9009\u9879\u7684\u4f9d\u8d56\u60c5\u51b5\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6709\u4e9b\u9009\u9879\u662f\u4f5c\u4e3a\u5e95\u5c42\u4f9d\u8d56\u65e0\u6cd5\u968f\u610f\u53d6\u6d88\uff0c\u4f8b\u5982\u8fd9\u91cc\u793a\u4f8b\u7684 ",(0,i.jsx)(n.code,{children:"Hardware Monitoring support"})," \u9009\u9879\u3002"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20220711125333193",src:s(17701).Z+"",width:"2530",height:"1380"})}),"\n",(0,i.jsxs)(n.p,{children:["Kconfig \u6240\u521b\u5efa\u7684\u754c\u9762\u8fd8\u6709\u4e00\u4e2a\u529f\u80fd\uff0c\u5c31\u662f\u641c\u7d22\u529f\u80fd\uff0c\u65b9\u4fbf\u5feb\u901f\u7684\u627e\u5230\u76ee\u6807\u9009\u9879\u3002\u8fd9\u91cc\u4ee5\u641c\u7d22 LCD \u5c4f\u5e55 ",(0,i.jsx)(n.code,{children:"icn6202"})," \u9a71\u52a8\u4e3a\u4f8b\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u5728 Kconfig \u7684\u754c\u9762\u4e2d\u6309 ",(0,i.jsx)(n.code,{children:"/"})," \u952e\uff0c\u8fdb\u5165\u641c\u7d22\u9875\u9762\u3002"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20220711130647390",src:s(35871).Z+"",width:"1280",height:"606"})}),"\n",(0,i.jsx)(n.h3,{id:"\u4fdd\u5b58\u914d\u7f6e\u9879",children:"\u4fdd\u5b58\u914d\u7f6e\u9879"}),"\n",(0,i.jsxs)(n.p,{children:["\u4fee\u6539\u540e\u9700\u8981\u4fdd\u5b58\u4fee\u6539\u5230 ",(0,i.jsx)(n.code,{children:"defconfig"})," \u91cc\uff0c\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"savedefconfig"})," \u547d\u4ee4"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"CROSS_COMPILE=aarch64-linux-gnu- ARCH=arm64 make savedefconfig\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u4ed6\u4f1a\u4fdd\u5b58\u4fee\u6539\u540e\u7684 ",(0,i.jsx)(n.code,{children:"defconfig"})," \u5230\u76ee\u5f55\u4e0b"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20240602002539070",src:s(11305).Z+"",width:"989",height:"184"})}),"\n",(0,i.jsx)(n.p,{children:"\u53ef\u4ee5\u5c06\u5176\u62f7\u8d1d\u56de\u53bb"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"cp defconfig arch/arm64/configs/sun55i_t527_bsp_defconfig\n"})})]})}function o(e={}){const{wrapper:n}={...(0,c.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},57874:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/image-20220711105637061-6d564cc7110bef4941d0fb682790ebb6.png"},69807:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/image-20220711115616754-75645f5d3d676d7624130ccdd27ea295.png"},85629:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/image-20220711120726186-3a1a44b8ee2b077cc40746bc1857e68b.png"},19374:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/image-20220711120802522-dfd1cc5cfe018e0d58cc3611d1b6568c.png"},54415:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/image-20220711121418636-10944c054f21d673e5dd1d833b08a279.png"},17701:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/image-20220711125333193-1db00c10a11a8eebd762bab5c544fae2.png"},35871:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/image-20220711130647390-cad4854095bdc5e38b30b6b26bdeab73.png"},12273:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/image-20240602000838968-b9e3b8c19968f0d1ec6581feed462fbb.png"},36758:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/image-20240602001116738-8b61d81940ef7ca9ba798b5a2528299c.png"},47810:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/image-20240602001146631-6d28ce112c36a08f945f16489d15dd09.png"},55728:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/image-20240602001618161-25304e0b14a7078af6f8c069e275e530.png"},85165:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/image-20240602001726814-8385705a4aeca5478ddbc643d1f19ab5.png"},11305:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/image-20240602002539070-0fc5a4c348c36e7bcf043258c06ce87b.png"},11151:(e,n,s)=>{s.d(n,{Z:()=>r,a:()=>a});var i=s(67294);const c={},d=i.createContext(c);function a(e){const n=i.useContext(d);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:a(e.components),i.createElement(d.Provider,{value:n},e.children)}}}]);