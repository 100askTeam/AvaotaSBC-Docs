"use strict";(self.webpackChunkavaota_docs=self.webpackChunkavaota_docs||[]).push([[973],{42328:(n,r,e)=>{e.r(r),e.d(r,{assets:()=>t,contentTitle:()=>c,default:()=>a,frontMatter:()=>x,metadata:()=>i,toc:()=>l});var d=e(85893),s=e(11151);const x={},c="\u5f02\u6784\u8ba1\u7b97\u8d44\u6e90\u5212\u5206",i={id:"linux-manual/amp-docs/intro/amp-res",title:"\u5f02\u6784\u8ba1\u7b97\u8d44\u6e90\u5212\u5206",description:"Avaota A1",source:"@site/docs/linux-manual/amp-docs/intro/04-amp-res.md",sourceDirName:"linux-manual/amp-docs/intro",slug:"/linux-manual/amp-docs/intro/amp-res",permalink:"/en-US/linux-manual/amp-docs/intro/amp-res",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{},sidebar:"linuxManualSidebar",previous:{title:"AMP \u8f6f\u4ef6\u6846\u67b6",permalink:"/en-US/linux-manual/amp-docs/intro/amp-soft"},next:{title:"RTOS HAL \u6a21\u5757\u9a71\u52a8",permalink:"/en-US/category/rtos-hal-\u6a21\u5757\u9a71\u52a8"}},t={},l=[{value:"Avaota A1",id:"avaota-a1",level:2},{value:"DSP \u8d44\u6e90",id:"dsp-\u8d44\u6e90",level:3},{value:"RV\u8d44\u6e90",id:"rv\u8d44\u6e90",level:3},{value:"\u8bbe\u5907\u6811\u914d\u7f6e",id:"\u8bbe\u5907\u6811\u914d\u7f6e",level:3}];function h(n){const r={code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.a)(),...n.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r.h1,{id:"\u5f02\u6784\u8ba1\u7b97\u8d44\u6e90\u5212\u5206",children:"\u5f02\u6784\u8ba1\u7b97\u8d44\u6e90\u5212\u5206"}),"\n",(0,d.jsx)(r.h2,{id:"avaota-a1",children:"Avaota A1"}),"\n",(0,d.jsx)(r.h3,{id:"dsp-\u8d44\u6e90",children:"DSP \u8d44\u6e90"}),"\n",(0,d.jsxs)(r.table,{children:[(0,d.jsx)(r.thead,{children:(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.th,{children:"Module"}),(0,d.jsx)(r.th,{children:"cacheable\u5c5e\u6027"}),(0,d.jsx)(r.th,{children:"Address"}),(0,d.jsx)(r.th,{children:"Size"}),(0,d.jsx)(r.th,{children:"\u5730\u5740\u6620\u5c04\u8bf4\u660e"})]})}),(0,d.jsxs)(r.tbody,{children:[(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"DSP IRAM"}),(0,d.jsx)(r.td,{children:"non-cacheable"}),(0,d.jsx)(r.td,{children:"0x0002_0000 - 0x0002_FFFF"}),(0,d.jsx)(r.td,{children:"64KB"}),(0,d.jsx)(r.td,{children:"DSP\u901a\u8fc7\u5916\u90e8\u603b\u7ebf\u8bbf\u95ee"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"DSP DRAM0"}),(0,d.jsx)(r.td,{children:"non-cacheable"}),(0,d.jsx)(r.td,{children:"0x0003_0000 - 0x0003_7FFF"}),(0,d.jsx)(r.td,{children:"32KB"}),(0,d.jsx)(r.td,{children:"DSP\u901a\u8fc7\u5916\u90e8\u603b\u7ebf\u8bbf\u95ee"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"DSP DRAM1"}),(0,d.jsx)(r.td,{children:"non-cacheable"}),(0,d.jsx)(r.td,{children:"0x0003_8000 - 0x0003_FFFF"}),(0,d.jsx)(r.td,{children:"32KB"}),(0,d.jsx)(r.td,{children:"DSP\u901a\u5916\u90e8\u603b\u7ebf\u8bbf\u95ee"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"DSP IRAM"}),(0,d.jsx)(r.td,{children:"non-cacheable"}),(0,d.jsx)(r.td,{children:"0x0040_0000 - 0x0040_FFFF"}),(0,d.jsx)(r.td,{children:"64KB"}),(0,d.jsx)(r.td,{children:"DSP\u901a\u8fc7\u5185\u90e8\u603b\u7ebf\u8bbf\u95ee"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"DSP DRAM0"}),(0,d.jsx)(r.td,{children:"non-cacheable"}),(0,d.jsx)(r.td,{children:"0x0042_0000 - 0x0042_7FFF"}),(0,d.jsx)(r.td,{children:"32KB"}),(0,d.jsx)(r.td,{children:"DSP\u901a\u8fc7\u5185\u90e8\u603b\u7ebf\u8bbf\u95ee"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"DSP DRAM1"}),(0,d.jsx)(r.td,{children:"non-cacheable"}),(0,d.jsx)(r.td,{children:"0x0044_0000 - 0x0044_7FFF"}),(0,d.jsx)(r.td,{children:"32KB"}),(0,d.jsx)(r.td,{children:"DSP\u901a\u8fc7\u5185\u90e8\u603b\u7ebf\u8bbf\u95ee"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"DRAM SPACE"}),(0,d.jsx)(r.td,{children:"non-cacheable"}),(0,d.jsx)(r.td,{children:"0x1000_0000 - 0x1FFF_FFFF"}),(0,d.jsx)(r.td,{children:"256M"}),(0,d.jsx)(r.td,{children:"\u5bf9\u5e94DDRR\u7684\u524d256M\u7a7a\u95f4(\u9700\u8981DSP\u8f93\u51faahb\u505a\u5730\u5740\u91cd\u6620\u5c04)"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"DSP IRAM"}),(0,d.jsx)(r.td,{children:"cacheable"}),(0,d.jsx)(r.td,{children:"0x2002_0000 - 0x2002_FFFF"}),(0,d.jsx)(r.td,{children:"64KB"}),(0,d.jsx)(r.td,{children:"DSP\u901a\u8fc7\u5916\u90e8\u603b\u7ebf\u8bbf\u95ee"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"DSP DRAM0"}),(0,d.jsx)(r.td,{children:"cacheable"}),(0,d.jsx)(r.td,{children:"0x2003_0000 - 0x2003_7FFF"}),(0,d.jsx)(r.td,{children:"32KB"}),(0,d.jsx)(r.td,{children:"DSP\u901a\u8fc7\u5916\u90e8\u603b\u7ebf\u8bbf\u95ee"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"DSP DRAM1"}),(0,d.jsx)(r.td,{children:"cacheable"}),(0,d.jsx)(r.td,{children:"0x2003_8000 - 0x2003_FFFF"}),(0,d.jsx)(r.td,{children:"32KB"}),(0,d.jsx)(r.td,{children:"DSP\u901a\u8fc7\u5916\u90e8\u603b\u7ebf\u8bbf\u95ee"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"DRAM SPACE"}),(0,d.jsx)(r.td,{children:"cacheable"}),(0,d.jsx)(r.td,{children:"0x3000_0000 - 0x3FFF_FFFF"}),(0,d.jsx)(r.td,{children:"256M"}),(0,d.jsx)(r.td,{children:"\u5bf9\u5e94DDR\u7684\u524d256M\u7a7a\u95f4(\u9700\u8981DSP\u8f93\u51faahb\u505a\u5730\u5740\u91cd\u6620\u5c04)"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"DRAM SPACE"}),(0,d.jsx)(r.td,{children:"non-cacheable"}),(0,d.jsx)(r.td,{children:"0x4000_0000 - 0x7FFF_FFFF"}),(0,d.jsx)(r.td,{children:"1G"}),(0,d.jsx)(r.td,{children:"DRAM\u7279\u6b8a\u6620\u5c04"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"DRAM SPACE"}),(0,d.jsx)(r.td,{children:"cacheable\u53ef\u914d\u7f6e"}),(0,d.jsx)(r.td,{children:"0x8000_0000 - 0xBFFF_FFFF"}),(0,d.jsx)(r.td,{children:"1G"}),(0,d.jsx)(r.td,{children:"\u9884\u7559\u7a7a\u95f4"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"DRAM SPACE"}),(0,d.jsx)(r.td,{children:"cacheable"}),(0,d.jsx)(r.td,{children:"0xC000_0000 - 0xFFFF_FFFF"}),(0,d.jsx)(r.td,{children:"1G"}),(0,d.jsx)(r.td,{children:"\u76f4\u63a5\u6620\u5c04\u5230DDR\u5bf9\u5e94\u7a7a\u95f4"})]})]})]}),"\n",(0,d.jsx)(r.p,{children:"\u7531\u4e8eDSP\u7684cacheable\u7a7a\u95f4\u5927\u5c0f\u53ea\u80fd\u6309\u7167\u4f60512MB\u53bb\u5212\u5206\uff0c\u800c\u4e14\u8df3\u8f6c\u6307\u4ee4\u4e0d\u80fd\u8d85\u8fc71G\u7a7a\u95f4\uff0c\u56e0\u6b64\u5bf9\u4e8eSRAM\u3001\u4ee5\u53caDRAM\u7684\u7a7a\u95f4\uff0cDSP\u5b58\u5728\u591a\u5957\u5730\u5740\u6620\u5c04\uff0c\u6839\u636e\u4e0d\u540c\u7684\u5730\u5740\u6bb5\u533a\u5206cacheable\u548cnon-cacheable\u3002"}),"\n",(0,d.jsx)(r.p,{children:"DSP\u7684local sram\u5305\u62ecIRAM\u548cDRAM0/1\uff0c\u653e\u5728DSP\u5185\u90e8\uff0c\u5176\u4ed6\u4e3b\u673a\u53ef\u4ee5\u901a\u8fc7DSP\u7684\u603b\u7ebf\u63a5\u53e3\u5bf9\u8be5RAM\u8fdb\u884c\u8bbf\u95ee\uff0c\u800cDSP\u53ef\u4ee5\u901a\u8fc7\u7279\u5b9a\u5730\u5740\uff080x0040_0000 - 0x0044_FFFF\uff09\u5bf9\u5176\u76f4\u63a5\u8bbf\u95ee\uff0c\u5b9e\u73b0\u6700\u9ad8\u6548\u7387\u3002"}),"\n",(0,d.jsx)(r.h3,{id:"rv\u8d44\u6e90",children:"RV\u8d44\u6e90"}),"\n",(0,d.jsxs)(r.table,{children:[(0,d.jsx)(r.thead,{children:(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.th,{children:"Module"}),(0,d.jsx)(r.th,{children:"cacheable\u5c5e\u6027"}),(0,d.jsx)(r.th,{children:"Address"}),(0,d.jsx)(r.th,{children:"Size"}),(0,d.jsx)(r.th,{children:"\u5730\u5740\u6620\u5c04\u8bf4\u660e"})]})}),(0,d.jsxs)(r.tbody,{children:[(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"DSP IRAM"}),(0,d.jsx)(r.td,{children:"non-cacheable"}),(0,d.jsx)(r.td,{children:"0x0002_0000 - 0x0002_FFFF"}),(0,d.jsx)(r.td,{children:"64KB"}),(0,d.jsx)(r.td,{})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"DSP DRAM0"}),(0,d.jsx)(r.td,{children:"non-cacheable"}),(0,d.jsx)(r.td,{children:"0x0003_0000 - 0x0003_7FFF"}),(0,d.jsx)(r.td,{children:"32KB"}),(0,d.jsx)(r.td,{})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"DSP DRAM1"}),(0,d.jsx)(r.td,{children:"non-cacheable"}),(0,d.jsx)(r.td,{children:"0x0003_8000 - 0x0003_FFFF"}),(0,d.jsx)(r.td,{children:"32KB"}),(0,d.jsx)(r.td,{})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"SRAM A2"}),(0,d.jsx)(r.td,{children:"non-cacheable"}),(0,d.jsx)(r.td,{children:"0x0004_0000 - 0x0006_3FFF"}),(0,d.jsx)(r.td,{children:"16+128KB"}),(0,d.jsx)(r.td,{children:"\u7cfb\u7edf\u5916\u8bbe"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"\u5176\u4ed6"}),(0,d.jsx)(r.td,{children:"non-cacheable"}),(0,d.jsx)(r.td,{children:"0x0800_0000 - 0x3FEF_FFFF"}),(0,d.jsx)(r.td,{}),(0,d.jsx)(r.td,{children:"\u4e0eCPUX memory mapping\u4e00\u81f4"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"SRAM SPACE0"}),(0,d.jsx)(r.td,{}),(0,d.jsx)(r.td,{children:"0x3FF0_0000 - 0x3FFF_FFFF"}),(0,d.jsx)(r.td,{children:"1MB(\u5b9e\u9645\u4f7f\u7528256KB)"}),(0,d.jsx)(r.td,{children:"0x3FF0_0000 - 0x3FFB_FFFF\u5728\u603b\u7ebf\u4e0a\u88ab\u5c4f\u853d\uff0c0x3FFC_0000 - 0x3FFF_FFFF\u6620\u5c04\u5230DSP SRAM0\xa00x0728_0000 - 0x072B_FFFF"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"SRAM SPACE1"}),(0,d.jsx)(r.td,{}),(0,d.jsx)(r.td,{children:"0x4000_0000 - 0x7FFF_FFFF"}),(0,d.jsx)(r.td,{children:"1GB"}),(0,d.jsx)(r.td,{children:"0x4000_0000 - 0x4003_FFFF\u6620\u5c04\u5230DSP SRAM1\xa00x072C_0000 - 0x072F_FFFF,\u5176\u4f59\u533a\u95f4\u65e0\u6620\u5c04"})]})]})]}),"\n",(0,d.jsx)(r.h3,{id:"\u8bbe\u5907\u6811\u914d\u7f6e",children:"\u8bbe\u5907\u6811\u914d\u7f6e"}),"\n",(0,d.jsx)(r.pre,{children:(0,d.jsx)(r.code,{className:"language-c",children:'reserved-memory {\r\n    dsp0ddr_reserved: dsp0ddr@4a000000 {\r\n        reg = <0x0 0x4a000000 0x0 0x00a00000>;\r\n        no-map;\r\n    };\r\n\r\n    riscvsram0_reserved: riscvsram0@7280000 {\r\n        reg = <0x0 0x07280000 0x0 0x40000>;\r\n        no-map;\r\n    };\r\n\r\n    riscvsram1_reserved: riscvsram1@72c0000 {\r\n        reg = <0x0 0x072c0000 0x0 0x40000>;\r\n        no-map;\r\n    };\r\n\r\n    /*\r\n    * The name should be "vdev%dbuffer".\r\n    * Its size should be not less than\r\n    *     RPMSG_BUF_SIZE * (num of buffers in a vring) * 2\r\n    *   = 512 * (num of buffers in a vring) * 2\r\n    */\r\n    dsp_vdev0buffer: vdev0buffer@4ac00000 {\r\n        compatible = "shared-dma-pool";\r\n        reg = <0x0 0x4ac00000 0x0 0x40000>;\r\n        no-map;\r\n    };\r\n\r\n    /*\r\n    * The name should be "vdev%dvring%d".\r\n    * The size of each should be not less than\r\n    *     PAGE_ALIGN(vring_size(num, align))\r\n    *   = PAGE_ALIGN(16 * num + 6 + 2 * num + (pads for align) + 6 + 8 * num)\r\n    *\r\n    * (Please refer to the vring layout in include/uapi/linux/virtio_ring.h)\r\n    */\r\n    dsp_vdev0vring0: vdev0vring0@4ac40000 {\r\n        reg = <0x0 0x4ac40000 0x0 0x2000>;\r\n        no-map;\r\n    };\r\n    dsp_vdev0vring1: vdev0vring1@4ac42000 {\r\n        reg = <0x0 0x4ac42000 0x0 0x2000>;\r\n        no-map;\r\n    };\r\n\r\n    /*\r\n     * The name should be "vdev%dbuffer".\r\n     * Its size should be not less than\r\n     *     RPMSG_BUF_SIZE * (num of buffers in a vring) * 2\r\n     *   = 512 * (num of buffers in a vring) * 2\r\n     */\r\n    rv_vdev0buffer: vdev0buffer@4ae00000 {\r\n        compatible = "shared-dma-pool";\r\n        reg = <0x0 0x4ae00000 0x0 0x40000>;\r\n        no-map;\r\n    };\r\n\r\n    /*\r\n     * The name should be "vdev%dvring%d".\r\n     * The size of each should be not less than\r\n     *     PAGE_ALIGN(vring_size(num, align))\r\n     *   = PAGE_ALIGN(16 * num + 6 + 2 * num + (pads for align) + 6 + 8 * num)\r\n     *\r\n     * (Please refer to the vring layout in include/uapi/linux/virtio_ring.h)\r\n     */\r\n    rv_vdev0vring0: vdev0vring0@4ae40000 {\r\n        reg = <0x0 0x4ae40000 0x0 0x2000>;\r\n        no-map;\r\n    };\r\n    rv_vdev0vring1: vdev0vring1@4ae42000 {\r\n        reg = <0x0 0x4ae42000 0x0 0x2000>;\r\n        no-map;\r\n    };\r\n\r\n    /*\r\n    * mcu ram addr\r\n    */\r\n    mcu0iram_reserved: mcu0iram@20000 {\r\n        reg = <0x0 0x20000 0x0 0x10000>;\r\n        no-map;\r\n    };\r\n    mcu0dram0_reserved: mcu0dram0@30000 {\r\n        reg = <0x0 0x30000 0x0 0x8000>;\r\n        no-map;\r\n    };\r\n    mcu0dram1_reserved: mcu0dram1@38000 {\r\n        reg = <0x0 0x38000 0x0 0x8000>;\r\n        no-map;\r\n    };\r\n\r\n    dsp0_rpbuf_reserved: dsp0_rpbuf@4ae44000 {\r\n        compatible = "shared-dma-pool";\r\n        no-map;\r\n        reg = <0x0 0x4ae44000 0x0 0x8000>;\r\n    };\r\n\r\n    dsp_share_space@4ab00000 {\r\n        no-map;\r\n        reg = <0x0 0x4ab00000 0x0 0x10000>;\r\n    };\r\n};\n'})})]})}function a(n={}){const{wrapper:r}={...(0,s.a)(),...n.components};return r?(0,d.jsx)(r,{...n,children:(0,d.jsx)(h,{...n})}):h(n)}},11151:(n,r,e)=>{e.d(r,{Z:()=>i,a:()=>c});var d=e(67294);const s={},x=d.createContext(s);function c(n){const r=d.useContext(x);return d.useMemo((function(){return"function"==typeof n?n(r):{...r,...n}}),[r,n])}function i(n){let r;return r=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:c(n.components),d.createElement(x.Provider,{value:r},n.children)}}}]);