<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-linux-manual/sdk-develop/bsp-driver/gmac" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">EMAC - 以太网络 | Avaota SBC</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="http://avaotasbc.100ask.net/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="http://avaotasbc.100ask.net/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="http://avaotasbc.100ask.net/linux-manual/sdk-develop/bsp-driver/gmac"><meta data-rh="true" property="og:locale" content="zh_CN"><meta data-rh="true" property="og:locale:alternate" content="en_US"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="EMAC - 以太网络 | Avaota SBC"><meta data-rh="true" name="description" content="以太网是一种局域网通信技术，遵循IEEE802.3协议规范，包括10 Mbps、100 Mbps、1000 Mbps和10 Gbps等多种速率的以太网。以太网与TCP/IP协议族的物理层（L1）和数据链路层（L2）相关，其中数据链路层包括逻辑链路控制（LLC）和媒体访问控制（MAC）子层。以太网在TCP/IP协议族中的位置如下图所示："><meta data-rh="true" property="og:description" content="以太网是一种局域网通信技术，遵循IEEE802.3协议规范，包括10 Mbps、100 Mbps、1000 Mbps和10 Gbps等多种速率的以太网。以太网与TCP/IP协议族的物理层（L1）和数据链路层（L2）相关，其中数据链路层包括逻辑链路控制（LLC）和媒体访问控制（MAC）子层。以太网在TCP/IP协议族中的位置如下图所示："><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="http://avaotasbc.100ask.net/linux-manual/sdk-develop/bsp-driver/gmac"><link data-rh="true" rel="alternate" href="http://avaotasbc.100ask.net/linux-manual/sdk-develop/bsp-driver/gmac" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="http://avaotasbc.100ask.net/en-US/linux-manual/sdk-develop/bsp-driver/gmac" hreflang="en-US"><link data-rh="true" rel="alternate" href="http://avaotasbc.100ask.net/linux-manual/sdk-develop/bsp-driver/gmac" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://48O7DQDPJM-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Avaota SBC" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.6d12b8bf.css">
<script src="/assets/js/runtime~main.aceb81ff.js" defer="defer"></script>
<script src="/assets/js/main.c6ddb6ef.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="AvaotaSBC" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="AvaotaSBC" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Avaota SBC文档</b></a><a class="navbar__item navbar__link" href="/avaota-sbc/">Avaota SBC 文档</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/linux-manual/intro">AvaotaOS 开发手册</a><a class="navbar__item navbar__link" href="/android/">Android 开发文档</a><a class="navbar__item navbar__link" href="/community-docs/">Avaota 社区教程</a><a class="navbar__item navbar__link" href="/buildroot/index">Buildroot 教程</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" href="/linux-manual/sdk-develop/bsp-driver/gmac"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>简体中文</a><ul class="dropdown__menu"><li><a href="/linux-manual/sdk-develop/bsp-driver/gmac" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-CN">简体中文</a></li><li><a href="/en-US/linux-manual/sdk-develop/bsp-driver/gmac" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en-US">English</a></li><li><hr style="margin: 0.3rem 0;"></li><li><a href="https://crowdin.com/project/docsavaotafun" target="_blank" rel="noopener noreferrer" class="dropdown__link">Help Us Translate</a></li></ul></div><a href="https://github.com/AvaotaSBC" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/linux-manual/intro">Avaota OS</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/category/avaota-os-使用入门">Avaota OS 使用入门</a><button aria-label="折叠侧边栏分类 &#x27;Avaota OS 使用入门&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/avaotaos/os-flash">Avaota OS 固件烧录</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/avaotaos/os-start">系统启动常见问题</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/avaotaos/ssh">使用 SSH 连接开发板</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/avaotaos/uart">使用 UART 连接开发板</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/avaotaos/hdmi">使用 HDMI 连接开发板</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/avaotaos/wifi">连接 WIFI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/avaotaos/apt-source">更换软件源</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/avaotaos/avaota-dpkg">软件包管理</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/category/avaota-os-开发入门">Avaota OS 开发入门</a><button aria-label="折叠侧边栏分类 &#x27;Avaota OS 开发入门&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/develop-intro/helloworld">编写 Hello World</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/develop-intro/lnmp">部署 LNMP 服务</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/develop-intro/bt-panel">部署 宝塔面板</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/develop-intro/docker">部署 Docker 服务</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/develop-intro/kode-nas">部署 可道云搭建简易 NAS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/develop-intro/mc-server">部署 Minecraft 服务器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/develop-intro/ncnn">部署 ncnn</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/category/外设驱动教程">外设驱动教程</a><button aria-label="折叠侧边栏分类 &#x27;外设驱动教程&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/peripheral-driver/eeprom">EEPROM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/peripheral-driver/ledc">WS2812 RGB LED</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/peripheral-driver/lvgl">SPI 屏幕驱动 LVGL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/peripheral-driver/rtc-chip">外部 RTC 时钟</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/peripheral-driver/spi-lcd">SPI LCD</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/peripheral-driver/spi-nor">SPI NOR</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/peripheral-driver/usb-cam">OpenCV 驱动 USB 摄像头</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/category/avaota-os-开发进阶">Avaota OS 开发进阶</a><button aria-label="折叠侧边栏分类 &#x27;Avaota OS 开发进阶&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/category/自行构建-avaota-os">自行构建 Avaota OS</a><button aria-label="折叠侧边栏分类 &#x27;自行构建 Avaota OS&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/sdk-develop/prepare-env/prepare-env">搭建开发环境</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/sdk-develop/prepare-env/get-sdk">获取 SDK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/sdk-develop/prepare-env/build-os">编译 AvaotaOS</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/category/avaota-os-内核开发">Avaota OS 内核开发</a><button aria-label="折叠侧边栏分类 &#x27;Avaota OS 内核开发&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/sdk-develop/kernel-dev/get-kernel">获取内核源码</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/sdk-develop/kernel-dev/build-kernel">配 置编译内核</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/category/bsp-驱动手册">BSP 驱动手册</a><button aria-label="折叠侧边栏分类 &#x27;BSP 驱动手册&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/sdk-develop/bsp-driver/bsp-intro">BSP 驱动介绍</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/sdk-develop/bsp-driver/ccu">CCU - 时钟管理模块</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/sdk-develop/bsp-driver/ce">Crypto Engine - 算法引擎</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/linux-manual/sdk-develop/bsp-driver/gmac">EMAC - 以太网络</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/sdk-develop/bsp-driver/gpio">GPIO - Pinctrl 子系统</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/sdk-develop/bsp-driver/hwspinlock">HWSPINLOCK - 硬件自旋锁</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/sdk-develop/bsp-driver/ir-rx">IR RX - 红外接收</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/sdk-develop/bsp-driver/ir-tx">IR TX - 红外发射</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/sdk-develop/bsp-driver/ledc">LEDC - 发光二极管控制器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/sdk-develop/bsp-driver/mipi-csi">MIPI CSI - 视频输入</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/sdk-develop/bsp-driver/pcie">PCIe - PCI Express</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/sdk-develop/bsp-driver/pwm">PWM - 脉冲宽度调制</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/sdk-develop/bsp-driver/rtc">RTC - 实时时钟</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/sdk-develop/bsp-driver/sid">Security ID - 芯片ID</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/sdk-develop/bsp-driver/spi">SPI - 同步串行外设接口</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/sdk-develop/bsp-driver/timer">Timer - 定时器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/sdk-develop/bsp-driver/twi">TWI - Two Wire Interface</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/sdk-develop/bsp-driver/uart">UART - 通用异步收发传输器</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/category/syterkit-开发">SyterKit 开发</a><button aria-label="折叠侧边栏分类 &#x27;SyterKit 开发&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/syterkit/syterkit-intro">SyterKit 入门</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/syterkit/syterkit-apps">SyterKit 板级应用</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/category/syterkit-api">SyterKit API</a><button aria-label="折叠侧边栏分类 &#x27;SyterKit API&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/syterkit/devel/libc">libc 基础类库</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/syterkit/devel/log">log 基础库</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/syterkit/devel/os">Timer 调度器</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/category/syterkit-驱动">SyterKit 驱动</a><button aria-label="折叠侧边栏分类 &#x27;SyterKit 驱动&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/syterkit/driver/clk">CLK 驱动</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/syterkit/driver/gpio">GPIO 驱动</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/syterkit/driver/i2c">I2C 驱动</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/syterkit/driver/pmu">PMU 驱动</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/syterkit/driver/spi">SPI 驱动</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/syterkit/driver/uart">UART 驱动</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/category/amp-异构计算">AMP 异构计算</a><button aria-label="折叠侧边栏分类 &#x27;AMP 异构计算&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/category/amp-异构开发">AMP 异构开发</a><button aria-label="折叠侧边栏分类 &#x27;AMP 异构开发&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/amp-docs/intro/amp-intro">异构计算简介</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/amp-docs/intro/amp-soft">AMP 软件框架</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/amp-docs/intro/amp-res">异构计算资源划分</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/category/rtos-hal-模块驱动">RTOS HAL 模块驱动</a><button aria-label="折叠侧边栏分类 &#x27;RTOS HAL 模块驱动&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/amp-docs/hal/ccu">CCU - 时钟管理模块</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/amp-docs/hal/dmac">DMAC - DMA 控制器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/amp-docs/hal/gpadc">GPADC - 模数转换模块</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/amp-docs/hal/gpio">GPIO - 通用IO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/amp-docs/hal/ir">IR - 红外</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/amp-docs/hal/ledc">LEDC - RGB LED</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/amp-docs/hal/msgbox">MSGBOX - 异构通讯</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/amp-docs/hal/pwm">PWM - 脉冲宽度调制</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/amp-docs/hal/rtc">RTC - 实时时钟</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/amp-docs/hal/sid">SID - 唯一码模块</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/amp-docs/hal/smartcard">SCR - 智能卡读取器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/amp-docs/hal/spi">SPI - 同步串行接口</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/amp-docs/hal/spin">HW Spinlock - 硬件同步锁</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/amp-docs/hal/twi">TWI - 双总线协议</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/amp-docs/hal/uart">UART - 通用异步收发传输器</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/category/npu-开发">NPU 开发</a><button aria-label="折叠侧边栏分类 &#x27;NPU 开发&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/npu/npu-intro">NPU 开发介绍</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/npu/prepare-env">准备 NPU 开发环境</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-manual/npu/convert-model">NPU 模型转换与部署</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/category/avaota-os-开发进阶"><span itemprop="name">Avaota OS 开发进阶</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/category/bsp-驱动手册"><span itemprop="name">BSP 驱动手册</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">EMAC - 以太网络</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>EMAC - 以太网络</h1>
<p>以太网是一种局域网通信技术，遵循IEEE802.3协议规范，包括10 Mbps、100 Mbps、1000 Mbps和10 Gbps等多种速率的以太网。以太网与TCP/IP协议族的物理层（L1）和数据链路层（L2）相关，其中数据链路层包括逻辑链路控制（LLC）和媒体访问控制（MAC）子层。以太网在TCP/IP协议族中的位置如下图所示：</p>
<p><img decoding="async" loading="lazy" alt="image-20240529160411813" src="/assets/images/image-20240529160411813-c26f45ded5a4358048d2ef64a2f81db6.png" width="508" height="308" class="img_ev3q"></p>
<p>Linux 内核中网络设备框架如下图所示：</p>
<p><img decoding="async" loading="lazy" alt="image-20240529160436935" src="/assets/images/image-20240529160436935-7cd7631c81f62d179f2a720b5601fd92.png" width="720" height="494" class="img_ev3q"></p>
<ol>
<li>网络协议接口层：向网络协议层提供统一的数据包收发接口，通过dev_queue_xmit()发送数据，并通过netif_rx()接收数据</li>
<li>网络设备接口层：向协议接口层提供统一的用于描述网络设备属性和操作的结构体net_device，该结构体是设备驱动层中各函数的容器。</li>
<li>网络设备驱动层：实现net_device中定义的操作函数指针（通常不是全部），驱动硬件完成相应动作。</li>
<li>网络设备媒介层：完成数据包发送和接收的物理实体，包括网络适配器和具体的传输媒介。</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="模块配置">模块配置<a class="hash-link" aria-label="模块配置的直接链接" title="模块配置的直接链接" href="/linux-manual/sdk-develop/bsp-driver/gmac#模块配置">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="kernel-协议栈配置">Kernel 协议栈配置<a class="hash-link" aria-label="Kernel 协议栈配置的直接链接" title="Kernel 协议栈配置的直接链接" href="/linux-manual/sdk-develop/bsp-driver/gmac#kernel-协议栈配置">​</a></h3>
<p>对于 Linux 系统，使用以太网需要配置以太网协议栈，包括如下配置项</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">CONFIG_PACKET</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CONFIG_UNIX</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CONFIG_UNIX_DIAG</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CONFIG_NET_KEY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CONFIG_INET</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CONFIG_IP_MULTICAST</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CONFIG_IP_ADVANCED_ROUTER</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CONFIG_IP_FIB_TRIE_STATS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CONFIG_IP_MULTIPLE_TABLES</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="kernel-驱动配置">Kernel 驱动配置<a class="hash-link" aria-label="Kernel 驱动配置的直接链接" title="Kernel 驱动配置的直接链接" href="/linux-manual/sdk-develop/bsp-driver/gmac#kernel-驱动配置">​</a></h3>
<p>对于 EMAC 的驱动，由于芯片存在多套以太网IP，包括 EMAC，GMAC，GMAC-200。其适配的以太网驱动为不同驱动框架。这里分开说明</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="emac-配置说明">EMAC 配置说明<a class="hash-link" aria-label="EMAC 配置说明的直接链接" title="EMAC 配置说明的直接链接" href="/linux-manual/sdk-develop/bsp-driver/gmac#emac-配置说明">​</a></h4>
<p>EMAC 控制器描述如下图所示，其主要特点为最高支持百兆网络。</p>
<p><img decoding="async" loading="lazy" alt="image-20240529160919515" src="/assets/images/image-20240529160919515-1b1ce0cfefc0be1496758c9edd9d1fac.png" width="829" height="489" class="img_ev3q"></p>
<p>内核配置项目为</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">CONFIG_AW_EMAC</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CONFIG_AW_EMAC_MDIO</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>内核设备树配置项</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mdio1</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> mdio1@</span><span class="token number" style="color:#36acaa">1</span><span class="token plain">c0b080 </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	compatible </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;allwinner,sun4i-mdio&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">address</span><span class="token macro property expression operator" style="color:#393A34">-</span><span class="token macro property expression" style="color:#36acaa">cells </span><span class="token macro property expression operator" style="color:#393A34">=</span><span class="token macro property expression" style="color:#36acaa"> </span><span class="token macro property expression operator" style="color:#393A34">&lt;</span><span class="token macro property expression number" style="color:#36acaa">1</span><span class="token macro property expression operator" style="color:#393A34">&gt;</span><span class="token macro property expression punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">size</span><span class="token macro property expression operator" style="color:#393A34">-</span><span class="token macro property expression" style="color:#36acaa">cells </span><span class="token macro property expression operator" style="color:#393A34">=</span><span class="token macro property expression" style="color:#36acaa"> </span><span class="token macro property expression operator" style="color:#393A34">&lt;</span><span class="token macro property expression number" style="color:#36acaa">0</span><span class="token macro property expression operator" style="color:#393A34">&gt;</span><span class="token macro property expression punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	reg </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">0x0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x01c0b080</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x14</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;okay&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	phy1</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> ethernet</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">phy@</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		reg </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">emac0</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> emac0@</span><span class="token number" style="color:#36acaa">1</span><span class="token plain">c0b000 </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	compatible </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;allwinner,sunxi-emac&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	reg </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">0x0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x01c0b000</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x0c000</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	interrupts      </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">GIC_SPI </span><span class="token number" style="color:#36acaa">55</span><span class="token plain"> IRQ_TYPE_LEVEL_HIGH</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    interrupt</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">names </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;emacirq&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	clocks   </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ccu CLK_BUS_EMAC</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	clock</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">names </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;emac&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	resets </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ccu RST_BUS_EMAC</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pinctrl</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">names </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;default&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	pinctrl</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">0</span><span class="token plain">     </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">emac_pins_a</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	phy</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">rst </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">pio PH </span><span class="token number" style="color:#36acaa">27</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	phy</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">handle </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">phy1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;disabled&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p><code>compatible</code> 表征具体的设备,用于驱动和设备的绑定；</p>
</li>
<li>
<p><code>reg</code> 设备使用的地址；</p>
</li>
<li>
<p><code>interrupts</code> 设备使用的中断；</p>
</li>
<li>
<p><code>clocks</code> 设备使用的时钟；</p>
</li>
<li>
<p><code>pinctrl-0</code> 设备active状态下的GPIO配置；</p>
</li>
<li>
<p><code>pinctrl-1</code> 设备sleep状态下的GPIO配置；</p>
</li>
<li>
<p><code>phy-rst</code>（<em><strong>注：更换PHY器件需要更改此属性</strong></em>） PHY复位脚；</p>
</li>
<li>
<p><code>phy-handle</code> phy器件句柄；</p>
</li>
<li>
<p>phy子节点配置（<em><strong>注：更换PHY器件需要更改此属性</strong></em>）：</p>
<ul>
<li><code>reg</code> 表征phy地址。</li>
</ul>
</li>
</ul>
<p>板级配置项目，主要是配置 emac 的 PHY RST 控制脚，和配置启用节点。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&amp;mdio1 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	status        = &quot;okay&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&amp;emac0 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pinctrl-names = &quot;default&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	pinctrl-0     = &lt;&amp;emac_pins_a&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	phy-rst       = &lt;&amp;pio PH 27 GPIO_ACTIVE_LOW&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	status        = &quot;okay&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="gmac-配置说明">GMAC 配置说明<a class="hash-link" aria-label="GMAC 配置说明的直接链接" title="GMAC 配置说明的直接链接" href="/linux-manual/sdk-develop/bsp-driver/gmac#gmac-配置说明">​</a></h4>
<p>GMAC 控制器描述如下图所示，其支持最高千兆网络。</p>
<p><img decoding="async" loading="lazy" alt="image-20240529161449108" src="/assets/images/image-20240529161449108-f52e1efbc8c7176004dac5b4c10cb65b.png" width="717" height="692" class="img_ev3q"></p>
<p>内核配置项目为：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">CONFIG_AW_GMAC</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CONFIG_AW_GMAC_MDIO</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>设备树配置项目：</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mdio0</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> mdio0@</span><span class="token number" style="color:#36acaa">4500048</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	compatible </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;allwinner,sunxi-mdio&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">address</span><span class="token macro property expression operator" style="color:#393A34">-</span><span class="token macro property expression" style="color:#36acaa">cells </span><span class="token macro property expression operator" style="color:#393A34">=</span><span class="token macro property expression" style="color:#36acaa"> </span><span class="token macro property expression operator" style="color:#393A34">&lt;</span><span class="token macro property expression number" style="color:#36acaa">1</span><span class="token macro property expression operator" style="color:#393A34">&gt;</span><span class="token macro property expression punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">size</span><span class="token macro property expression operator" style="color:#393A34">-</span><span class="token macro property expression" style="color:#36acaa">cells </span><span class="token macro property expression operator" style="color:#393A34">=</span><span class="token macro property expression" style="color:#36acaa"> </span><span class="token macro property expression operator" style="color:#393A34">&lt;</span><span class="token macro property expression number" style="color:#36acaa">0</span><span class="token macro property expression operator" style="color:#393A34">&gt;</span><span class="token macro property expression punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	reg </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">0x0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x04500048</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x8</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;disabled&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	gmac0_phy0</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> ethernet</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">phy@</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token comment" style="color:#999988;font-style:italic">/* RTL8211F (0x001cc916) */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		reg </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		max</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">speed </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">1000</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">/* Max speed capability */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		reset</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">gpios </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">pio PH </span><span class="token number" style="color:#36acaa">19</span><span class="token plain"> GPIO_ACTIVE_LOW</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token comment" style="color:#999988;font-style:italic">/* PHY datasheet rst time */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		reset</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">assert</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">us </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">10000</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		reset</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">deassert</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">us </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">150000</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gmac0</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> gmac0@</span><span class="token number" style="color:#36acaa">4500000</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	compatible </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;allwinner,sunxi-gmac&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	reg </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">0x0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x04500000</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x10000</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">0x0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x03000030</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x4</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	interrupts </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">GIC_SPI </span><span class="token number" style="color:#36acaa">46</span><span class="token plain"> IRQ_TYPE_LEVEL_HIGH</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	interrupt</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">names </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;gmacirq&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	clocks </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ccu CLK_GMAC0</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ccu CLK_GMAC0_25M</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	clock</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">names </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;gmac&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;phy25m&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	resets </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ccu RST_BUS_GMAC0</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	phy</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">handle </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">gmac0_phy0</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;disabled&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>compatible</code> 表征具体的设备，用于驱动和设备的绑定；</li>
<li><code>reg</code> 设备使用的地址；</li>
<li><code>interrupts</code> 设备使用的中断；</li>
<li><code>clocks</code> 设备使用的时钟；</li>
<li><code>status</code> 是否使能该设备节点；</li>
<li><code>phy-handle</code> phy器件句柄；</li>
<li>phy子节点配置（<em><strong>注：更换PHY器件需要更改此属性</strong></em>）：<!-- -->
<ul>
<li><code>reg</code> 表征phy地址，</li>
<li><code>max-speed</code> 表征phy的最大速率，</li>
<li><code>reset-gpios</code> 表征phy硬件复位的引脚，</li>
<li><code>reset-assert-us</code> 硬件复位拉低时间，</li>
<li><code>reset-deassert-us</code> 硬件复位拉</li>
</ul>
</li>
</ul>
<p>板级设备树配置：</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">mdio0 </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;okay&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">gmac0 </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	phy</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">mode      </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;rgmii&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	pinctrl</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">names </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;default&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sleep&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	pinctrl</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">0</span><span class="token plain">     </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">gmac0_pins_default</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	pinctrl</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token plain">     </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">gmac0_pins_sleep</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	sunxi</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">phy</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">clk</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	tx</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">delay      </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">3</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	rx</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">delay      </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">4</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	gmac3v3</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">supply </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">reg_cldo3</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;okay&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>phy-mode</code> GMAC与PHY之间的物理接口，如MII、RMII、RGMII等；</li>
<li><code>pinctrl-0</code> 设备active状态下的GPIO配置；</li>
<li><code>sunxi,phy-clk-type</code> 配置phy使用的时钟，0表示使用soc内置的25 M 时钟；</li>
<li><code>tx-delay</code> tx时钟延迟，tx-delay取值0-7，一档约536 ps（皮秒）；</li>
<li><code>rx-delay</code> rx时钟 延迟，rx-delay取值0-31，一档约186 ps（皮秒）；</li>
<li><code>gmac3v3-supply</code> gmac电源脚，根据实际情况配置；</li>
<li><code>status</code> 是否使能该设备节点。</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="gmac-200-配置说明">GMAC-200 配置说明<a class="hash-link" aria-label="GMAC-200 配置说明的直接链接" title="GMAC-200 配置说明的直接链接" href="/linux-manual/sdk-develop/bsp-driver/gmac#gmac-200-配置说明">​</a></h4>
<p>GMAC-200 控制器描述如下，其支持标准更新更丰富，其使用的是内核标准 stmmac 驱动。</p>
<p><img decoding="async" loading="lazy" alt="image-20240531202703980" src="/assets/images/image-20240531202703980-753cf9c819e1b59dabb131a308c96c49.png" width="902" height="1132" class="img_ev3q"></p>
<p>内核配置项目为：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">CONFIG_AW_STMMAC_ETH</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>设备树配置项目：</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">gmac1</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> ethernet@</span><span class="token number" style="color:#36acaa">4510000</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	compatible </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;allwinner,sunxi-gmac-200&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;snps,dwmac-4.20a&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	reg </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">0x0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x04510000</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x10000</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">0x0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x03000034</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x4</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	interrupts </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">GIC_SPI </span><span class="token number" style="color:#36acaa">47</span><span class="token plain"> IRQ_TYPE_LEVEL_HIGH</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	interrupt</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">names </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;macirq&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	clocks </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ccu CLK_GMAC1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ccu CLK_GMAC1_MBUS_GATE</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ccu CLK_GMAC1_25M</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	clock</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">names </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;stmmaceth&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;pclk&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;phy25m&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	resets </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ccu RST_BUS_GMAC1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	reset</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">names </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;stmmaceth&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	phy</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">handle </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">gmac1_phy0</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;disabled&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	snps</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">fixed</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">burst</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	snps</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">axi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">gmac1_stmmac_axi_setup</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	snps</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">mtl</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">rx</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">gmac1_mtl_rx_setup</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	snps</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">mtl</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">tx</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">gmac1_mtl_tx_setup</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	gmac1_stmmac_axi_setup</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> stmmac</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">axi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">config </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		snps</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">wr_osr_lmt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">0xf</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		snps</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">rd_osr_lmt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">0xf</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		snps</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">blen </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">256</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">128</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">64</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">32</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	gmac1_mtl_rx_setup</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> rx</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">queues</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">config </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		snps</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">rx</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">queues</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">to</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">use </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		queue0 </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	gmac1_mtl_tx_setup</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> tx_queues</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">config </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		snps</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">tx</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">queues</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">to</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">use </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		queue0 </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	mdio1</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> mdio1@</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		compatible </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;snps,dwmac-mdio&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">address</span><span class="token macro property expression operator" style="color:#393A34">-</span><span class="token macro property expression" style="color:#36acaa">cells </span><span class="token macro property expression operator" style="color:#393A34">=</span><span class="token macro property expression" style="color:#36acaa"> </span><span class="token macro property expression operator" style="color:#393A34">&lt;</span><span class="token macro property expression number" style="color:#36acaa">1</span><span class="token macro property expression operator" style="color:#393A34">&gt;</span><span class="token macro property expression punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">size</span><span class="token macro property expression operator" style="color:#393A34">-</span><span class="token macro property expression" style="color:#36acaa">cells </span><span class="token macro property expression operator" style="color:#393A34">=</span><span class="token macro property expression" style="color:#36acaa"> </span><span class="token macro property expression operator" style="color:#393A34">&lt;</span><span class="token macro property expression number" style="color:#36acaa">0</span><span class="token macro property expression operator" style="color:#393A34">&gt;</span><span class="token macro property expression punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		gmac1_phy0</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> ethernet</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">phy@</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			compatible </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ethernet-phy-ieee802.3-c22&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			reg </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">0x1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			max</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">speed </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">1000</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">/* Max speed capability */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			reset</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">gpios </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">pio PJ </span><span class="token number" style="color:#36acaa">27</span><span class="token plain"> GPIO_ACTIVE_LOW</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token comment" style="color:#999988;font-style:italic">/* PHY datasheet rst time */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			reset</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">assert</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">us </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">10000</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			reset</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">deassert</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">us </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">150000</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>compatible</code>: 表征具体的设备,用于驱动和设备的绑定；</li>
<li><code>reg</code>: 设备使用的地址；</li>
<li><code>interrupts</code>: 设备使用的中断；</li>
<li><code>clocks</code>: 设备使用的时钟；</li>
<li><code>status</code>: 是否使能该设备节点；</li>
<li><code>phy-handle</code>: phy器件句柄；</li>
<li>phy子节点配置（<em><strong>注：更换PHY器件需要更改此属性</strong></em>）：<!-- -->
<ul>
<li><code>reg</code>: 表征phy地址，</li>
<li><code>max-speed</code>: 表征phy的最大速率，</li>
<li><code>reset-gpios</code>: 表征phy硬件复位的引脚，</li>
<li><code>reset-assert-us</code>: 硬件复位拉低时间，</li>
<li><code>reset-deassert-us</code>: 硬件复位拉高时间；</li>
</ul>
</li>
<li><code>snps,axi-config</code>: AXI总线模式参数；</li>
<li><code>snps,mtl-rx-config</code>: rx队列参数；</li>
<li><code>snps,mtl-tx-config</code>: tx队列参数。</li>
</ul>
<p>板级设备树配置：</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">gmac1 </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	phy</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">mode </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;rgmii&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	pinctrl</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">names </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;default&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sleep&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	pinctrl</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">gmac1_pins_default</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	pinctrl</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">gmac1_pins_sleep</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	aw</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">soc</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">phy25m</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	tx</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">delay </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">3</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	rx</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">delay </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">4</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	dwmac3v3</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">supply </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">reg_cldo3</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;okay&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	mdio1</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> mdio1@</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		gmac1_phy0</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> ethernet</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">phy@</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			reset</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">gpios </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">pio PI </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"> GPIO_ACTIVE_LOW</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>phy-mode</code>: GMAC与PHY之间的物理接口，如MII、RMII、RGMII等；</li>
<li><code>pinctrl-0</code>: 设备active状态下的GPIO配置；</li>
<li><code>aw,soc-phy25m</code>: 属性表示使用SOC供的25M时钟给PHY；</li>
<li><code>tx-delay</code>: tx时钟延迟，tx-delay取值0-7，一档约536 ps（皮秒）；</li>
<li><code>rx-delay</code>: rx时钟延迟，rx-delay取值0-31，一档约186 ps（皮秒）；</li>
<li><code>dwmac3v3-supply</code>: gmac-200电源脚，根据实际情况配置；</li>
<li><code>status</code>: 是否使能该设备节点。</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="调试说明">调试说明<a class="hash-link" aria-label="调试说明的直接链接" title="调试说明的直接链接" href="/linux-manual/sdk-develop/bsp-driver/gmac#调试说明">​</a></h2>
<p>常用以太网调试的软件包：</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ifconfig">ifconfig<a class="hash-link" aria-label="ifconfig的直接链接" title="ifconfig的直接链接" href="/linux-manual/sdk-develop/bsp-driver/gmac#ifconfig">​</a></h3>
<p>使用<code>ifconfig -h</code>查看支持的参数，如下所示：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/ # ifconfig -h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Usage:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ifconfig [-a] [-v] [-s] &lt;interface&gt; [[&lt;AF&gt;] &lt;address&gt;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [add &lt;address&gt;[/&lt;prefixlen&gt;]]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [del &lt;address&gt;[/&lt;prefixlen&gt;]]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [[-]broadcast [&lt;address&gt;]]  [[-]pointopoint [&lt;address&gt;]]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [netmask &lt;address&gt;]  [dstaddr &lt;address&gt;]  [tunnel &lt;address&gt;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [outfill &lt;NN&gt;] [keepalive &lt;NN&gt;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [hw &lt;HW&gt; &lt;address&gt;]  [mtu &lt;NN&gt;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [[-]trailers]  [[-]arp]  [[-]allmulti]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [multicast]  [[-]promisc]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [mem_start &lt;NN&gt;]  [io_addr &lt;NN&gt;]  [irq &lt;NN&gt;]  [media &lt;type&gt;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [txqueuelen &lt;NN&gt;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [[-]dynamic]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [up|down] ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;HW&gt;=Hardware Type.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  List of possible hardware types:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    loop (Local Loopback) slip (Serial Line IP) cslip (VJ Serial Line IP)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    slip6 (6-bit Serial Line IP) cslip6 (VJ 6-bit Serial Line IP) adaptive (Adaptive Serial Line IP)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ash (Ash) ether (Ethernet) ax25 (AMPR AX.25)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    netrom (AMPR NET/ROM) rose (AMPR ROSE) tunnel (IPIP Tunnel)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ppp (Point-to-Point Protocol) hdlc ((Cisco)-HDLC) lapb (LAPB)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    arcnet (ARCnet) dlci (Frame Relay DLCI) frad (Frame Relay Access Device)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sit (IPv6-in-IPv4) fddi (Fiber Distributed Data Interface) hippi (HIPPI)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    irda (IrLAP) x25 (generic X.25) infiniband (InfiniBand)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    eui64 (Generic EUI-64)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;AF&gt;=Address family. Default: inet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  List of possible address families:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    unix (UNIX Domain) inet (DARPA Internet) inet6 (IPv6)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ax25 (AMPR AX.25) netrom (AMPR NET/ROM) rose (AMPR ROSE)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ipx (Novell IPX) ddp (Appletalk DDP) ash (Ash)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    x25 (CCITT X.25)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>-a：显示全部接口信息；</li>
<li>-s：显示摘要信息；</li>
</ul>
<p><img decoding="async" loading="lazy" alt="显示摘要信息" src="data:image/png;base64,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" width="655" height="138" class="img_ev3q"></p>
<ul>
<li>add/del：添加对应网口的ipv6地址；</li>
</ul>
<p><img decoding="async" loading="lazy" alt="添加ipv6地址" src="/assets/images/13-e3cf832815e6189e0db5aaf2079d2108.png" width="705" height="241" class="img_ev3q"></p>
<ul>
<li>netmask：设置子网掩码；</li>
</ul>
<p><img decoding="async" loading="lazy" alt="设置子网掩码" src="/assets/images/14-85e927c7d28c182c2402d6ead5d87e2f.png" width="679" height="178" class="img_ev3q"></p>
<ul>
<li>hw：设置mac地址；</li>
</ul>
<p><img decoding="async" loading="lazy" alt="设置mac地址" src="data:image/png;base64,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" width="585" height="154" class="img_ev3q"></p>
<ul>
<li>arp：打开或者关闭对应网口是否支持arp功能，如下图所示，关闭arp协议，ping不通，打开之后就可以ping通；</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20240531202454733" src="/assets/images/image-20240531202454733-6f88ef81d36a7e4766a574014dc7b6f1.png" width="956" height="316" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="route">route<a class="hash-link" aria-label="route的直接链接" title="route的直接链接" href="/linux-manual/sdk-develop/bsp-driver/gmac#route">​</a></h3>
<p>设置和查看路由表都可以用 route 命令，设置内核路由表的命令格式是：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># route  [add|del] [-net|-host] target [netmask Nm] [gw Gw] [[dev] If]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>其中：</p>
<ul>
<li>add：添加一条路由规则；</li>
<li>del：删除一条路由规则；</li>
<li>-net：目的地址是一个网络；</li>
<li>-host：目的地址是一个主机；</li>
<li>target：目的网络或主机；</li>
<li>netmask：目的地址的网络掩码；</li>
<li>gw：路由数据包通过的网关；</li>
<li>dev：为路由指定的网络接口。</li>
</ul>
<p>示例：</p>
<p><img decoding="async" loading="lazy" alt="添加路由表" src="/assets/images/11-dd56e0aeeea03f762447d213b0e3f6a1.png" width="956" height="316" class="img_ev3q"></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">route add -host 192.168.200.9 dev eth0 #添加eth0的目的地址为192.168.200.9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">route add -host 192.168.200.9 gw 192.168.200.1 #添加到目的地址192.168.200.9经过网关192.168.200.1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mii_reg">mii_reg<a class="hash-link" aria-label="mii_reg的直接链接" title="mii_reg的直接链接" href="/linux-manual/sdk-develop/bsp-driver/gmac#mii_reg">​</a></h3>
<p><code>mii_reg</code> 工具是GMAC驱动中提供的调试节点，其主要作用是对外部PHY寄存器地址进行读写操作。</p>
<p>启动网卡：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ifconfig eth0 up</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>进入操作目录：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd sys/devices/platform/soc@3000000/450000.eth</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>注：不同的目录可能会因板卡不同有差异，此处为大致路径。</p>
<p>读取对应的phy寄存器：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">addr: PHY地址</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">reg: PHY寄存器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">val: 数据</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>写操作：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">echo addr reg val &gt; mii_write; cat mii_write</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">eg:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo 0x00 0x1f 0xa43 &gt; mii_write; cat mii_write</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>读操作：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">echo addr reg &gt; mii_read; cat mii_read</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">eg:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo 0x10 0x06 &gt; mii_read; cat mii_read</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>一次读多位寄存器操作: 0x01~0x0a</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cat mii_reg</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>udhcpc</code></li>
<li><code>ethtool</code></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="常用测试方法">常用测试方法<a class="hash-link" aria-label="常用测试方法的直接链接" title="常用测试方法的直接链接" href="/linux-manual/sdk-develop/bsp-driver/gmac#常用测试方法">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="查看网络设备信息">查看网络设备信息<a class="hash-link" aria-label="查看网络设备信息的直接链接" title="查看网络设备信息的直接链接" href="/linux-manual/sdk-develop/bsp-driver/gmac#查看网络设备信息">​</a></h4>
<ul>
<li>查看网口状态：<code>ifconfig eth0 -a</code></li>
<li>查看收发包统计：<code>cat /proc/net/dev</code></li>
<li>查看当前速率：<code>cat /sys/class/net/eth0/speed</code></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="打开关闭网 络设备">打开/关闭网络设备<a class="hash-link" aria-label="打开/关闭网络设备的直接链接" title="打开/关闭网络设备的直接链接" href="/linux-manual/sdk-develop/bsp-driver/gmac#打开关闭网络设备">​</a></h4>
<ul>
<li>打开网络设备：<code>ifconfig eth0 up</code></li>
</ul>
<p>对于 GMAC 会显示 LOG：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sunxi-gmac 4500000.gmac0 eth0: eth0: Type(9) PHY ID 001cc916 at 1 IRQ poll (4500048.mdio0-mii:01)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>对于 GMAC-200，会显示LOG：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dwmac-sunxi 4510000.ethernet eth1: PHY [stmmac-0:01] driver [Generic PHY] (irq=POLL)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dwmac-sunxi 4510000.ethernet eth1: Register MEM_TYPE_PAGE_POOL RxQ-0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dwmac4: Master AXI performs fixed burst length</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dwmac-sunxi 4510000.ethernet eth1: No Safety Features support found</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dwmac-sunxi 4510000.ethernet eth1: IEEE 1588-2008 Advanced Timestamp supported</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dwmac-sunxi 4510000.ethernet eth1: configuring for phy/rgmii link mode</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>插上网线</p>
<ul>
<li>关闭网络设备：<code>ifconfig eth0 down</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sunxi-gmac 4500000.gmac0 eth0: Link is Down</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="配置网络设备">配置网络设备<a class="hash-link" aria-label="配置网络设备的直接链接" title="配置网络设备的直接链接" href="/linux-manual/sdk-develop/bsp-driver/gmac#配置网络设备">​</a></h3>
<ul>
<li>配置静态IP地址：<code>ifconfig eth0 192.168.1.110</code></li>
<li>配置MAC地址：<code>ifconfig eth0 hw ether 00:11:22:aa:bb:cc</code></li>
<li>动态获取IP地址：<code>udhcpc -i eth0</code></li>
<li>PHY强制模式：<code>ethtool -s eth0 speed 1000 duplex full autoneg on</code>（设置1000 Mbps速率、全双工、开启自协商）</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="测试网络联通">测试网络联通<a class="hash-link" aria-label="测试网络联通的直接链接" title="测试网络联通的直接链接" href="/linux-manual/sdk-develop/bsp-driver/gmac#测试网络联通">​</a></h3>
<ul>
<li>设备连通性测试</li>
</ul>
<p>ping 对端 ip 地址，本机ip和对端ip的前三个网段需相同才能ping通。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ping 192.168.1.100</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>TCP 吞吐测试</li>
</ul>
<p>假设 Server 端 IP 为：192.168.1.100</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Server端：iperf3 -s -i 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Client端：iperf3 -c 192.168.1.100 -i 1 -t 60</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>UDP 吞吐测试</li>
</ul>
<p>假设 Server 端 IP 为：192.168.1.100</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Server端：iperf3 -s -u -i 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Client端：iperf3 -c 192.168.1.100 -u -b 1000M -i 1 -t 60</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="本地网络环路性能测试">本地网络环路性能测试<a class="hash-link" aria-label="本地网络环路性能测试的直接链接" title="本地网络环路性能测试的直接链接" href="/linux-manual/sdk-develop/bsp-driver/gmac#本地网络环路性能测试">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">iperf3 -s &amp;;iperf3 -c 127.0.0.1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="delay参数节点">delay参数节点<a class="hash-link" aria-label="delay参数节点的直接链接" title="delay参数节点的直接链接" href="/linux-manual/sdk-develop/bsp-driver/gmac#delay参数节点">​</a></h3>
<p>delay参数调试节点是GMAC驱动中提供的调整千兆RGMII接口时序的节点。</p>
<p>进入操作目录：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd /sys/devices/platform/soc/gmac/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>注：不同的目录可能会因板卡不同有差异，此处为大致路径。</p>
<p>调整rxdelay时序：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#rx_delay：val - rxdelay参数，0~31共32挡，每档将采样时间推迟约130ps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo val &gt; rx_delay; cat rx_delay</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>调整txdelay时序：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#tx_delay：val - txdelay参数，0~7共8档，每档将采样时间推迟约536ps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo val &gt; tx_delay; cat tx_delay</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="jumbo帧测试方法">jumbo帧测试方法<a class="hash-link" aria-label="jumbo帧测试方法的直接链接" title="jumbo帧测试方法的直接链接" href="/linux-manual/sdk-develop/bsp-driver/gmac#jumbo帧测试方法">​</a></h3>
<p>准备两台均支持jumbo帧的板卡直连对测。</p>
<p>步骤：</p>
<p>以千兆网卡为例；</p>
<p>（1）板卡A：<code>ifconfig eth0 mtu 8100</code>，板卡B：<code>ifconfig eth0 mtu 8100</code>（设置eth0的mtu大小为8100）；</p>
<p>（2）板卡A：<code>ifconfig eth0 192.168.200.10</code>，板卡B：<code>ifconfig eth0 192.168.200.9</code>；</p>
<p>（3）板卡A：<code>ping 192.168.200.9 -s 8000</code>（传输8000长度的数据）。</p>
<p>注：</p>
<p>（1）百兆网卡不存在带宽不足情况，一般不需要使用jumbo帧；</p>
<p>（2）百兆网卡支持的 jumbo 帧范围为1500至4000，千兆网卡支持的 jumbo 帧范围为 1500 至 8100；</p>
<p>（3）测试时两端mtu无需设置成相同大小；</p>
<p>（4）ping通即表明测试通过；</p>
<p>（5）ping传输8000长度的原因：mtu为整个以太网帧的长度，ping工具指定的长度8000为纯数据长度，不包括ICMP及以太网报头的长度。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="以太网回环测试">以太网回环测试<a class="hash-link" aria-label="以太网回环测试的直接链接" title="以太网回环测试的直接链接" href="/linux-manual/sdk-develop/bsp-driver/gmac#以太网回环测试">​</a></h3>
<p><strong>问题背景：</strong></p>
<p>以太网能正常up，但是ping不通。</p>
<p><strong>复现步骤：</strong></p>
<p>ping对端设备，例如<code>ping 192.168.200.9。</code></p>
<p><strong>问题分析：</strong></p>
<ul>
<li>PHY被设置成回环模式后，从MAC经过RMII/RGMII发送过来的数据不会再被发送到MDI上，而是在PHY内部PCS层进行回环，被回环到RGMII/RMII的接收通道，如下图所示；</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20240531200840567" src="/assets/images/image-20240531200840567-7781e9a52f21ddea744d7cbe4b479a34.png" width="373" height="182" class="img_ev3q"></p>
<ul>
<li>当设置了PHY的回环模式后，往外发包，如果小机端的rx能正常接收到数据，说明需要检查PHY到对端的硬件电路有无异常，反之需要检查RMII/RGMII接口的硬件电路有无异常；</li>
</ul>
<p><strong>测试办法：</strong></p>
<ul>
<li>通过GMAC驱动提供的节点，设置PHY的回环模式；</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd /sys/devices/platform/soc@3000000/4500000.gmac0 #注：此处为大致路径，不同版本内核路径有轻微差异</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo 2 &gt; loopback_test; cat loopback_test</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>往外ping包，观察tx和rx的增长数量是否一致，若tx和rx的增长数量一致，则需要重点排查PHY到对端的硬件电路有无异常；若不一致（例如rx收不到包或数量少于tx），则需要重点排查RMII/RGMII接口的硬件电路有无异常。</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="以太网带宽测试">以太网带宽测试<a class="hash-link" aria-label="以太网带宽测试的直接链接" title="以太网带宽测试的直接链接" href="/linux-manual/sdk-develop/bsp-driver/gmac#以太网带宽测试">​</a></h2>
<ul>
<li>对端准备一块经过验证的千兆带宽达标（&gt;=900Mbps）或百兆带宽达标的（&gt;=90Mbps）板子/PC；</li>
<li>保持测试板卡系统处于低负载状态，关闭无关DEBUG选项及不跑非原生应用；</li>
<li>将对端与测试板卡用网线直连；</li>
<li>指定双方IP地址为同一网段，例如：测试板卡 <code>ifconfig eth0 192.168.200.10</code>，对端：<code>ifconfig eth0 192.168.200.9</code>，PC的IP地址修改请参考7.2章节；</li>
<li>发送测试：对端输入<code>iperf -s -i 1</code>，测试板卡输入<code>iperf -c 192.168.200.9 -i 1 -t 60</code>；</li>
<li>接收测试：测试板卡输入<code>iperf -s -i 1</code>，对端输入<code>iperf -c 192.168.200.10 -i 1 -t 60</code>。</li>
</ul>
<p>若按照上述步骤测试后，千兆带宽不达标，可能的影响因素包括：</p>
<ul>
<li><strong>单核CPU算力：</strong> DDR频率、CPU自身算力、CPU频率、CPU的访存能力都会影响到CPU算力；</li>
<li><strong>IP差异：</strong> GMAC使用AHB总线比GMAC-200的AXI总线带宽少10~40M左右；</li>
<li><strong>系统负载：</strong> 以太网性能测试属于CPU消耗型任务，测试时系统需要保持在低负载的状态下，并且关闭无关的内核DEBUG选项；</li>
<li><strong>硬件信号：</strong> 硬件信号时序（保证建立保持时间最优，请使用7.4章节节点调试），硬件信号质量；</li>
<li><strong>对端的发送与接收能力：</strong> 以太网测试时确保对端是经过验证的千兆带宽达标的平台；</li>
<li><strong>总线抢占：</strong> 其他模块抢占GMAC的AHB总线及新GMAC的AXI总线带宽；</li>
<li><strong>中断抢占及调度抢占：</strong> Android固件建议在测试时把GMAC中断放在单独的核上（比如大核，命令例如：<code>echo f0 &gt; /proc/irq/498/smp_affinity</code>，注：498是指GMAC的中断号，具体请以实际平台为准），Linux固件由于场景简单，一般无此需求。</li>
</ul>
<p>注：</p>
<ul>
<li>为什么要使用一块经过验证千兆带宽达标的板子直连对测；<!-- -->
<ul>
<li>千兆达标的板子：对端的带宽吞吐能力会直接影响到测试板卡的吞吐；</li>
<li>直连对测：避免引入无关因素，比如路由器的吞吐能力；</li>
</ul>
</li>
<li>若测试千兆请使用<strong>千兆网线；</strong></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="常见问题">常见问题<a class="hash-link" aria-label="常见问题的直接链接" title="常见问题的直接链接" href="/linux-manual/sdk-develop/bsp-driver/gmac#常见问题">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ifconfig命令无eth0节点">ifconfig命令无eth0节点<a class="hash-link" aria-label="ifconfig命令无eth0节点的直接链接" title="ifconfig命令无eth0节点的直接链接" href="/linux-manual/sdk-develop/bsp-driver/gmac#ifconfig命令无eth0节点">​</a></h3>
<p><strong>问题现象</strong></p>
<p>执行ifconfig eth0无相关log信息。</p>
<p><strong>常见原因</strong></p>
<p>以太网模块配置未打开或存在GPIO冲突。</p>
<p><strong>排查步骤：</strong></p>
<p>（1）抓取内核启动log，检查驱动probe是否成功；</p>
<p>（2）如果无驱动相关打印，请确认以太网基本配置是否打开；</p>
<p>（3）如果驱动probe失败，请log定位具体原  因，常见原因是GPIO冲突导致。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="网络不通或网络丢包">网络不通或网络丢包<a class="hash-link" aria-label="网络不通或网络丢包的直接链接" title="网络不通或网络丢包的直接链接" href="/linux-manual/sdk-develop/bsp-driver/gmac#网络不通或网络丢包">​</a></h3>
<p><strong>问题现象：</strong></p>
<p>ping不通对端设备、无法动态获取ip地址或有丢包现象。</p>
<p><strong>问题分析：</strong></p>
<p>一般原因是tx/rx通路不通</p>
<p><strong>排查步骤：</strong></p>
<p>（1）检查 <code>ifconfig eth0 up</code> 是否正常；</p>
<p>（2）检查 <code>eth0</code> 能否动态获取 <code>IP</code> 地址；</p>
<p>（3）若步骤1正常，但步骤2异常，需首先确认 <code>TX/RX</code> 哪条通路不通；</p>
<p>（4）若无法动态获取 <code>IP</code> 地址，可配置静态 <code>IP</code>，和对端设备互相 <code>ping</code>，如果和电脑对测，确保防火墙不会影响测试；</p>
<p>（5）检查对端设备能否收到数据包，若能收到，则说明 <code>TX</code> 通路正常，否则 <code>TX</code> 通路异常；</p>
<p>（6）检查本地设备能否收到数据包，若能收到，则说明 <code>RX</code> 通路正常，否则 <code>RX</code> 通路异常；</p>
<p>（7）若 <code>TX</code> 通路异常，可调整 <code>tx-delay</code> 参数或对照原理图检查 <code>TX</code> 通路是否异常，如漏焊关键器件；</p>
<p>（8）若 <code>RX</code> 通路异常，可调整 <code>rx-delay</code> 参数或对照原理图检查 <code>RX</code> 通路是否异常，如漏焊关键器件；</p>
<p>（9）若经过上述排查步骤问题仍未解决，需检查 <code>PHY</code> 供电与 <code>GPIO</code> 耐压是否匹配。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="内核打印-link-is-up">内核打印 <code>Link is Up</code><a class="hash-link" aria-label="内核打印-link-is-up的直接链接" title="内核打印-link-is-up的直接链接" href="/linux-manual/sdk-develop/bsp-driver/gmac#内核打印-link-is-up">​</a></h3>
<ul>
<li>保持网线插入网口，并连接以太网功能正常的对端设备；</li>
<li><code>ifconfig up</code> 网卡后，软件会起一个 1s 的轮询机制；</li>
<li>轮询查询 <code>PHY</code> 的 <code>02</code> 寄存器的 <code>Link status</code> 标志位，若为 <code>1</code>，则根据 <code>PHY</code> 的速率/双工 更改 <code>MAC</code> 的速率/双工，并打印 <code>Link is up - xxxMbps/Full</code> ，若为 <code>0</code>，则打印 <code>Link is Down</code>；</li>
<li>只有 <code>Link status</code> 发生改变时才会打印，比如 <code>0-&gt;1</code> <code>1-&gt;0</code>；</li>
<li><code>PHY</code> 的 <code>Link status</code> 标志位是只读的，根据两端 <code>PHY</code> 的自协商情况完成置 <code>1</code>/清 <code>0</code>，若遇到频繁 <code>Up/Down</code> 的情况，请参考第六章排查硬件问题。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="找不到-phy">找不到 PHY<a class="hash-link" aria-label="找不到 PHY的直接链接" title="找不到 PHY的直接链接" href="/linux-manual/sdk-develop/bsp-driver/gmac#找不到-phy">​</a></h3>
<p>运行 <code>ifconfig eth0 up</code> 显示如下输出</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># GMAC</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ 25.506200] sunxi-gmac gmac0 eth0: Error：Could not connect to phy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># GMAC-200</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ 25.116200] dwmac-sunxi 45000000.ethernet eth0: stmmac_open: Cannot attach to PHY</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p>检查 <code>PHY</code> 是否正确初始化：确保给 <code>PHY</code> 供给了 <code>25M</code> 时钟，正确设置了 <code>PINMUX</code>，以及确保 <code>PIN BANK</code> 电压已开启（如果适用）。如果出现 <code>PHY</code> 供电异常，可以检查供电电路以确保正常工作。此外，确保在激活网卡之前给 <code>PHY</code> 做了复位操作，以确保其处于正确的状态。如果遇到问题，请参考第六章的指南来检查 <code>PHY</code> 的硬件最小系统。</p>
</li>
<li>
<p>在更换了 <code>PHY</code> 之后，要特别注意 <code>PHY</code> 地址是否发生了变化。如果 <code>PHY</code> 地址发生了变化，需要相应地更新配置文件或软件中的 <code>PHY</code> 地址。这可能涉及到重新编译驱动程序或更新设备树等操作。确保在更新后，系统能够正确识别并与新的 <code>PHY</code> 进行通信。</p>
</li>
<li>
<p>使用示波器检查 <code>PHY</code> 的 <code>25M</code> 时钟是否正常，并使用万用表检查 <code>PHY</code> 的供电情况，包括 <code>AVDD33</code>、<code>DVDDIO</code>、<code>ADVDD10OUT</code>、<code>DVDD10OUT</code> 等电压是否正常。</p>
</li>
<li>
<p>在设备树（<code>dts</code>）中配置 <code>PHY</code> 的复位引脚：请参考原理图，将复位引脚配置到设备树的 <code>phy</code> 子节点的 <code>reset-gpios</code> 属性中。</p>
</li>
<li>
<p>处理 <code>PHY</code> 地址变更：结合原理图上 <code>PHYADD</code> 相关引脚的电平，将 <code>PHY</code> 地址配置到设备树的 <code>phy</code> 子节点的 <code>reg</code> 属性中。如果无法确定 <code>PHY</code> 地址，有以下两种方法可以获取：</p>
<ul>
<li>
<p>使用<code>mii_reg</code> 工具手动读取对应地址的 <code>PHY</code> 寄存器，若能正确读取到寄存器（例如 <code>phyid</code> 寄存器），则表示 <code>PHY</code> 的地址为当前地址。</p>
</li>
<li>
<p>打开 <code>mdio</code> 驱动（<code>GMAC</code> 对应 <code>sunxi-mdio.c</code>，<code>GMAC200</code> 对应 <code>stmmac_mdio.c</code>）开头的 <code>DEBUG</code> 宏，启动日志会打印 <code>PHY</code> 地址。以 <code>GMAC-200</code> 为例，日志如下所示，<code>PHYADDR</code> 即为 <code>PHY</code> 地址，将这个值写入设备树 <code>phy</code> 子节点的 <code>reg</code> 属性中。</p>
</li>
</ul>
</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[    2.814160] dwmac-sunxi 4510000.ethernet: PHYADDR = 1, PHYID = 0x1cc916</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mac复位失败">MAC复位失败<a class="hash-link" aria-label="MAC复位失败的直接链接" title="MAC复位失败的直接链接" href="/linux-manual/sdk-develop/bsp-driver/gmac#mac复位失败">​</a></h3>
<p>运行 <code>ifconfig eth0 up</code> 显示如下输出</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># GMAC</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ 11.315214] sunxi-gmac gmac1 eth0: Error: Mac reset failed, please check phy and mac clk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># GMAC-200</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ 22.601790] dwmac-sunxi 45000000.ethernet eth0: stmmac_hw_setup: DMA engine initialization failed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ 22.611644] dwmac-sunxi 45000000.ethernet eth0: stmmac_open: Hw setup failed</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol>
<li><strong>时钟引脚方向不正确</strong>：<!-- -->
<ul>
<li>对于 <code>RMII</code> 接口，确保 <code>MAC</code> 的 <code>TXCK</code> 引脚是输入，由 <code>PHY</code> 输出该信号。</li>
<li>对于 <code>RGMII</code> 接口，确保 <code>MAC</code> 的 <code>RGMII_CLKIN</code> 是输入，由 <code>PHY</code> 输出该信号。</li>
</ul>
</li>
<li><strong>供给 <code>PHY</code> 的 <code>25M</code> 时钟偏差过大</strong>：<!-- -->
<ul>
<li>检查供给 <code>PHY</code> 的 <code>25M</code> 时钟频率是否在合理范围内（一般为 <code>25Mhz</code> ± <code>0.02Mhz</code>），请参考 <code>PHY</code> 的数据手册。</li>
<li>如果时钟频率偏差过大，可能需要调整时钟源或修复时钟信号的源头问题。</li>
</ul>
</li>
<li><strong>时钟信号频率不稳定</strong>：<!-- -->
<ul>
<li>对于 <code>RMII</code> 接口，确保回给 <code>MAC</code> 的时钟信号频率在合理范围内。对于 <code>10M</code> 和 <code>100M</code> 的速率，时钟频率应为 <code>5Mhz</code> 和 <code>50Mhz</code>；对于 <code>1000M</code> 的速率，时钟频率应为 <code>125Mhz</code>。</li>
<li>对于 <code>RGMII</code> 接口，时钟频率应为 <code>25Mhz</code>（对应 <code>100M</code> 速率）或 <code>125Mhz</code>（对应 <code>1000M</code> 速率）。</li>
<li>如果时钟频率不稳定，可能需要检查时钟信号的源头和信号线路，确保其稳定性和质量，可能需要重新布线或者使用更稳定的时钟源。</li>
</ul>
</li>
</ol>
<p>一般情况下PHY不需要PHY驱动，走内核的通用驱动，但  某些厂商的PHY需要特殊的PHY驱动支持，如果按照通用PHY的调试方法仍无法调通，请联系PHY厂商提供资料。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="以太网phy硬件排查方法">以太网PHY硬件排查方法<a class="hash-link" aria-label="以太网PHY硬件排查方法的直接链接" title="以太网PHY硬件排查方法的直接链接" href="/linux-manual/sdk-develop/bsp-driver/gmac#以太网phy硬件排查方法">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="电源检查">电源检查<a class="hash-link" aria-label="电源检查的直接链接" title="电源检查的直接链接" href="/linux-manual/sdk-develop/bsp-driver/gmac#电源检查">​</a></h4>
<ul>
<li>电压检查：用万用表测试电压，需满足规格书要求。对于PHY，需要检查PHY的电源电压和IO供电，以RTL8211，为例，VDD与IO供电要求如下：</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20240531201752643" src="/assets/images/image-20240531201752643-a0f820e11a1e72f8824d0a1097d7317e.png" width="680" height="103" class="img_ev3q"></p>
<ul>
<li>上电时序（示波器测量）、电压值（万用表测量）满足规格书要求。</li>
<li>上电波形检查：用示波器测试电源供电和IO供电的上电波形，核对是否存在电压过冲或跌落；若有电压波动，要求不能超过规格书的电压要求的范围，否则PHY可能工作异常；</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20240531201821454" src="/assets/images/image-20240531201821454-7d1b9dc0cff525426a362f6b73cb0af1.png" width="680" height="359" class="img_ev3q"></p>
<ul>
<li>上电时序检查：根据规格书，确定PHY的上电时序是否正常；</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20240531201830160" src="/assets/images/image-20240531201830160-22cd59a8ba65a1c7f23fbf1f4e4135e7.png" width="680" height="364" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="phy-复位检查">PHY 复位检查<a class="hash-link" aria-label="PHY 复位检查的直接链接" title="PHY 复位检查的直接链接" href="/linux-manual/sdk-develop/bsp-driver/gmac#phy-复位检查">​</a></h4>
<p>用示波器测试上电波形是否满足规格书要求的Reset时序，一般要求PHYRST拉低10ms。示波器测量实际波形如下，实测PHYRSTB低电平为20.1ms，满足时序要求：</p>
<p><img decoding="async" loading="lazy" alt="image-20240531201850467" src="/assets/images/image-20240531201850467-ee5e5dbbd08779137e867a3cc611bb9e.png" width="680" height="358" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="时钟检查">时钟检查<a class="hash-link" aria-label="时钟检查的直接链接" title="时钟检查的直接链接" href="/linux-manual/sdk-develop/bsp-driver/gmac#时钟检查">​</a></h4>
<p>PHY的基准时钟一般由晶振或SOC 25M_CLK提供，用示波器测试信号是否存在，频率偏差是否过大：</p>
<p><img decoding="async" loading="lazy" alt="image-20240531201905027" src="/assets/images/image-20240531201905027-9f197c097ba311f3a7f9b9637e521ca4.png" width="680" height="364" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="外围电路配置">外围电路配置<a class="hash-link" aria-label="外围电路配置的直接链接" title="外围电路配置的直接链接" href="/linux-manual/sdk-develop/bsp-driver/gmac#外围电路配置">​</a></h4>
<p>根据PHY规格书检查电路配置，如rtl8211，其兼容了RGMII和GMII两个模式，IO电压可以配置为3.3V、2.5V、1.8V、1.5V等，需要通过外围电路配置，若配置错误，可能引起工作异常；</p>
<ul>
<li>信号检查：检查SOC端输出信号（RMII与RGMII）是否存在错接，少接的情况；</li>
<li>PHY地址检查：确认是否与软件设定相匹配；</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20240531202000631" src="/assets/images/image-20240531202000631-3cac9b5cc5569ce03d29f511c7b58bbf.png" width="589" height="370" class="img_ev3q"></p>
<ul>
<li>时钟配置以选择晶振输入或SOC 25M时钟输入；<!-- -->
<ul>
<li>其中使用PHY使用SOC时钟输入时，XTAL-IN引脚需要接GND；</li>
</ul>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20240531201943524" src="/assets/images/image-20240531201943524-d9d57440b27e53934f12b52c82d47982.png" width="680" height="122" class="img_ev3q"></p>
<ul>
<li>IO电压配置：要求SOC IO供电与PHY IO供电相匹配；</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20240531201953873" src="/assets/images/image-20240531201953873-7754b0eb1032598dcf6d8cf5e27cae4c.png" width="613" height="369" class="img_ev3q"></p>
<ul>
<li>参考时钟配置：以RTL8201为例，REF_CLK 下拉，表示时钟输出;</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20240531202010960" src="/assets/images/image-20240531202010960-4ab90e72ce2268402ac7718d0f547964.png" width="680" height="307" class="img_ev3q"></p>
<ul>
<li>模式配置：以RTL8201为例，可以配置RMII 或 MII两个2模式，SOC一般只支持RMII/RGMII两种，需要配置RMII/RGMII</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20240531202023514" src="/assets/images/image-20240531202023514-587b4bc2b7c8e38d9c92f66599e81047.png" width="680" height="218" class="img_ev3q"></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/linux-manual/sdk-develop/bsp-driver/ce"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Crypto Engine - 算法引擎</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/linux-manual/sdk-develop/bsp-driver/gpio"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">GPIO - Pinctrl 子系统</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/linux-manual/sdk-develop/bsp-driver/gmac#模块配置">模块配置</a><ul><li><a class="table-of-contents__link toc-highlight" href="/linux-manual/sdk-develop/bsp-driver/gmac#kernel-协议栈配置">Kernel 协议栈配置</a></li><li><a class="table-of-contents__link toc-highlight" href="/linux-manual/sdk-develop/bsp-driver/gmac#kernel-驱动配置">Kernel 驱动配置</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/linux-manual/sdk-develop/bsp-driver/gmac#调试说明">调试说明</a><ul><li><a class="table-of-contents__link toc-highlight" href="/linux-manual/sdk-develop/bsp-driver/gmac#ifconfig">ifconfig</a></li><li><a class="table-of-contents__link toc-highlight" href="/linux-manual/sdk-develop/bsp-driver/gmac#route">route</a></li><li><a class="table-of-contents__link toc-highlight" href="/linux-manual/sdk-develop/bsp-driver/gmac#mii_reg">mii_reg</a></li><li><a class="table-of-contents__link toc-highlight" href="/linux-manual/sdk-develop/bsp-driver/gmac#常用测试方法">常用测试方法</a></li><li><a class="table-of-contents__link toc-highlight" href="/linux-manual/sdk-develop/bsp-driver/gmac#配置网络设备">配置网络设备</a></li><li><a class="table-of-contents__link toc-highlight" href="/linux-manual/sdk-develop/bsp-driver/gmac#测试网络联通">测试网络联通</a></li><li><a class="table-of-contents__link toc-highlight" href="/linux-manual/sdk-develop/bsp-driver/gmac#本地网络环路性能测试">本地网络环路性能测试</a></li><li><a class="table-of-contents__link toc-highlight" href="/linux-manual/sdk-develop/bsp-driver/gmac#delay参数节点">delay参数节点</a></li><li><a class="table-of-contents__link toc-highlight" href="/linux-manual/sdk-develop/bsp-driver/gmac#jumbo帧测试方法">jumbo帧测试方法</a></li><li><a class="table-of-contents__link toc-highlight" href="/linux-manual/sdk-develop/bsp-driver/gmac#以太网回环测试">以太网回环测试</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/linux-manual/sdk-develop/bsp-driver/gmac#以太网带宽测试">以太网带宽测试</a></li><li><a class="table-of-contents__link toc-highlight" href="/linux-manual/sdk-develop/bsp-driver/gmac#常见问题">常见问题</a><ul><li><a class="table-of-contents__link toc-highlight" href="/linux-manual/sdk-develop/bsp-driver/gmac#ifconfig命令无eth0节点">ifconfig命令无eth0节点</a></li><li><a class="table-of-contents__link toc-highlight" href="/linux-manual/sdk-develop/bsp-driver/gmac#网络不通或网络丢包">网络不通或网络丢包</a></li><li><a class="table-of-contents__link toc-highlight" href="/linux-manual/sdk-develop/bsp-driver/gmac#内核打印-link-is-up">内核打印 <code>Link is Up</code></a></li><li><a class="table-of-contents__link toc-highlight" href="/linux-manual/sdk-develop/bsp-driver/gmac#找不到-phy">找不到 PHY</a></li><li><a class="table-of-contents__link toc-highlight" href="/linux-manual/sdk-develop/bsp-driver/gmac#mac复位失败">MAC复位失败</a></li><li><a class="table-of-contents__link toc-highlight" href="/linux-manual/sdk-develop/bsp-driver/gmac#以太网phy硬件排查方法">以太网PHY硬件排查方法</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © AvaotaSBC Team. 2024. Built BUILDCOMMIT with Docusaurus.</div></div></div></footer></div>
</body>
</html>